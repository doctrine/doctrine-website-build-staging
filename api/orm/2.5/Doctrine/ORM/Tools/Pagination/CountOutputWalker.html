<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Doctrine\ORM\Tools\Pagination\CountOutputWalker | API</title>

            <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/sami.css">
        <script src="../../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../../js/bootstrap.min.js"></script>
        <script src="../../../../js/typeahead.min.js"></script>
        <script src="../../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Doctrine_ORM_Tools_Pagination_CountOutputWalker" data-root-path="../../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../../classes.html">Classes</a></li>
                                            <li><a href="../../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../../traits.html">Traits</a></li>
                    <li><a href="../../../../doc-index.html">Index</a></li>
                    <li><a href="../../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../../Doctrine.html">Doctrine</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ORM.html">ORM</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ORM/Tools.html">Tools</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ORM/Tools/Pagination.html">Pagination</a></li><li class="backslash">\</li><li>CountOutputWalker</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            CountOutputWalker
                
        </h1>
    </div>

    <p>    class
    <strong>CountOutputWalker</strong>        extends <abbr title="Doctrine\ORM\Query\SqlWalker">SqlWalker</abbr>
</p>

        
    

            <div class="description">
            <p>Wraps the query in order to accurately count the root objects.</p>            <p>Given a DQL like <code>SELECT u FROM User u</code> it will generate an SQL query like:
SELECT COUNT(*) (SELECT DISTINCT <id> FROM (<original SQL>))</p>

<p>Works with composite keys but cannot deal with queries that have multiple
root entities (e.g. <code>SELECT f, b from Foo, Bar</code>)</p>                    </div>
    
    
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<abbr title="Doctrine\ORM\AbstractQuery">AbstractQuery</abbr> $query, <a href="../../../../Doctrine/ORM/Query/ParserResult.html"><abbr title="Doctrine\ORM\Query\ParserResult">ParserResult</abbr></a> $parserResult, array $queryComponents)
        
                                            <p>Stores various parameters that are otherwise unavailable
because Doctrine\ORM\Query\SqlWalker keeps everything private without
accessors.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_walkSelectStatement">walkSelectStatement</a>(<a href="../../../../Doctrine/ORM/Query/AST/SelectStatement.html"><abbr title="Doctrine\ORM\Query\AST\SelectStatement">SelectStatement</abbr></a> $AST)
        
                                            <p>Walks down a SelectStatement AST node, wrapping it in a COUNT (SELECT DISTINCT).</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at         line 51</div>
        <code>                    
    <strong>__construct</strong>(<abbr title="Doctrine\ORM\AbstractQuery">AbstractQuery</abbr> $query, <a href="../../../../Doctrine/ORM/Query/ParserResult.html"><abbr title="Doctrine\ORM\Query\ParserResult">ParserResult</abbr></a> $parserResult, array $queryComponents)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Stores various parameters that are otherwise unavailable
because Doctrine\ORM\Query\SqlWalker keeps everything private without
accessors.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Doctrine\ORM\AbstractQuery">AbstractQuery</abbr></td>
                <td>$query</td>
                <td>The parsed Query.</td>
            </tr>
                    <tr>
                <td><a href="../../../../Doctrine/ORM/Query/ParserResult.html"><abbr title="Doctrine\ORM\Query\ParserResult">ParserResult</abbr></a></td>
                <td>$parserResult</td>
                <td>The result of the parsing process.</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$queryComponents</td>
                <td>The query components (symbol table).</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_walkSelectStatement">
        <div class="location">at         line 71</div>
        <code>                    string
    <strong>walkSelectStatement</strong>(<a href="../../../../Doctrine/ORM/Query/AST/SelectStatement.html"><abbr title="Doctrine\ORM\Query\AST\SelectStatement">SelectStatement</abbr></a> $AST)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Walks down a SelectStatement AST node, wrapping it in a COUNT (SELECT DISTINCT).</p>                    <p>Note that the ORDER BY clause is not removed. Many SQL implementations (e.g. MySQL)
are able to cache subqueries. By keeping the ORDER BY clause intact, the limitSubQuery
that will most likely be executed next can be read from the native SQL cache.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../../Doctrine/ORM/Query/AST/SelectStatement.html"><abbr title="Doctrine\ORM\Query\AST\SelectStatement">SelectStatement</abbr></a></td>
                <td>$AST</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>The SQL.</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a target="_blank" href="http://php.net/RuntimeException">RuntimeException</a></td>
                <td></td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
