<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Doctrine\DBAL\Migrations\Version | API</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/sami.css">
        <script src="../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/typeahead.min.js"></script>
        <script src="../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Doctrine_DBAL_Migrations_Version" data-root-path="../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../Doctrine.html">Doctrine</a></li><li class="backslash">\</li><li><a href="../../../Doctrine/DBAL.html">DBAL</a></li><li class="backslash">\</li><li><a href="../../../Doctrine/DBAL/Migrations.html">Migrations</a></li><li class="backslash">\</li><li>Version</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            Version
                
        </h1>
    </div>

    <p>    class
    <strong>Version</strong>        (<a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php">View source</a>)
</p>

        
    

            <div class="description">
            <p>Class which wraps a migration version and allows execution of the
individual migration version up or down method.</p>                                </div>
    
    
            <h2>Constants</h2>

            <table class="table table-condensed">
                    <tr>
                <td>STATE_NONE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>STATE_PRE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>STATE_EXEC</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>STATE_POST</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>DIRECTION_UP</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>DIRECTION_DOWN</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a> $configuration, $version, $class, <a href="../../../Doctrine/DBAL/Migrations/Provider/SchemaDiffProviderInterface.html"><abbr title="Doctrine\DBAL\Migrations\Provider\SchemaDiffProviderInterface">SchemaDiffProviderInterface</abbr></a> $schemaProvider = null)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getVersion">getVersion</a>()
        
                                            <p>Returns the string version in the format YYYYMMDDHHMMSS</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getConfiguration">getConfiguration</a>()
        
                                            <p>Returns the Migrations Configuration object instance</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_isMigrated">isMigrated</a>()
        
                                            <p>Check if this version has been migrated or not.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_markMigrated">markMigrated</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_markNotMigrated">markNotMigrated</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_addSql">addSql</a>(array|string $sql, array $params = [], array $types = [])
        
                                            <p>Add some SQL queries to this versions migration</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_writeSqlFile">writeSqlFile</a>(string $path, string $direction = self::DIRECTION_UP)
        
                                            <p>Write a migration SQL file to the given path</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../Doctrine/DBAL/Migrations/AbstractMigration.html"><abbr title="Doctrine\DBAL\Migrations\AbstractMigration">AbstractMigration</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getMigration">getMigration</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_execute">execute</a>(string $direction, boolean $dryRun = false, boolean $timeAllQueries = false)
        
                                            <p>Execute this migration version up or down and and return the SQL.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getExecutionState">getExecutionState</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    integer
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getTime">getTime</a>()
        
                                            <p>Returns the time this migration version took to execute</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___toString">__toString</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L89">line 89</a></div>
        <code>                    
    <strong>__construct</strong>(<a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a> $configuration, $version, $class, <a href="../../../Doctrine/DBAL/Migrations/Provider/SchemaDiffProviderInterface.html"><abbr title="Doctrine\DBAL\Migrations\Provider\SchemaDiffProviderInterface">SchemaDiffProviderInterface</abbr></a> $schemaProvider = null)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a></td>
                <td>$configuration</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$version</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$class</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../Doctrine/DBAL/Migrations/Provider/SchemaDiffProviderInterface.html"><abbr title="Doctrine\DBAL\Migrations\Provider\SchemaDiffProviderInterface">SchemaDiffProviderInterface</abbr></a></td>
                <td>$schemaProvider</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getVersion">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L115">line 115</a></div>
        <code>                    string
    <strong>getVersion</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Returns the string version in the format YYYYMMDDHHMMSS</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>$version</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getConfiguration">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L125">line 125</a></div>
        <code>                    <a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a>
    <strong>getConfiguration</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Returns the Migrations Configuration object instance</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../Doctrine/DBAL/Migrations/Configuration/Configuration.html"><abbr title="Doctrine\DBAL\Migrations\Configuration\Configuration">Configuration</abbr></a></td>
            <td>$configuration</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_isMigrated">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L135">line 135</a></div>
        <code>                    boolean
    <strong>isMigrated</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Check if this version has been migrated or not.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_markMigrated">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L140">line 140</a></div>
        <code>                    
    <strong>markMigrated</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_markNotMigrated">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L156">line 156</a></div>
        <code>                    
    <strong>markNotMigrated</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_addSql">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L168">line 168</a></div>
        <code>                    
    <strong>addSql</strong>(array|string $sql, array $params = [], array $types = [])
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Add some SQL queries to this versions migration</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array|string</td>
                <td>$sql</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$types</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_writeSqlFile">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L206">line 206</a></div>
        <code>                    boolean
    <strong>writeSqlFile</strong>(string $path, string $direction = self::DIRECTION_UP)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Write a migration SQL file to the given path</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$path</td>
                <td>The path to write the migration SQL file.</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$direction</td>
                <td>The direction to execute.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>$written</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../Doctrine/DBAL/Migrations/MigrationException.html"><abbr title="Doctrine\DBAL\Migrations\MigrationException">MigrationException</abbr></a></td>
                <td></td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMigration">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L229">line 229</a></div>
        <code>                    <a href="../../../Doctrine/DBAL/Migrations/AbstractMigration.html"><abbr title="Doctrine\DBAL\Migrations\AbstractMigration">AbstractMigration</abbr></a>
    <strong>getMigration</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../Doctrine/DBAL/Migrations/AbstractMigration.html"><abbr title="Doctrine\DBAL\Migrations\AbstractMigration">AbstractMigration</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_execute">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L249">line 249</a></div>
        <code>                    array
    <strong>execute</strong>(string $direction, boolean $dryRun = false, boolean $timeAllQueries = false)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Execute this migration version up or down and and return the SQL.</p>                    <p>We are only allowing the addSql call and the schema modification to take effect in the up and down call.
This is necessary to ensure that the migration is revertable.
The schema is passed to the pre and post method only to be able to test the presence of some table, And the
connection that can get used trough it allow for the test of the presence of records.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$direction</td>
                <td>The direction to execute the migration.</td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$dryRun</td>
                <td>Whether to not actually execute the migration SQL and just do a dry run.</td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$timeAllQueries</td>
                <td>Measuring or not the execution time of each SQL query.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>$sql</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a target="_blank" href="http://php.net/Exception">Exception</a></td>
                <td>when migration fails</td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getExecutionState">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L354">line 354</a></div>
        <code>                    
    <strong>getExecutionState</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getTime">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L383">line 383</a></div>
        <code>                    integer
    <strong>getTime</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Returns the time this migration version took to execute</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>integer</td>
            <td>$time The time this migration version took to execute</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method___toString">
        <div class="location">at         <a href="https://github.com/doctrine/migrations/blob/master/lib/Doctrine/DBAL/Migrations/Version.php#L388">line 388</a></div>
        <code>                    
    <strong>__toString</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
