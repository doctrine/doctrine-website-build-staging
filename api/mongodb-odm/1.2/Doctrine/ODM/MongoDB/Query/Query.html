<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Doctrine\ODM\MongoDB\Query\Query | API</title>

            <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/sami.css">
        <script src="../../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../../js/bootstrap.min.js"></script>
        <script src="../../../../js/typeahead.min.js"></script>
        <script src="../../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Doctrine_ODM_MongoDB_Query_Query" data-root-path="../../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../../classes.html">Classes</a></li>
                                            <li><a href="../../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../../traits.html">Traits</a></li>
                    <li><a href="../../../../doc-index.html">Index</a></li>
                    <li><a href="../../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../../Doctrine.html">Doctrine</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ODM.html">ODM</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ODM/MongoDB.html">MongoDB</a></li><li class="backslash">\</li><li><a href="../../../../Doctrine/ODM/MongoDB/Query.html">Query</a></li><li class="backslash">\</li><li>Query</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            Query
                
        </h1>
    </div>

    <p>    class
    <strong>Query</strong>        extends <abbr title="Doctrine\MongoDB\Query\Query">Query</abbr>        (<a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php">View source</a>)
</p>

        
    

            <div class="description">
            <p>ODM Query wraps the raw Doctrine MongoDB queries to add additional functionality
and to hydrate the raw arrays of data to Doctrine document objects.</p>                                </div>
    
    
            <h2>Constants</h2>

            <table class="table table-condensed">
                    <tr>
                <td>HINT_REFRESH</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>HINT_SLAVE_OKAY</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>HINT_READ_PREFERENCE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>HINT_READ_PREFERENCE_TAGS</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>HINT_READ_ONLY</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a> $dm, <a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a> $class, <abbr title="Doctrine\MongoDB\Collection">Collection</abbr> $collection, array $query = array(), array $options = array(), boolean $hydrate = true, boolean $refresh = false, array $primers = array(), null $requireIndexes = null, boolean $readOnly = false)
        
                                            <p>Constructor.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getDocumentManager">getDocumentManager</a>()
        
                                            <p>Gets the DocumentManager instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getClass">getClass</a>()
        
                                            <p>Gets the ClassMetadata instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setHydrate">setHydrate</a>(boolean $hydrate)
        
                                            <p>Sets whether or not to hydrate the documents to objects.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setReadOnly">setReadOnly</a>(boolean $readOnly)
        
                                            <p>Set whether documents should be registered in UnitOfWork. If document would
already be managed it will be left intact and new instance returned.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setRefresh">setRefresh</a>(boolean $refresh)
        
                                            <p>Set whether to refresh hydrated documents that are already in the
identity map.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getFieldsInQuery">getFieldsInQuery</a>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small>
                                            <p>Gets the fields involved in this query.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_isIndexed">isIndexed</a>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small>
                                            <p>Check if this query is indexed.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getUnindexedFields">getUnindexedFields</a>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small>
                                            <p>Gets an array of the unindexed fields in this query.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    mixed
                </div>
                <div class="col-md-8 type">
                    <a href="#method_execute">execute</a>()
        
                                            <p>Execute the query and returns the results.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Doctrine\MongoDB\CursorInterface">CursorInterface</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_prepareCursor">prepareCursor</a>(<abbr title="Doctrine\MongoDB\Cursor">Cursor</abbr> $cursor)
        
                                            <p>Prepare the Cursor returned by {@link Query::execute()}.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L104">line 104</a></div>
        <code>                    
    <strong>__construct</strong>(<a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a> $dm, <a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a> $class, <abbr title="Doctrine\MongoDB\Collection">Collection</abbr> $collection, array $query = array(), array $options = array(), boolean $hydrate = true, boolean $refresh = false, array $primers = array(), null $requireIndexes = null, boolean $readOnly = false)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Constructor.</p>                    <p>Please note that $requireIndexes was deprecated in 1.2 and will be removed in 2.0</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a></td>
                <td>$dm</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a></td>
                <td>$class</td>
                <td></td>
            </tr>
                    <tr>
                <td><abbr title="Doctrine\MongoDB\Collection">Collection</abbr></td>
                <td>$collection</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$query</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td></td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$hydrate</td>
                <td></td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$refresh</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$primers</td>
                <td></td>
            </tr>
                    <tr>
                <td>null</td>
                <td>$requireIndexes</td>
                <td>deprecated</td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$readOnly</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getDocumentManager">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L141">line 141</a></div>
        <code>                    <a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a>
    <strong>getDocumentManager</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Gets the DocumentManager instance.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../../Doctrine/ODM/MongoDB/DocumentManager.html"><abbr title="Doctrine\ODM\MongoDB\DocumentManager">DocumentManager</abbr></a></td>
            <td>$dm</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getClass">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L151">line 151</a></div>
        <code>                    <a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a>
    <strong>getClass</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Gets the ClassMetadata instance.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../../Doctrine/ODM/MongoDB/Mapping/ClassMetadata.html"><abbr title="Doctrine\ODM\MongoDB\Mapping\ClassMetadata">ClassMetadata</abbr></a></td>
            <td>$class</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setHydrate">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L161">line 161</a></div>
        <code>                    
    <strong>setHydrate</strong>(boolean $hydrate)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Sets whether or not to hydrate the documents to objects.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>boolean</td>
                <td>$hydrate</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setReadOnly">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L174">line 174</a></div>
        <code>                    
    <strong>setReadOnly</strong>(boolean $readOnly)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set whether documents should be registered in UnitOfWork. If document would
already be managed it will be left intact and new instance returned.</p>                    <p>This option has no effect if hydration is disabled.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>boolean</td>
                <td>$readOnly</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setRefresh">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L187">line 187</a></div>
        <code>                    
    <strong>setRefresh</strong>(boolean $refresh)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set whether to refresh hydrated documents that are already in the
identity map.</p>                    <p>This option has no effect if hydration is disabled.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>boolean</td>
                <td>$refresh</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getFieldsInQuery">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L199">line 199</a></div>
        <code>                    array
    <strong>getFieldsInQuery</strong>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small></code>
    </h3>
    <div class="details">
            
            <p>
                <small><sup><span class="label label-danger">deprecated</span></sup></small>
                            <tr>
                    <td>method</td>
                    <td>was deprecated in 1.2 and will be removed in 2.0</td>
                </tr>
                    </p>
    

                    <div class="method-description">
                                    <p>Gets the fields involved in this query.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>$fields An array of fields names used in this query.</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_isIndexed">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L219">line 219</a></div>
        <code>                    bool
    <strong>isIndexed</strong>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small></code>
    </h3>
    <div class="details">
            
            <p>
                <small><sup><span class="label label-danger">deprecated</span></sup></small>
                            <tr>
                    <td>method</td>
                    <td>was deprecated in 1.2 and will be removed in 2.0</td>
                </tr>
                    </p>
    

                    <div class="method-description">
                                    <p>Check if this query is indexed.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getUnindexedFields">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L241">line 241</a></div>
        <code>                    array
    <strong>getUnindexedFields</strong>()
        <small><sup><span class="label label-danger">deprecated</span></sup></small></code>
    </h3>
    <div class="details">
            
            <p>
                <small><sup><span class="label label-danger">deprecated</span></sup></small>
                            <tr>
                    <td>method</td>
                    <td>was deprecated in 1.2 and will be removed in 2.0</td>
                </tr>
                    </p>
    

                    <div class="method-description">
                                    <p>Gets an array of the unindexed fields in this query.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_execute">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L263">line 263</a></div>
        <code>                    mixed
    <strong>execute</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Execute the query and returns the results.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>mixed</td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../../Doctrine/ODM/MongoDB/MongoDBException.html"><abbr title="Doctrine\ODM\MongoDB\MongoDBException">MongoDBException</abbr></a></td>
                <td></td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_prepareCursor">
        <div class="location">at         <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/lib/Doctrine/ODM/MongoDB/Query/Query.php#L328">line 328</a></div>
        <code>            protected        <abbr title="Doctrine\MongoDB\CursorInterface">CursorInterface</abbr>
    <strong>prepareCursor</strong>(<abbr title="Doctrine\MongoDB\Cursor">Cursor</abbr> $cursor)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Prepare the Cursor returned by {@link Query::execute()}.</p>                    <p>This method will wrap the base Cursor with an ODM Cursor or EagerCursor,
and set the hydrate option and UnitOfWork hints. This occurs in addition
to any preparation done by the base Query class.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Doctrine\MongoDB\Cursor">Cursor</abbr></td>
                <td>$cursor</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Doctrine\MongoDB\CursorInterface">CursorInterface</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                            <h4>See also</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>
                                            \Doctrine\MongoDB\Cursor::prepareCursor()
                                    </td>
                <td></td>
            </tr>
            </table>

                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
