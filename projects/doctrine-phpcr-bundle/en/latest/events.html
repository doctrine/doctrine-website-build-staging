<!DOCTYPE html>
<html>
    <head>
        <title>        Doctrine PHPCR-ODM Events - Doctrine Doctrine PHPCR Bundle
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine PHPCR Bundle Documentation: Doctrine PHPCR-ODM Events ">

        <meta name="keywords" content="                    PHPCR,ODM,Database,Persistence,documentation,doctrine,phpcr-odm,events
    ">

                    <meta name="robots" content="noindex">
        
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine-phpcr-bundle/en/latest/events.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/frontend/css/index.css?33995b"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine-phpcr-bundle/en/latest/events.html" />
        <meta property="og:title" content="        Doctrine PHPCR-ODM Events - Doctrine Doctrine PHPCR Bundle
    " />
        <meta property="og:description" content="Doctrine Doctrine PHPCR Bundle Documentation: Doctrine PHPCR-ODM Events " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine PHPCR Bundle",
            "description": "Doctrine PHPCR-ODM Events",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://staging.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/DoctrinePHPCRBundle/edit/3.x/doc/en/events.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="menu">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="configuration.html#configuration-reference">Configuration Reference</a>


</li>
    <li class="toc-item opened">
    <a href="#doctrine-phpcr-odm-events">Doctrine PHPCR-ODM Events</a>


</li>
    <li class="toc-item">
    <a href="fixtures_initializers.html#maintaining-data-in-the-repository">Maintaining Data in the Repository</a>


</li>
    <li class="toc-item">
    <a href="forms.html#doctrine-phpcr-odm-form-types">Doctrine PHPCR-ODM Form Types</a>


</li>
    <li class="toc-item">
    <a href="introduction.html#doctrinephpcrbundle">DoctrinePHPCRBundle</a>


</li>
    <li class="toc-item">
    <a href="models.html#modeling-data-with-phpcr-odm">Modeling Data with PHPCR-ODM</a>


</li>
    <li class="toc-item">
    <a href="multilang.html#doctrine-phpcr-odm-multi-language-support">Doctrine PHPCR-ODM Multi-Language Support</a>


</li>
    <li class="toc-item">
    <a href="multiple_sessions.html#configuring-multiple-sessions-for-phpcr-odm">Configuring multiple sessions for PHPCR-ODM</a>


</li>
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://staging.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Doctrine PHPCR Bundle",
            "item": "https://staging.doctrine-project.org/projects/phpcr-bundle.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://staging.doctrine-project.org/projects/doctrine-phpcr-bundle/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Doctrine PHPCR-ODM Events",
            "item": "https://staging.doctrine-project.org/projects/doctrine-phpcr-bundle/en/latest/events.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/phpcr-bundle.html">Doctrine PHPCR Bundle</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-phpcr-bundle/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Doctrine PHPCR-ODM Events</li>
                        </ol>
</nav>
                                    </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-bundle/en/latest/events.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        3.x
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-phpcr-bundle/en/latest/events.html">
                                                        3.x

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-bundle/en/3.0/events.html">3.0</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                </div>
                            
                            

            <div class="section" id="doctrine-phpcr-odm-events">
            <h1 class="section-header ">
    <a href="#doctrine-phpcr-odm-events">
        Doctrine PHPCR-ODM Events
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>Doctrine PHPCR-ODM provides an event system allowing to react to all
important operations that documents have during their lifecycle. Please
see the <a href="http://docs.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/events.html">Doctrine PHPCR-ODM event system documentation</a> for a full
list of supported events.</p>

            
    <p>The DoctrinePHPCRBundle provides dependency injection support for the
event listeners and event subscribers.</p>

            <div class="section" id="dependency-injection-tags">
            <h2 class="section-header ">
    <a href="#dependency-injection-tags">
        Dependency Injection Tags
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>You can tag services to listen to Doctrine PHPCR-ODM events. It works the same
way as for <a href="https://symfony.com/doc/current/doctrine/event_listeners_subscribers.html">Doctrine ORM events</a>. The only differences are:</p>

            

<ul>
    <li>use the tag name <code>doctrine_phpcr.event_listener</code> resp.
<code>doctrine_phpcr.event_subscriber</code> instead of <code>doctrine.event_listener</code>;</li>
    <li>expect the argument to be of class
<code>Doctrine\Common\Persistence\Event\LifecycleEventArgs</code>.</li>
</ul>

            
    <p>To tag a service as event listener and another service as event subscriber,
use this configuration:</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-8a9928c93651cc7457cf8eb868c394be" aria-selected="true"
                    data-active="true" >
                <span>Yaml</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-598e78b1a35f8ad1f196be742b74d1b2" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-0cb1888a85a4ba6ff0c720fba09af428" aria-selected="false"
                     tabindex="-1">
                <span>Php</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-8a9928c93651cc7457cf8eb868c394be" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="5384f26ddcd3b3c1050856e9b0d4f184173e9949"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="5384f26ddcd3b3c1050856e9b0d4f184173e9949"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-1" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-1">1</a></td><td class="code-line" rowspan="11"><span class="hljs-comment"># app/config/services.yml</span>
<span class="hljs-attr">services:</span>
    <span class="hljs-attr">app.phpcr_search_indexer:</span>
        <span class="hljs-attr">class:</span> <span class="hljs-string">App\EventListener\SearchIndexer</span>
            <span class="hljs-attr">tags:</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">{</span> <span class="hljs-attr">name:</span> <span class="hljs-string">doctrine_phpcr.event_listener,</span> <span class="hljs-attr">event:</span> <span class="hljs-string">postPersist</span> <span class="hljs-string">}</span>

    <span class="hljs-attr">app.phpcr_listener:</span>
        <span class="hljs-attr">class:</span> <span class="hljs-string">App\EventListener\MyListener</span>
            <span class="hljs-attr">tags:</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">{</span> <span class="hljs-attr">name:</span> <span class="hljs-string">doctrine_phpcr.event_subscriber</span> <span class="hljs-string">}</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-2" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-3" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-4" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-5" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-6" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-7" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-8" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-9" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-10" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-11" class="line-number-anchor" /><a href="#line-number-5384f26ddcd3b3c1050856e9b0d4f184173e9949-11">11</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-598e78b1a35f8ad1f196be742b74d1b2" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-1" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-1">1</a></td><td class="code-line" rowspan="14"><span class="hljs-meta">&lt;?xml version="1.0" ?&gt;</span>
<span class="hljs-comment">&lt;!-- app/config/config.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">services</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app.phpcr_search_indexer"</span>
                 <span class="hljs-attr">class</span>=<span class="hljs-string">"App\EventListener\SearchIndexer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tag</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"doctrine_phpcr.event_listener"</span> <span class="hljs-attr">event</span>=<span class="hljs-string">"postPersist"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app.phpcr_listener"</span>
                 <span class="hljs-attr">class</span>=<span class="hljs-string">"App\EventListener\MyListener"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tag</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"doctrine_phpcr.event_subscriber"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">services</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-2" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-3" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-4" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-5" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-6" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-7" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-8" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-9" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-10" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-11" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-12" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-13" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-14" class="line-number-anchor" /><a href="#line-number-84ee68f03d62ea2dfcea258b9b0e7b2fe16965f1-14">14</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-0cb1888a85a4ba6ff0c720fba09af428" aria-label="Php" class="configuration-codeblock" data-language="php" style="display: none">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="0e13d63bfb7e25d816f14cdd2f3cb1284b907b34"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="0e13d63bfb7e25d816f14cdd2f3cb1284b907b34"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-1" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-1">1</a></td><td class="code-line" rowspan="21"><span class="hljs-comment">// app/config/config.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">EventListener</span>\<span class="hljs-title">SearchIndexer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">EventListener</span>\<span class="hljs-title">MyListener</span>;

$container
    -&gt;register(
        <span class="hljs-string">'app.phpcr_search_indexer'</span>,
        SearchIndexer::class
    )
    -&gt;addTag(<span class="hljs-string">'doctrine_phpcr.event_listener'</span>, [
        <span class="hljs-string">'event'</span> =&gt; <span class="hljs-string">'postPersist'</span>,
    ])
;

$container
    -&gt;register(
        <span class="hljs-string">'app.phpcr_listener'</span>,
        MySubscriber::class
    )
    -&gt;addTag(<span class="hljs-string">'doctrine_phpcr.event_subscriber'</span>)
;</td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-2" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-3" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-4" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-5" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-6" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-7" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-8" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-9" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-10" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-11" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-12" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-13" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-14" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-15" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-16" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-17" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-18" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-19" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-20" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-21" class="line-number-anchor" /><a href="#line-number-0e13d63bfb7e25d816f14cdd2f3cb1284b907b34-21">21</a></td></tr></table></div></code></pre>
        </div>
    </div>
            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>Doctrine event subscribers (both ORM and PHPCR-ODM) can <strong>not</strong> return a
flexible array of methods to call like the <a href="https://symfony.com/doc/current/components/event_dispatcher/introduction.html#using-event-subscribers">Symfony event subscriber</a>.
Doctrine event subscribers must return a simple array of the event
names they subscribe to. Doctrine will then expect methods on the
subscriber with the names of the subscribed events, just as when using an
event listener.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>You can find more information and examples of the doctrine event system
in &quot;<a href="https://symfony.com/doc/current/doctrine/event_listeners_subscribers.html">How to Register Event Listeners and Subscribers</a>&quot; of the core documentation.</p>

    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://staging.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-bundle';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Doctrine PHPCR Bundle 3.x'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
        
            </body>
</html>
