<!DOCTYPE html>
<html>
    <head>
        <title>Types - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?9" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?9" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>

        <header>
            <nav class="navbar navbar-expand-md navbar-dark border-bottom">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Begin page content -->
        <main role="main" class="container">
                                                                
                                
                                                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/">Home</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/">Projects</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/dbal/">DBAL</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/doctrine-dbal/en/latest/">Documentation</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Types</li>
                        </ol>
                    </nav>
                
                                    <ul class="list-inline float-right">
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-dbal/en/latest/reference/types.html" class="badge badge-primary">master</a>
                            </li>
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-dbal/en/2.6/reference/types.html" class="badge badge-secondary">2.6</a>
                            </li>
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-dbal/en/2.5/reference/types.html" class="badge badge-secondary">2.5</a>
                            </li>
                                            </ul>
                
                <!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
</head>
<body>
<h1 class="section-header" id="title.1"><a href="#title.1">Types<i class="fas fa-link"></i></a></h1>
<p>Besides abstraction of SQL one needs a translation between database
and PHP data-types to implement database independent applications.
Doctrine 2 has a type translation system baked in that supports the
conversion from and to PHP values from any database platform,
as well as platform independent SQL generation for any Doctrine
Type.</p>
<p>Using the ORM you generally don't need to know about the Type
system. This is unless you want to make use of database vendor
specific database types not included in Doctrine 2.</p>
<p>Types are flyweights. This means there is only ever one instance of
a type and it is not allowed to contain any state. Creation of type
instances is abstracted through a static get method
<code>Doctrine\DBAL\Types\Type::getType()</code>.</p>
<p>Types are abstracted across all the supported database
vendors.</p>
<h2 class="section-header" id="title.1.1"><a href="#title.1.1">Reference<i class="fas fa-link"></i></a></h2>
<p>The following chapter gives an overview of all available Doctrine 2
types with short explanations on their context and usage.
The type names listed here equal those that can be passed to the
<code>Doctrine\DBAL\Types\Type::getType()</code>  factory method in order to retrieve
the desired type instance.</p>
<pre><code class="php">&lt;?php

// Returns instance of \Doctrine\DBAL\Types\IntegerType
$type = \Doctrine\DBAL\Types\Type::getType('integer');
</code></pre>
<h3 class="section-header" id="title.1.1.1"><a href="#title.1.1.1">Numeric types<i class="fas fa-link"></i></a></h3>
<p>Types that map numeric data such as integers, fixed and floating point
numbers.</p>
<h4 class="section-header" id="title.1.1.1.1"><a href="#title.1.1.1.1">Integer types<i class="fas fa-link"></i></a></h4>
<p>Types that map numeric data without fractions.</p>
<p>smallint
++++++++</p>
<p>Maps and converts 2-byte integer values.
Unsigned integer values have a range of <strong>0</strong> to <strong>65535</strong> while signed
integer values have a range of <strong>−32768</strong> to <strong>32767</strong>.
If you know the integer data you want to store always fits into one of these ranges
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>integer</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Not all of the database vendors support unsigned integers, so such an assumption
might not be propagated to the database.</p>
</div>
<p>integer
+++++++</p>
<p>Maps and converts 4-byte integer values.
Unsigned integer values have a range of <strong>0</strong> to <strong>4294967295</strong> while signed
integer values have a range of <strong>−2147483648</strong> to <strong>2147483647</strong>.
If you know the integer data you want to store always fits into one of these ranges
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>integer</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Not all of the database vendors support unsigned integers, so such an assumption
might not be propagated to the database.</p>
</div>
<p>bigint
++++++</p>
<p>Maps and converts 8-byte integer values.
Unsigned integer values have a range of <strong>0</strong> to <strong>18446744073709551615</strong> while signed
integer values have a range of <strong>−9223372036854775808</strong> to <strong>9223372036854775807</strong>.
If you know the integer data you want to store always fits into one of these ranges
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>string</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>For compatibility reasons this type is not converted to an integer
as PHP can only represent big integer values as real integers on
systems with a 64-bit architecture and would fall back to approximated
float values otherwise which could lead to false assumptions in applications.</p>
<p>Not all of the database vendors support unsigned integers, so such an assumption
might not be propagated to the database.</p>
</div>
<h4 class="section-header" id="title.1.1.1.2"><a href="#title.1.1.1.2">Decimal types<i class="fas fa-link"></i></a></h4>
<p>Types that map numeric data with fractions.</p>
<p>decimal
+++++++</p>
<p>Maps and converts numeric data with fixed-point precision.
If you need an exact precision for numbers with fractions, you should consider using
this type.
Values retrieved from the database are always converted to PHP's <code>string</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>For compatibility reasons this type is not converted to a double
as PHP can only preserve the precision to a certain degree. Otherwise
it approximates precision which can lead to false assumptions in
applications.</p>
</div>
<p>float
+++++</p>
<p>Maps and converts numeric data with floating-point precision.
If you only need an approximate precision for numbers with fractions, you should
consider using this type.
Values retrieved from the database are always converted to PHP's
<code>float</code>/<code>double</code> type or <code>null</code> if no data is present.</p>
<h3 class="section-header" id="title.1.1.2"><a href="#title.1.1.2">String types<i class="fas fa-link"></i></a></h3>
<p>Types that map string data such as character and binary text.</p>
<h4 class="section-header" id="title.1.1.2.1"><a href="#title.1.1.2.1">Character string types<i class="fas fa-link"></i></a></h4>
<p>Types that map string data of letters, numbers, and other symbols.</p>
<p>string
++++++</p>
<p>Maps and converts string data with a maximum length.
If you know that the data to be stored always fits into the specified length,
you should consider using this type.
Values retrieved from the database are always converted to PHP's string type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Database vendors have different limits for the maximum length of a
varying string. Doctrine internally maps the <code>string</code> type to the
vendor's <code>text</code> type if the maximum allowed length is exceeded.
This can lead to type inconsistencies when reverse engineering the
type from the database.</p>
</div>
<p>text
++++</p>
<p>Maps and converts string data without a maximum length.
If you don't know the maximum length of the data to be stored, you should
consider using this type.
Values retrieved from the database are always converted to PHP's <code>string</code> type
or <code>null</code> if no data is present.</p>
<p>guid
++++</p>
<p>Maps and converts a &quot;Globally Unique Identifier&quot;.
If you want to store a GUID, you should consider using this type, as some
database vendors have a native data type for this kind of data which offers
the most efficient way to store it. For vendors that do not support this
type natively, this type is mapped to the <code>string</code> type internally.
Values retrieved from the database are always converted to PHP's <code>string</code> type
or <code>null</code> if no data is present.</p>
<h4 class="section-header" id="title.1.1.2.2"><a href="#title.1.1.2.2">Binary string types<i class="fas fa-link"></i></a></h4>
<p>Types that map binary string data including images and other types of
information that are not interpreted by the database.
If you know that the data to be stored always is in binary format, you
should consider using one of these types in favour of character string
types, as it offers the most efficient way to store it.</p>
<p>binary
++++++</p>
<p>Maps and converts binary string data with a maximum length.
If you know that the data to be stored always fits into the specified length,
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>resource</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Database vendors have different limits for the maximum length of a
varying binary string. Doctrine internally maps the <code>binary</code> type to the
vendor's <code>blob</code> type if the maximum allowed length is exceeded.
This can lead to type inconsistencies when reverse engineering the
type from the database.</p>
</div>
<p>blob
++++</p>
<p>Maps and converts binary string data without a maximum length.
If you don't know the maximum length of the data to be stored, you should
consider using this type.
Values retrieved from the database are always converted to PHP's <code>resource</code> type
or <code>null</code> if no data is present.</p>
<h3 class="section-header" id="title.1.1.3"><a href="#title.1.1.3">Bit types<i class="fas fa-link"></i></a></h3>
<p>Types that map bit data such as boolean values.</p>
<h4 class="section-header" id="title.1.1.3.1"><a href="#title.1.1.3.1">boolean<i class="fas fa-link"></i></a></h4>
<p>Maps and converts boolean data.
If you know that the data to be stored always is a <code>boolean</code> (<code>true</code> or <code>false</code>),
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>boolean</code> type
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>As most of the database vendors do not have a native boolean type,
this type silently falls back to the smallest possible integer or
bit data type if necessary to ensure the least possible data storage
requirements are met.</p>
</div>
<h3 class="section-header" id="title.1.1.4"><a href="#title.1.1.4">Date and time types<i class="fas fa-link"></i></a></h3>
<p>Types that map date, time and timezone related values such as date only,
date and time, date, time and timezone or time only.</p>
<h4 class="section-header" id="title.1.1.4.1"><a href="#title.1.1.4.1">date<i class="fas fa-link"></i></a></h4>
<p>Maps and converts date data without time and timezone information.
If you know that the data to be stored always only needs to be a date
without time and timezone information, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>\DateTime</code> object
or <code>null</code> if no data is present.</p>
<h4 class="section-header" id="title.1.1.4.2"><a href="#title.1.1.4.2">date_immutable<i class="fas fa-link"></i></a></h4>
<p>The immutable variant of the <code>date</code> type.
Values retrieved from the database are always converted to PHP's <code>\DateTimeImmutable</code>
object or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Available since version <code>2.6</code>.</p>
</div>
<h4 class="section-header" id="title.1.1.4.3"><a href="#title.1.1.4.3">datetime<i class="fas fa-link"></i></a></h4>
<p>Maps and converts date and time data without timezone information.
If you know that the data to be stored always only needs to be a date
with time but without timezone information, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>\DateTime</code> object
or <code>null</code> if no data is present.</p>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>Before 2.5 this type always required a specific format,
defined in <code>$platform-&gt;getDateTimeFormatString()</code>, which
could cause quite some troubles on platforms that had various
microtime precision formats.
Starting with 2.5 whenever the parsing of a date fails with
the predefined platform format, the <code>date_create()</code>
function will be used to parse the date.</p>
<p>This could cause some troubles when your date format is weird
and not parsed correctly by <code>date_create()</code>, however since
databases are rather strict on dates there should be no problem.</p>
</div>
<h4 class="section-header" id="title.1.1.4.4"><a href="#title.1.1.4.4">datetime_immutable<i class="fas fa-link"></i></a></h4>
<p>The immutable variant of the <code>datetime</code> type.
Values retrieved from the database are always converted to PHP's <code>\DateTimeImmutable</code>
object or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Available since version <code>2.6</code>.</p>
</div>
<h4 class="section-header" id="title.1.1.4.5"><a href="#title.1.1.4.5">datetimetz<i class="fas fa-link"></i></a></h4>
<p>Maps and converts date with time and timezone information data.
If you know that the data to be stored always contains date, time and timezone
information, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>\DateTime</code> object
or <code>null</code> if no data is present.</p>
<h4 class="section-header" id="title.1.1.4.6"><a href="#title.1.1.4.6">datetimetz_immutable<i class="fas fa-link"></i></a></h4>
<p>The immutable variant of the <code>datetimetz</code> type.
Values retrieved from the database are always converted to PHP's <code>\DateTimeImmutable</code>
object or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Available since version <code>2.6</code>.</p>
</div>
<h4 class="section-header" id="title.1.1.4.7"><a href="#title.1.1.4.7">time<i class="fas fa-link"></i></a></h4>
<p>Maps and converts time data without date and timezone information.
If you know that the data to be stored only needs to be a time
without date, time and timezone information, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>\DateTime</code> object
or <code>null</code> if no data is present.</p>
<h4 class="section-header" id="title.1.1.4.8"><a href="#title.1.1.4.8">time_immutable<i class="fas fa-link"></i></a></h4>
<p>The immutable variant of the <code>time</code> type.
Values retrieved from the database are always converted to PHP's <code>\DateTimeImmutable</code>
object or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Available since version <code>2.6</code>.</p>
</div>
<h4 class="section-header" id="title.1.1.4.9"><a href="#title.1.1.4.9">dateinterval<i class="fas fa-link"></i></a></h4>
<p>Maps and converts date and time difference data without timezone information.
If you know that the data to be stored is the difference between two date and time values,
you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>\DateInterval</code> object
or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>See the Known Vendor Issue <a href="known-vendor-issues.html">Known Vendor Issues</a> section
for details about the different handling of microseconds and
timezones across all the different vendors.</p>
</div>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>All date types assume that you are exclusively using the default timezone
set by <a href="http://docs.php.net/manual/en/function.date-default-timezone-set.php">date_default_timezone_set()</a>
or by the php.ini configuration <code>date.timezone</code>.</p>
<p>If you need specific timezone handling you have to handle this
in your domain, converting all the values back and forth from UTC.</p>
</div>
<h3 class="section-header" id="title.1.1.5"><a href="#title.1.1.5">Array types<i class="fas fa-link"></i></a></h3>
<p>Types that map array data in different variations such as simple arrays,
real arrays or JSON format arrays.</p>
<h4 class="section-header" id="title.1.1.5.1"><a href="#title.1.1.5.1">array<i class="fas fa-link"></i></a></h4>
<p>Maps and converts array data based on PHP serialization.
If you need to store an exact representation of your array data,
you should consider using this type as it uses serialization
to represent an exact copy of your array as string in the database.
Values retrieved from the database are always converted to PHP's <code>array</code> type
using deserialization or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>This type will always be mapped to the database vendor's <code>text</code> type
internally as there is no way of storing a PHP array representation
natively in the database.
Furthermore this type requires an SQL column comment hint so that it can be
reverse engineered from the database. Doctrine cannot map back this type
properly on vendors not supporting column comments and will fall back to
<code>text</code> type instead.</p>
</div>
<h4 class="section-header" id="title.1.1.5.2"><a href="#title.1.1.5.2">simple_array<i class="fas fa-link"></i></a></h4>
<p>Maps and converts array data based on PHP comma delimited imploding and exploding.
If you know that the data to be stored always is a scalar value based one-dimensional
array, you should consider using this type as it uses simple PHP imploding and
exploding techniques to serialize and deserialize your data.
Values retrieved from the database are always converted to PHP's <code>array</code> type
using comma delimited <code>explode()</code> or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>This type will always be mapped to the database vendor's <code>text</code> type
internally as there is no way of storing a PHP array representation
natively in the database.
Furthermore this type requires an SQL column comment hint so that it can be
reverse engineered from the database. Doctrine cannot map back this type
properly on vendors not supporting column comments and will fall back to
<code>text</code> type instead.</p>
</div>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>You should never rely on a specific PHP type like <code>boolean</code>,
<code>integer</code>, <code>float</code> or <code>null</code> when retrieving values from
the database as the <code>explode()</code> deserialization technique used
by this type converts every single array item to <code>string</code>.
This basically means that every array item other than <code>string</code>
will lose its type awareness.</p>
</div>
<h4 class="section-header" id="title.1.1.5.3"><a href="#title.1.1.5.3">json<i class="fas fa-link"></i></a></h4>
<p>Maps and converts array data based on PHP's JSON encoding functions.
If you know that the data to be stored always is in a valid UTF-8
encoded JSON format string, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>array</code> or
<code>null</code> types using PHP's <code>json_decode()</code> function.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Some vendors have a native JSON type and Doctrine will use it if possible
and otherwise silently fall back to the vendor's <code>text</code> type to ensure
the most efficient storage requirements.
If the vendor does not have a native JSON type, this type requires an SQL
column comment hint so that it can be reverse engineered from the database.
Doctrine cannot map back this type properly on vendors not supporting column
comments and will fall back to <code>text</code> type instead.</p>
</div>
<h4 class="section-header" id="title.1.1.5.4"><a href="#title.1.1.5.4">json_array<i class="fas fa-link"></i></a></h4>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>This type is deprecated since 2.6, you should use <code>json</code> instead.</p>
</div>
<p>Maps and converts array data based on PHP's JSON encoding functions.
If you know that the data to be stored always is in a valid UTF-8
encoded JSON format string, you should consider using this type.
Values retrieved from the database are always converted to PHP's <code>array</code> type
using PHP's <code>json_decode()</code> function.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Some vendors have a native JSON type and Doctrine will use it if possible
and otherwise silently fall back to the vendor's <code>text</code> type to ensure
the most efficient storage requirements.
If the vendor does not have a native JSON type, this type requires an SQL
column comment hint so that it can be reverse engineered from the database.
Doctrine cannot map back this type properly on vendors not supporting column
comments and will fall back to <code>text</code> type instead.</p>
</div>
<h3 class="section-header" id="title.1.1.6"><a href="#title.1.1.6">Object types<i class="fas fa-link"></i></a></h3>
<p>Types that map to objects such as POPOs.</p>
<h4 class="section-header" id="title.1.1.6.1"><a href="#title.1.1.6.1">object<i class="fas fa-link"></i></a></h4>
<p>Maps and converts object data based on PHP serialization.
If you need to store an exact representation of your object data,
you should consider using this type as it uses serialization
to represent an exact copy of your object as string in the database.
Values retrieved from the database are always converted to PHP's <code>object</code> type
using deserialization or <code>null</code> if no data is present.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>This type will always be mapped to the database vendor's <code>text</code> type
internally as there is no way of storing a PHP object representation
natively in the database.
Furthermore this type requires an SQL column comment hint so that it can be
reverse engineered from the database. Doctrine cannot map back this type
properly on vendors not supporting column comments and will fall back to
<code>text</code> type instead.</p>
</div>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>While the built-in <code>text</code> type of MySQL and MariaDB can store binary data,
<code>mysqldump</code> cannot properly export <code>text</code> fields containing binary data.
This will cause creating and restoring of backups fail silently. A workaround is
to <code>serialize()</code>/<code>unserialize()</code> and <code>base64_encode()</code>/<code>base64_decode()</code>
PHP objects and store them into a <code>text</code> field manually.</p>
</div>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>Because the built-in <code>text</code> type of PostgreSQL does not support NULL bytes,
the object type will cause deserialization errors on PostgreSQL. A workaround is
to <code>serialize()</code>/<code>unserialize()</code> and <code>base64_encode()</code>/<code>base64_decode()</code> PHP objects and store
them into a <code>text</code> field manually.</p>
</div>
<a id="mappingMatrix"></a>
<h2 class="section-header" id="title.1.2"><a href="#title.1.2">Mapping Matrix<i class="fas fa-link"></i></a></h2>
<p>The following table shows an overview of Doctrine's type abstraction.
The matrix contains the mapping information for how a specific Doctrine
type is mapped to the database and back to PHP.
Please also notice the mapping specific footnotes for additional information.</p>
<table><tr><td>Doctrine  </td><td>PHP  </td><td>Database vendor --------------------------+---------+---------------------------------------------------------- Name                      Type</td></tr></table>
<table><tr><td><strong>smallint</strong>            </td><td><code>integer</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong></td><td><em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em></td><td><code>SMALLINT</code> <code>UNSIGNED</code> [10]_ <code>AUTO_INCREMENT</code> [11]_ ---------------------------------------------------------- <code>INT</code> <code>UNSIGNED</code> [10]_ <code>AUTO_INCREMENT</code> [11]_ ---------------------------------------------------------- <code>SMALLINT</code> ---------------------------------------------------------- <code>NUMBER(5)</code> ---------------------------------------------------------- <code>SMALLINT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>UNSIGNED</code> [10]_ <code>SMALLINT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>INTEGER</code> [16]_</td></tr><tr><td><strong>integer</strong>              </td><td><code>integer</code>              </td><td><strong>MySQL</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>PostgreSQL</strong>   -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong></td><td><em>all</em>   --------- <em>all</em>   --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em></td><td><code>INT</code> <code>UNSIGNED</code> [10]_ <code>AUTO_INCREMENT</code> [11]_   ---------------------------------------------------------- <code>INT</code> [12]_ ---------------------------------------------------------- <code>SERIAL</code> [11]_ ---------------------------------------------------------- <code>NUMBER(10)</code> ---------------------------------------------------------- <code>INT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>UNSIGNED</code> [10]_ <code>INT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>INTEGER</code> [16]_</td></tr><tr><td><strong>bigint</strong>              </td><td><code>string</code> [8]_             </td><td><strong>MySQL</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>PostgreSQL</strong>   -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong></td><td><em>all</em>   --------- <em>all</em>   --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em></td><td><code>BIGINT</code> <code>UNSIGNED</code> [10]_ <code>AUTO_INCREMENT</code> [11]_   ---------------------------------------------------------- <code>BIGINT</code> [12]_ ---------------------------------------------------------- <code>BIGSERIAL</code> [11]_ ---------------------------------------------------------- <code>NUMBER(20)</code> ---------------------------------------------------------- <code>BIGINT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>UNSIGNED</code> [10]_ <code>BIGINT</code> <code>IDENTITY</code> [11]_ ---------------------------------------------------------- <code>INTEGER</code> [16]_</td></tr><tr><td><strong>decimal</strong> [7]_            </td><td><code>string</code> [9]_           </td><td><strong>MySQL</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong></td><td><em>all</em> --------- <em>all</em>          </td><td><code>NUMERIC(p, s)</code> <code>UNSIGNED</code> [10]_ ---------------------------------------------------------- <code>NUMERIC(p, s)</code>          </td></tr><tr><td><strong>float</strong>            </td><td><code>float</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong></td><td><em>all</em> --------- <em>all</em>          </td><td><code>DOUBLE PRECISION</code> <code>UNSIGNED</code> [10]_ ---------------------------------------------------------- <code>DOUBLE PRECISION</code>          </td></tr><tr><td><strong>string</strong> [2]_ [5]_               </td><td><code>string</code>                </td><td><strong>MySQL</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong>   -------------------------- <strong>SQL Server</strong>  </td><td><em>all</em>       --------- <em>all</em> --------- <em>all</em>   --------- <em>all</em>  </td><td><code>VARCHAR(n)</code> [3]_   ---------------------------------------------------------- <code>CHAR(n)</code> [4]_   ---------------------------------------------------------- <code>VARCHAR(n)</code> ---------------------------------------------------------- <code>VARCHAR2(n)</code> [3]_ ---------------------------------------------------------- <code>CHAR(n)</code> [4]_ ---------------------------------------------------------- <code>NVARCHAR(n)</code> [3]_ ---------------------------------------------------------- <code>NCHAR(n)</code> [4]_</td></tr><tr><td><strong>text</strong>                  </td><td><code>string</code>                  </td><td><strong>MySQL</strong>       -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>SQL Server</strong></td><td><em>all</em>       --------- <em>all</em>     --------- <em>all</em>   --------- <em>all</em></td><td><code>TINYTEXT</code> [17]_ ---------------------------------------------------------- <code>TEXT</code> [18]_ ---------------------------------------------------------- <code>MEDIUMTEXT</code> [19]_ ---------------------------------------------------------- <code>LONGTEXT</code> [20]_ ---------------------------------------------------------- <code>TEXT</code>     ---------------------------------------------------------- <code>CLOB</code>   ---------------------------------------------------------- <code>VARCHAR(MAX)</code></td></tr><tr><td><strong>guid</strong>            </td><td><code>string</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>PostgreSQL</strong></td><td><em>all</em>       --------- <em>all</em>   --------- <em>all</em></td><td><code>VARCHAR(255)</code> [1]_       ---------------------------------------------------------- <code>UNIQUEIDENTIFIER</code>   ---------------------------------------------------------- <code>UUID</code></td></tr><tr><td><strong>binary</strong> [2]_ [6]_           </td><td><code>resource</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQLite</strong></td><td><em>all</em>     --------- <em>all</em> --------- <em>all</em> --------- <em>all</em> --------- <em>all</em></td><td><code>VARBINARY(n)</code> [3]_  ---------------------------------------------------------- <code>BINARY(n)</code> [4]_  ---------------------------------------------------------- <code>VARBINARY(n)</code> ---------------------------------------------------------- <code>RAW(n)</code> ---------------------------------------------------------- <code>BYTEA</code> [16]_ ---------------------------------------------------------- <code>BLOB</code> [16]_</td></tr><tr><td><strong>blob</strong>                  </td><td><code>resource</code>                  </td><td><strong>MySQL</strong>       -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>PostgreSQL</strong></td><td><em>all</em>       --------- <em>all</em>     --------- <em>all</em> --------- <em>all</em> --------- <em>all</em></td><td><code>TINYBLOB</code> [17]_ ---------------------------------------------------------- <code>BLOB</code> [18]_ ---------------------------------------------------------- <code>MEDIUMBLOB</code> [19]_ ---------------------------------------------------------- <code>LONGBLOB</code> [20]_ ---------------------------------------------------------- <code>BLOB</code>     ---------------------------------------------------------- <code>VARBINARY(MAX)</code> ---------------------------------------------------------- <code>LONG BINARY</code> ---------------------------------------------------------- <code>BYTEA</code></td></tr><tr><td><strong>boolean</strong>            </td><td><code>boolean</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Oracle</strong></td><td><em>all</em> --------- <em>all</em>     --------- <em>all</em>   --------- <em>all</em></td><td><code>TINYINT(1)</code> ---------------------------------------------------------- <code>BOOLEAN</code>     ---------------------------------------------------------- <code>BIT</code>   ---------------------------------------------------------- <code>NUMBER(1)</code></td></tr><tr><td><strong>date</strong>              </td><td><code>\DateTime</code>              </td><td><strong>MySQL</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQL Server</strong>  </td><td><em>all</em>           --------- &gt;= 2008 --------- &lt; 2008</td><td><code>DATE</code>             ---------------------------------------------------------- <code>DATETIME</code> [16]_</td></tr><tr><td><strong>datetime</strong>            </td><td><code>\DateTime</code>            </td><td><strong>MySQL</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQL Server</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong></td><td><em>all</em>   --------- <em>all</em>     --------- <em>all</em> --------- <em>all</em></td><td><code>DATETIME</code> [13]_ ---------------------------------------------------------- <code>TIMESTAMP</code> [14]_ ---------------------------------------------------------- <code>DATETIME</code>     ---------------------------------------------------------- <code>TIMESTAMP(0) WITHOUT TIME ZONE</code> ---------------------------------------------------------- <code>TIMESTAMP(0)</code></td></tr><tr><td><strong>datetimetz</strong>                </td><td><code>\DateTime</code>                </td><td><strong>MySQL</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>SQL Server</strong>   -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Anywhere</strong>  </td><td><em>all</em>     --------- &lt; 2008 --------- &gt;= 2008 --------- <em>all</em>   --------- &lt; 12 --------- &gt;= 12</td><td><code>DATETIME</code>  [15]_ [16]_       ---------------------------------------------------------- <code>DATETIMEOFFSET(6)</code> ---------------------------------------------------------- <code>TIMESTAMP(0) WITH TIME ZONE</code>   ---------------------------------------------------------- <code>DATETIME</code>  [15]_ [16]_ ---------------------------------------------------------- <code>TIMESTAMP WITH TIME ZONE</code></td></tr><tr><td><strong>time</strong>              </td><td><code>\DateTime</code>              </td><td><strong>MySQL</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQL Server</strong>  </td><td><em>all</em>       --------- <em>all</em> --------- <em>all</em> --------- &lt; 2008 --------- &gt;= 2008</td><td><code>TIME</code>       ---------------------------------------------------------- <code>TIME(0) WITHOUT TIME ZONE</code> ---------------------------------------------------------- <code>DATE</code> [16]_ ---------------------------------------------------------- <code>DATETIME</code> [16]_ ---------------------------------------------------------- <code>TIME(0)</code></td></tr><tr><td><strong>array</strong> [1]_ ------------------- <strong>simple array</strong> [1]_               </td><td><code>array</code>                  </td><td><strong>MySQL</strong>       -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>SQL Server</strong></td><td><em>all</em>       --------- <em>all</em>     --------- <em>all</em>   --------- <em>all</em></td><td><code>TINYTEXT</code> [17]_ ---------------------------------------------------------- <code>TEXT</code> [18]_ ---------------------------------------------------------- <code>MEDIUMTEXT</code> [19]_ ---------------------------------------------------------- <code>LONGTEXT</code> [20]_ ---------------------------------------------------------- <code>TEXT</code>     ---------------------------------------------------------- <code>CLOB</code>   ---------------------------------------------------------- <code>VARCHAR(MAX)</code></td></tr><tr><td><strong>json_array</strong>                        </td><td><code>array</code>                        </td><td><strong>MySQL</strong> [1]_       -------------------------- <strong>PostgreSQL</strong>       -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>SQL Server</strong></td><td><em>all</em>       --------- &lt; 9.2 --------- &lt; 9.4 --------- &gt;= 9.4   --------- <em>all</em>   --------- <em>all</em>   --------- <em>all</em></td><td><code>TINYTEXT</code> [17]_ ---------------------------------------------------------- <code>TEXT</code> [18]_ ---------------------------------------------------------- <code>MEDIUMTEXT</code> [19]_ ---------------------------------------------------------- <code>LONGTEXT</code> [20]_ ---------------------------------------------------------- <code>TEXT</code> [1]_ ---------------------------------------------------------- <code>JSON</code> ---------------------------------------------------------- <code>JSON</code> [21]_ ---------------------------------------------------------- <code>JSONB</code> [22]_ ---------------------------------------------------------- <code>TEXT</code> [1]_   ---------------------------------------------------------- <code>CLOB</code> [1]_   ---------------------------------------------------------- <code>VARCHAR(MAX)</code> [1]_</td></tr><tr><td><strong>object</strong> [1]_                  </td><td><code>object</code>                  </td><td><strong>MySQL</strong>       -------------------------- <strong>PostgreSQL</strong> -------------------------- <strong>SQL Anywhere</strong> -------------------------- <strong>Drizzle</strong> -------------------------- <strong>Oracle</strong> -------------------------- <strong>SQLite</strong> -------------------------- <strong>SQL Server</strong></td><td><em>all</em>       --------- <em>all</em>     --------- <em>all</em>   --------- <em>all</em></td><td><code>TINYTEXT</code> [17]_ ---------------------------------------------------------- <code>TEXT</code> [18]_ ---------------------------------------------------------- <code>MEDIUMTEXT</code> [19]_ ---------------------------------------------------------- <code>LONGTEXT</code> [20]_ ---------------------------------------------------------- <code>TEXT</code>     ---------------------------------------------------------- <code>CLOB</code>   ---------------------------------------------------------- <code>VARCHAR(MAX)</code></td></tr></table>
<h2 class="section-header" id="title.1.3"><a href="#title.1.3">Detection of Database Types<i class="fas fa-link"></i></a></h2>
<p>When calling table inspection methods on your connections
<code>SchemaManager</code> instance the retrieved database column types are
translated into Doctrine mapping types. Translation is necessary to
allow database abstraction and metadata comparisons for example for
Migrations or the ORM SchemaTool.</p>
<p>Each database platform has a default mapping of database types to
Doctrine types. You can inspect this mapping for platform of your
choice looking at the
<code>AbstractPlatform::initializeDoctrineTypeMappings()</code>
implementation.</p>
<p>If you want to change how Doctrine maps a database type to a
<code>Doctrine\DBAL\Types\Type</code> instance you can use the
<code>AbstractPlatform::registerDoctrineTypeMapping($dbType, $doctrineType)</code>
method to add new database types or overwrite existing ones.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>You can only map a database type to exactly one Doctrine type.
Database vendors that allow to define custom types like PostgreSql
can help to overcome this issue.</p>
</div>
<h2 class="section-header" id="title.1.4"><a href="#title.1.4">Custom Mapping Types<i class="fas fa-link"></i></a></h2>
<p>Just redefining how database types are mapped to all the existing
Doctrine types is not at all that useful. You can define your own
Doctrine Mapping Types by extending <code>Doctrine\DBAL\Types\Type</code>.
You are required to implement 4 different methods to get this
working.</p>
<p>See this example of how to implement a Money object in PostgreSQL.
For this we create the type in PostgreSQL as:</p>
<pre><code class="sql">CREATE DOMAIN MyMoney AS DECIMAL(18,3);
</code></pre>
<p>Now we implement our <code>Doctrine\DBAL\Types\Type</code> instance:</p>

<pre><code class="">&lt;?php
namespace My\Project\Types;

use Doctrine\DBAL\Types\Type;
use Doctrine\DBAL\Platforms\AbstractPlatform;

/**
 * My custom datatype.
 */
class MoneyType extends Type
{
    const MONEY = 'money'; // modify to match your type name

    public function getSQLDeclaration(array $fieldDeclaration, AbstractPlatform $platform)
    {
        return 'MyMoney';
    }

    public function convertToPHPValue($value, AbstractPlatform $platform)
    {
        return new Money($value);
    }

    public function convertToDatabaseValue($value, AbstractPlatform $platform)
    {
        return $value-&gt;toDecimal();
    }

    public function getName()
    {
        return self::MONEY;
    }
}
</code></pre>
<p>The job of Doctrine-DBAL is to transform your type into an SQL
declaration. You can modify the SQL declaration Doctrine will produce.
At first, to enable this feature, you must override the
<code>canRequireSQLConversion</code> method:</p>

<pre><code class="">&lt;?php
public function canRequireSQLConversion()
{
    return true;
}
</code></pre>
<p>Then you override the <code>convertToPhpValueSQL</code> and
<code>convertToDatabaseValueSQL</code> methods :</p>

<pre><code class="">&lt;?php
public function convertToPHPValueSQL($sqlExpr, $platform)
{
    return 'MyMoneyFunction(\''.$sqlExpr.'\') ';
}

public function convertToDatabaseValueSQL($sqlExpr, AbstractPlatform $platform)
{
    return 'MyFunction('.$sqlExpr.')';
}
</code></pre>
<p>Now we have to register this type with the Doctrine Type system and
hook it into the database platform:</p>

<pre><code class="">&lt;?php
Type::addType('money', 'My\Project\Types\MoneyType');
$conn-&gt;getDatabasePlatform()-&gt;registerDoctrineTypeMapping('MyMoney', 'money');
</code></pre>
<p>This would allow using a money type in the ORM for example and
have Doctrine automatically convert it back and forth to the
database.</p>
</body>
</html>                    </main>

        <footer class="footer">
            <div class="container">
                <i class="fa fa-copyright"></i> 2018 Doctrine
            </div>
        </footer>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?9"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
