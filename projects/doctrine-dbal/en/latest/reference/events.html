<!DOCTYPE html>
<html>
    <head>
        <title>Events - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://staging.doctrine-project.org/css/style.css?b0c944" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

        <link rel="stylesheet" href="https://staging.doctrine-project.org/components/highlightjs/styles/railscasts.css?b4f8ae" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
            </head>
    <body>
                    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://staging.doctrine-project.org/"><img src="https://staging.doctrine-project.org/images/doctrine-logo.svg?335f0f" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/lexer/">Lexer</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/team/">Team</a>
                        </li>
                    </ul>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>

                <div class="rounded" id="hits">
                    <!-- Hits widget will appear here -->
                </div>
            </nav>
        
            <div class="container-wrapper container-fluid">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        
<div class="toc"><ul><li id="architecture-html-title-1" class="toc-item"><a href="architecture.html#title.1">Architecture</a></li><ul><li id="architecture-html-title-1-1" class="toc-item"><a href="architecture.html#title.1.1">Drivers</a></li><li id="architecture-html-title-1-2" class="toc-item"><a href="architecture.html#title.1.2">Platforms</a></li><li id="architecture-html-title-1-3" class="toc-item"><a href="architecture.html#title.1.3">Logging</a></li><li id="architecture-html-title-1-4" class="toc-item"><a href="architecture.html#title.1.4">Schema</a></li><li id="architecture-html-title-1-5" class="toc-item"><a href="architecture.html#title.1.5">Types</a></li></ul><li id="caching-html-title-1" class="toc-item"><a href="caching.html#title.1">Caching</a></li><li id="configuration-html-title-1" class="toc-item"><a href="configuration.html#title.1">Configuration</a></li><ul><li id="configuration-html-title-1-1" class="toc-item"><a href="configuration.html#title.1.1">Getting a Connection</a></li><ul><li id="configuration-html-title-1-1-1" class="toc-item"><a href="configuration.html#title.1.1.1">Connecting using a URL</a></li><li id="configuration-html-title-1-1-2" class="toc-item"><a href="configuration.html#title.1.1.2">Driver</a></li><li id="configuration-html-title-1-1-3" class="toc-item"><a href="configuration.html#title.1.1.3">Wrapper Class</a></li><li id="configuration-html-title-1-1-4" class="toc-item"><a href="configuration.html#title.1.1.4">Connection Details</a></li><ul></ul><li id="configuration-html-title-1-1-5" class="toc-item"><a href="configuration.html#title.1.1.5">Automatic platform version detection</a></li><li id="configuration-html-title-1-1-6" class="toc-item"><a href="configuration.html#title.1.1.6">Custom Platform</a></li><li id="configuration-html-title-1-1-7" class="toc-item"><a href="configuration.html#title.1.1.7">Custom Driver Options</a></li></ul></ul><li id="data-retrieval-and-manipulation-html-title-1" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1">Data Retrieval And Manipulation</a></li><ul><li id="data-retrieval-and-manipulation-html-title-1-1" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.1">Data Retrieval</a></li><ul><li id="data-retrieval-and-manipulation-html-title-1-1-1" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.1.1">Dynamic Parameters and Prepared Statements</a></li><li id="data-retrieval-and-manipulation-html-title-1-1-2" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.1.2">Using Prepared Statements</a></li></ul><li id="data-retrieval-and-manipulation-html-title-1-2" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.2">Binding Types</a></li><ul><li id="data-retrieval-and-manipulation-html-title-1-2-1" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.2.1">Doctrine\DBAL\Types Conversion</a></li><li id="data-retrieval-and-manipulation-html-title-1-2-2" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.2.2">List of Parameters Conversion</a></li></ul><li id="data-retrieval-and-manipulation-html-title-1-3" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3">API</a></li><ul><li id="data-retrieval-and-manipulation-html-title-1-3-1" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.1">prepare()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-2" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.2">executeUpdate()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-3" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.3">executeQuery()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-4" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.4">fetchAll()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-5" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.5">fetchArray()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-6" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.6">fetchColumn()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-7" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.7">fetchAssoc()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-8" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.8">delete()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-9" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.9">insert()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-10" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.10">update()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-11" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.11">quote()</a></li><li id="data-retrieval-and-manipulation-html-title-1-3-12" class="toc-item"><a href="data-retrieval-and-manipulation.html#title.1.3.12">quoteIdentifier()</a></li></ul></ul><li id="events-html-title-1" class="toc-item"><a href="events.html#title.1">Events</a></li><ul><li id="events-html-title-1-1" class="toc-item"><a href="events.html#title.1.1">PostConnect Event</a></li><li id="events-html-title-1-2" class="toc-item"><a href="events.html#title.1.2">Schema Events</a></li><ul><li id="events-html-title-1-2-1" class="toc-item"><a href="events.html#title.1.2.1">OnSchemaCreateTable Event</a></li><li id="events-html-title-1-2-2" class="toc-item"><a href="events.html#title.1.2.2">OnSchemaCreateTableColumn Event</a></li><li id="events-html-title-1-2-3" class="toc-item"><a href="events.html#title.1.2.3">OnSchemaDropTable Event</a></li><li id="events-html-title-1-2-4" class="toc-item"><a href="events.html#title.1.2.4">OnSchemaAlterTable Event</a></li><li id="events-html-title-1-2-5" class="toc-item"><a href="events.html#title.1.2.5">OnSchemaAlterTableAddColumn Event</a></li><li id="events-html-title-1-2-6" class="toc-item"><a href="events.html#title.1.2.6">OnSchemaAlterTableRemoveColumn Event</a></li><li id="events-html-title-1-2-7" class="toc-item"><a href="events.html#title.1.2.7">OnSchemaAlterTableChangeColumn Event</a></li><li id="events-html-title-1-2-8" class="toc-item"><a href="events.html#title.1.2.8">OnSchemaAlterTableRenameColumn Event</a></li><li id="events-html-title-1-2-9" class="toc-item"><a href="events.html#title.1.2.9">OnSchemaColumnDefinition Event</a></li><li id="events-html-title-1-2-10" class="toc-item"><a href="events.html#title.1.2.10">OnSchemaIndexDefinition Event</a></li></ul></ul><li id="introduction-html-title-1" class="toc-item"><a href="introduction.html#title.1">Introduction</a></li><li id="known-vendor-issues-html-title-1" class="toc-item"><a href="known-vendor-issues.html#title.1">Known Vendor Issues</a></li><ul><li id="known-vendor-issues-html-title-1-1" class="toc-item"><a href="known-vendor-issues.html#title.1.1">PostgreSQL</a></li><ul><li id="known-vendor-issues-html-title-1-1-1" class="toc-item"><a href="known-vendor-issues.html#title.1.1.1">DateTime, DateTimeTz and Time Types</a></li><li id="known-vendor-issues-html-title-1-1-2" class="toc-item"><a href="known-vendor-issues.html#title.1.1.2">Timezones and DateTimeTz</a></li></ul><li id="known-vendor-issues-html-title-1-2" class="toc-item"><a href="known-vendor-issues.html#title.1.2">MySQL</a></li><ul><li id="known-vendor-issues-html-title-1-2-1" class="toc-item"><a href="known-vendor-issues.html#title.1.2.1">DateTimeTz</a></li></ul><li id="known-vendor-issues-html-title-1-3" class="toc-item"><a href="known-vendor-issues.html#title.1.3">Sqlite</a></li><ul><li id="known-vendor-issues-html-title-1-3-1" class="toc-item"><a href="known-vendor-issues.html#title.1.3.1">Buffered Queries and Isolation</a></li><li id="known-vendor-issues-html-title-1-3-2" class="toc-item"><a href="known-vendor-issues.html#title.1.3.2">DateTime</a></li><li id="known-vendor-issues-html-title-1-3-3" class="toc-item"><a href="known-vendor-issues.html#title.1.3.3">DateTimeTz</a></li><li id="known-vendor-issues-html-title-1-3-4" class="toc-item"><a href="known-vendor-issues.html#title.1.3.4">Reverse engineering primary key order</a></li></ul><li id="known-vendor-issues-html-title-1-4" class="toc-item"><a href="known-vendor-issues.html#title.1.4">IBM DB2</a></li><ul><li id="known-vendor-issues-html-title-1-4-1" class="toc-item"><a href="known-vendor-issues.html#title.1.4.1">DateTimeTz</a></li></ul><li id="known-vendor-issues-html-title-1-5" class="toc-item"><a href="known-vendor-issues.html#title.1.5">Oracle</a></li><ul><li id="known-vendor-issues-html-title-1-5-1" class="toc-item"><a href="known-vendor-issues.html#title.1.5.1">DateTimeTz</a></li><li id="known-vendor-issues-html-title-1-5-2" class="toc-item"><a href="known-vendor-issues.html#title.1.5.2">OCI-LOB instances</a></li></ul><li id="known-vendor-issues-html-title-1-6" class="toc-item"><a href="known-vendor-issues.html#title.1.6">Microsoft SQL Server</a></li><ul><li id="known-vendor-issues-html-title-1-6-1" class="toc-item"><a href="known-vendor-issues.html#title.1.6.1">Unique and NULL</a></li><li id="known-vendor-issues-html-title-1-6-2" class="toc-item"><a href="known-vendor-issues.html#title.1.6.2">DateTime, DateTimeTz and Time Types</a></li><li id="known-vendor-issues-html-title-1-6-3" class="toc-item"><a href="known-vendor-issues.html#title.1.6.3">PDO_SQLSRV: VARBINARY/BLOB columns</a></li></ul></ul><li id="platforms-html-title-1" class="toc-item"><a href="platforms.html#title.1">Platforms</a></li><ul><li id="platforms-html-title-1-1" class="toc-item"><a href="platforms.html#title.1.1">MySQL</a></li><li id="platforms-html-title-1-2" class="toc-item"><a href="platforms.html#title.1.2">Oracle</a></li><li id="platforms-html-title-1-3" class="toc-item"><a href="platforms.html#title.1.3">Microsoft SQL Server</a></li><li id="platforms-html-title-1-4" class="toc-item"><a href="platforms.html#title.1.4">PostgreSQL</a></li><li id="platforms-html-title-1-5" class="toc-item"><a href="platforms.html#title.1.5">SAP Sybase SQL Anywhere</a></li><li id="platforms-html-title-1-6" class="toc-item"><a href="platforms.html#title.1.6">SQLite</a></li><li id="platforms-html-title-1-7" class="toc-item"><a href="platforms.html#title.1.7">Drizzle</a></li></ul><li id="portability-html-title-1" class="toc-item"><a href="portability.html#title.1">Portability</a></li><ul><li id="portability-html-title-1-1" class="toc-item"><a href="portability.html#title.1.1">Connection Wrapper</a></li><li id="portability-html-title-1-2" class="toc-item"><a href="portability.html#title.1.2">Database Platform</a></li><li id="portability-html-title-1-3" class="toc-item"><a href="portability.html#title.1.3">Keyword Lists</a></li></ul><li id="query-builder-html-title-1" class="toc-item"><a href="query-builder.html#title.1">SQL Query Builder</a></li><ul><li id="query-builder-html-title-1-1" class="toc-item"><a href="query-builder.html#title.1.1">Security: Safely preventing SQL Injection</a></li><li id="query-builder-html-title-1-2" class="toc-item"><a href="query-builder.html#title.1.2">Building a Query</a></li><ul><li id="query-builder-html-title-1-2-1" class="toc-item"><a href="query-builder.html#title.1.2.1">WHERE-Clause</a></li><li id="query-builder-html-title-1-2-2" class="toc-item"><a href="query-builder.html#title.1.2.2">Table alias</a></li><li id="query-builder-html-title-1-2-3" class="toc-item"><a href="query-builder.html#title.1.2.3">GROUP BY and HAVING Clause</a></li><li id="query-builder-html-title-1-2-4" class="toc-item"><a href="query-builder.html#title.1.2.4">Join Clauses</a></li><li id="query-builder-html-title-1-2-5" class="toc-item"><a href="query-builder.html#title.1.2.5">Order-By Clause</a></li><li id="query-builder-html-title-1-2-6" class="toc-item"><a href="query-builder.html#title.1.2.6">Limit Clause</a></li><li id="query-builder-html-title-1-2-7" class="toc-item"><a href="query-builder.html#title.1.2.7">VALUES Clause</a></li><li id="query-builder-html-title-1-2-8" class="toc-item"><a href="query-builder.html#title.1.2.8">Set Clause</a></li></ul><li id="query-builder-html-title-1-3" class="toc-item"><a href="query-builder.html#title.1.3">Building Expressions</a></li><li id="query-builder-html-title-1-4" class="toc-item"><a href="query-builder.html#title.1.4">Binding Parameters to Placeholders</a></li></ul><li id="schema-manager-html-title-1" class="toc-item"><a href="schema-manager.html#title.1">Schema-Manager</a></li><ul><li id="schema-manager-html-title-1-1" class="toc-item"><a href="schema-manager.html#title.1.1">listDatabases()</a></li><li id="schema-manager-html-title-1-2" class="toc-item"><a href="schema-manager.html#title.1.2">listSequences()</a></li><li id="schema-manager-html-title-1-3" class="toc-item"><a href="schema-manager.html#title.1.3">listTableColumns()</a></li><li id="schema-manager-html-title-1-4" class="toc-item"><a href="schema-manager.html#title.1.4">listTableDetails()</a></li><li id="schema-manager-html-title-1-5" class="toc-item"><a href="schema-manager.html#title.1.5">listTableForeignKeys()</a></li><li id="schema-manager-html-title-1-6" class="toc-item"><a href="schema-manager.html#title.1.6">listTableIndexes()</a></li><li id="schema-manager-html-title-1-7" class="toc-item"><a href="schema-manager.html#title.1.7">listTables()</a></li><li id="schema-manager-html-title-1-8" class="toc-item"><a href="schema-manager.html#title.1.8">listViews()</a></li><li id="schema-manager-html-title-1-9" class="toc-item"><a href="schema-manager.html#title.1.9">createSchema()</a></li></ul><li id="schema-representation-html-title-1" class="toc-item"><a href="schema-representation.html#title.1">Schema-Representation</a></li><ul><li id="schema-representation-html-title-1-1" class="toc-item"><a href="schema-representation.html#title.1.1">Schema Assets</a></li><ul><li id="schema-representation-html-title-1-1-1" class="toc-item"><a href="schema-representation.html#title.1.1.1">Column</a></li><ul></ul></ul></ul><li id="security-html-title-1" class="toc-item"><a href="security.html#title.1">Security</a></li><ul><li id="security-html-title-1-1" class="toc-item"><a href="security.html#title.1.1">SQL Injection: Safe and Unsafe APIs for User Input</a></li><li id="security-html-title-1-2" class="toc-item"><a href="security.html#title.1.2">User input in your queries</a></li><ul><li id="security-html-title-1-2-1" class="toc-item"><a href="security.html#title.1.2.1">Wrong: String Concatenation</a></li><li id="security-html-title-1-2-2" class="toc-item"><a href="security.html#title.1.2.2">Right: Prepared Statements</a></li><li id="security-html-title-1-2-3" class="toc-item"><a href="security.html#title.1.2.3">Right: Quoting/Escaping values</a></li></ul></ul><li id="sharding-html-title-1" class="toc-item"><a href="sharding.html#title.1">Sharding</a></li><ul><li id="sharding-html-title-1-1" class="toc-item"><a href="sharding.html#title.1.1">ID Generation</a></li><ul><li id="sharding-html-title-1-1-1" class="toc-item"><a href="sharding.html#title.1.1.1">Use GUID/UUIDs</a></li><li id="sharding-html-title-1-1-2" class="toc-item"><a href="sharding.html#title.1.1.2">Table Generator</a></li><li id="sharding-html-title-1-1-3" class="toc-item"><a href="sharding.html#title.1.1.3">Natural Identifiers</a></li></ul><li id="sharding-html-title-1-2" class="toc-item"><a href="sharding.html#title.1.2">Transactions</a></li><li id="sharding-html-title-1-3" class="toc-item"><a href="sharding.html#title.1.3">Foreign Keys</a></li><li id="sharding-html-title-1-4" class="toc-item"><a href="sharding.html#title.1.4">Complex Queries</a></li><li id="sharding-html-title-1-5" class="toc-item"><a href="sharding.html#title.1.5">ShardManager Interface</a></li><li id="sharding-html-title-1-6" class="toc-item"><a href="sharding.html#title.1.6">Schema Operations: SchemaSynchronizer Interface</a></li><li id="sharding-html-title-1-7" class="toc-item"><a href="sharding.html#title.1.7">SQL Azure Federations</a></li><ul><li id="sharding-html-title-1-7-1" class="toc-item"><a href="sharding.html#title.1.7.1">Schema Operations</a></li><li id="sharding-html-title-1-7-2" class="toc-item"><a href="sharding.html#title.1.7.2">SQLAzure Filtering</a></li></ul><li id="sharding-html-title-1-8" class="toc-item"><a href="sharding.html#title.1.8">Generic SQL Sharding Support</a></li></ul><li id="sharding_azure_tutorial-html-title-1" class="toc-item"><a href="sharding_azure_tutorial.html#title.1">SQLAzure Sharding Tutorial</a></li><ul><li id="sharding_azure_tutorial-html-title-1-1" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.1">Install Doctrine</a></li><li id="sharding_azure_tutorial-html-title-1-2" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.2">Setup Connection</a></li><li id="sharding_azure_tutorial-html-title-1-3" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.3">Create Database</a></li><li id="sharding_azure_tutorial-html-title-1-4" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.4">Create Schema</a></li><li id="sharding_azure_tutorial-html-title-1-5" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.5">View Federation Members</a></li><li id="sharding_azure_tutorial-html-title-1-6" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.6">Insert Data</a></li><li id="sharding_azure_tutorial-html-title-1-7" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.7">Split Federation</a></li><li id="sharding_azure_tutorial-html-title-1-8" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.8">Inserting Data after Split</a></li><li id="sharding_azure_tutorial-html-title-1-9" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.9">Querying data with filtering off</a></li><li id="sharding_azure_tutorial-html-title-1-10" class="toc-item"><a href="sharding_azure_tutorial.html#title.1.10">Querying data with filtering on</a></li></ul><li id="supporting-other-databases-html-title-1" class="toc-item"><a href="supporting-other-databases.html#title.1">Supporting Other Databases</a></li><ul><li id="supporting-other-databases-html-title-1-1" class="toc-item"><a href="supporting-other-databases.html#title.1.1">Implementation Steps in Detail</a></li></ul><li id="transactions-html-title-1" class="toc-item"><a href="transactions.html#title.1">Transactions</a></li><ul><li id="transactions-html-title-1-1" class="toc-item"><a href="transactions.html#title.1.1">Transaction Nesting</a></li><li id="transactions-html-title-1-2" class="toc-item"><a href="transactions.html#title.1.2">Auto-commit mode</a></li><li id="transactions-html-title-1-3" class="toc-item"><a href="transactions.html#title.1.3">Error handling</a></li></ul><li id="types-html-title-1" class="toc-item"><a href="types.html#title.1">Types</a></li><ul><li id="types-html-title-1-1" class="toc-item"><a href="types.html#title.1.1">Reference</a></li><ul><li id="types-html-title-1-1-1" class="toc-item"><a href="types.html#title.1.1.1">Numeric types</a></li><ul></ul><li id="types-html-title-1-1-2" class="toc-item"><a href="types.html#title.1.1.2">String types</a></li><ul></ul><li id="types-html-title-1-1-3" class="toc-item"><a href="types.html#title.1.1.3">Bit types</a></li><ul></ul><li id="types-html-title-1-1-4" class="toc-item"><a href="types.html#title.1.1.4">Date and time types</a></li><ul></ul><li id="types-html-title-1-1-5" class="toc-item"><a href="types.html#title.1.1.5">Array types</a></li><ul></ul><li id="types-html-title-1-1-6" class="toc-item"><a href="types.html#title.1.1.6">Object types</a></li><ul></ul></ul><li id="types-html-title-1-2" class="toc-item"><a href="types.html#title.1.2">Mapping Matrix</a></li><li id="types-html-title-1-3" class="toc-item"><a href="types.html#title.1.3">Detection of Database Types</a></li><li id="types-html-title-1-4" class="toc-item"><a href="types.html#title.1.4">Custom Mapping Types</a></li></ul></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                                                
                                        
                                                                <nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/">Projects</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/dbal/">DBAL</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-dbal/en/latest/">Documentation</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Events</li>
                            </ol>
                        </nav>
                                    </div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            <ul class="list-inline">
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-dbal/en/latest/reference/events.html" class="project-version-switcher badge badge-warning">master</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-dbal/en/2.6/reference/events.html" class="project-version-switcher badge badge-secondary">2.6</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-dbal/en/2.5/reference/events.html" class="project-version-switcher badge badge-secondary">2.5</a>
                                        </li>
                                    
                                    
                                    <li class="list-inline-item ml-2"><a href="https://github.com/doctrine/dbal/edit/master/docs/en/reference/events.rst" class="badge badge-primary">Edit</a></li>

                                </ul>
                            
                            
<a class="section-anchor" id="title.1" name="title.1"></a><h1 class="section-header"><a href="#title.1">Events<i class="fas fa-link"></i></a></h1>
<p>Both <code>Doctrine\DBAL\DriverManager</code> and
<code>Doctrine\DBAL\Connection</code> accept an instance of
<code>Doctrine\Common\EventManager</code>. The EventManager has a couple of
events inside the DBAL layer that are triggered for the user to
listen to.</p>
<a class="section-anchor" id="title.1.1" name="title.1.1"></a><h2 class="section-header"><a href="#title.1.1">PostConnect Event<i class="fas fa-link"></i></a></h2>
<p><code>Doctrine\DBAL\Events::postConnect</code> is triggered right after the
connection to the database is established. It allows to specify any
relevant connection specific options and gives access to the
<code>Doctrine\DBAL\Connection</code> instance that is responsible for the
connection management via an instance of
<code>Doctrine\DBAL\Event\ConnectionEventArgs</code> event arguments
instance.</p>
<p>Doctrine ships with one implementation for the &quot;PostConnect&quot; event:</p>
<ul><li class="dash"> <code>Doctrine\DBAL\Event\Listeners\OracleSessionInit</code> allows to
   specify any number of Oracle Session related enviroment variables
   that are set right after the connection is established.</li>
</ul>

<p>You can register events by subscribing them to the <code>EventManager</code>
instance passed to the Connection factory:</p>
<pre><code class="php">&lt;?php
$evm = new EventManager();
$evm-&gt;addEventSubscriber(new OracleSessionInit(array(
    'NLS_TIME_FORMAT' =&gt; 'HH24:MI:SS',
)));

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<a class="section-anchor" id="title.1.2" name="title.1.2"></a><h2 class="section-header"><a href="#title.1.2">Schema Events<i class="fas fa-link"></i></a></h2>
<p>There are multiple events in Doctrine DBAL that are triggered on schema changes
of the database. It is possible to add your own event listener to be able to run
your own code before changes to the database are committed. An instance of
<code>Doctrine\Common\EventManager</code> can also be added to <a href="platforms.html">Platforms</a>.</p>
<p>A event listener class can contain one or more methods to schema events. These
methods must be named like the events itself.</p>
<pre><code class="php">&lt;?php
$evm = new EventManager();
$eventName = Events::onSchemaCreateTable;
$evm-&gt;addEventListener($eventName, new MyEventListener());
</code></pre>
<pre><code class="php">&lt;?php
$evm = new EventManager();
$eventNames = array(Events::onSchemaCreateTable, Events::onSchemaCreateTableColumn);
$evm-&gt;addEventListener($eventNames, new MyEventListener());
</code></pre>
<p>The following events are available.</p>
<a class="section-anchor" id="title.1.2.1" name="title.1.2.1"></a><h3 class="section-header"><a href="#title.1.2.1">OnSchemaCreateTable Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaCreateTable</code> is triggered before every
create statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaCreateTableEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaCreateTable(SchemaCreateTableEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaCreateTable, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\Table</code> instance and its columns, the used Platform and
provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.2" name="title.1.2.2"></a><h3 class="section-header"><a href="#title.1.2.2">OnSchemaCreateTableColumn Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaCreateTableColumn</code> is triggered on every new column before a
create statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaCreateTableColumnEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaCreateTableColumn(SchemaCreateTableColumnEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaCreateTableColumn, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\Table</code> instance, the affected <code>Doctrine\DBAL\Schema\Column</code>,
the used Platform and provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.3" name="title.1.2.3"></a><h3 class="section-header"><a href="#title.1.2.3">OnSchemaDropTable Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaDropTable</code> is triggered before a drop table
statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaDropTableEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaDropTable(SchemaDropTableEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaDropTable, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\Table</code> instance, the used Platform and
provides a way to set an additional SQL statement.</p>
<a class="section-anchor" id="title.1.2.4" name="title.1.2.4"></a><h3 class="section-header"><a href="#title.1.2.4">OnSchemaAlterTable Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaAlterTable</code> is triggered before every
alter statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaAlterTableEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaAlterTable(SchemaAlterTableEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaAlterTable, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\TableDiff</code> instance, the used Platform and
provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.5" name="title.1.2.5"></a><h3 class="section-header"><a href="#title.1.2.5">OnSchemaAlterTableAddColumn Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaAlterTableAddColumn</code> is triggered on every altered column before every
alter statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaAlterTableAddColumnEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaAlterTableAddColumn(SchemaAlterTableAddColumnEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaAlterTableAddColumn, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\TableDiff</code> instance, the affected <code>Doctrine\DBAL\Schema\Column</code>,
the used Platform and provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.6" name="title.1.2.6"></a><h3 class="section-header"><a href="#title.1.2.6">OnSchemaAlterTableRemoveColumn Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaAlterTableRemoveColumn</code> is triggered on every column that is going to be removed
before every alter-drop statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaAlterTableRemoveColumnEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaAlterTableRemoveColumn(SchemaAlterTableRemoveColumnEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaAlterTableRemoveColumn, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\TableDiff</code> instance, the affected <code>Doctrine\DBAL\Schema\Column</code>,
the used Platform and provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.7" name="title.1.2.7"></a><h3 class="section-header"><a href="#title.1.2.7">OnSchemaAlterTableChangeColumn Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaAlterTableChangeColumn</code> is triggered on every column that is going to be changed
before every alter statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaAlterTableRemoveColumnEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaAlterTableChangeColumn(SchemaAlterTableChangeColumnEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaAlterTableChangeColumn, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\TableDiff</code> instance, a <code>Doctrine\DBAL\Schema\ColumnDiff</code> of
the affected column, the used Platform and provides a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.8" name="title.1.2.8"></a><h3 class="section-header"><a href="#title.1.2.8">OnSchemaAlterTableRenameColumn Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaAlterTableRenameColumn</code> is triggered on every column that is going to be renamed
before every alter statement that is executed by one of the Platform instances and injects
an instance of <code>Doctrine\DBAL\Event\SchemaAlterTableRenameColumnEventArgs</code> as event argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaAlterTableRenameColumn(SchemaAlterTableRenameColumnEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaAlterTableRenameColumn, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the <code>Doctrine\DBAL\Schema\TableDiff</code> instance, the old column name and
the new column in form of a <code>Doctrine\DBAL\Schema\Column</code> object, the used Platform and provides
a way to add additional SQL statements.</p>
<a class="section-anchor" id="title.1.2.9" name="title.1.2.9"></a><h3 class="section-header"><a href="#title.1.2.9">OnSchemaColumnDefinition Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaColumnDefinition</code> is triggered on a schema update and is
executed for every existing column definition of the database before changes are applied.
An instance of <code>Doctrine\DBAL\Event\SchemaColumnDefinitionEventArgs</code> is injected as argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaColumnDefinition(SchemaColumnDefinitionEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaColumnDefinition, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the table column definitions of the current database, table name, Platform and
<code>Doctrine\DBAL\Connection</code> instance. Columns, that are about to be added, are not listed.</p>
<a class="section-anchor" id="title.1.2.10" name="title.1.2.10"></a><h3 class="section-header"><a href="#title.1.2.10">OnSchemaIndexDefinition Event<i class="fas fa-link"></i></a></h3>
<p><code>Doctrine\DBAL\Events::onSchemaIndexDefinition</code> is triggered on a schema update and is
executed for every existing index definition of the database before changes are applied.
An instance of <code>Doctrine\DBAL\Event\SchemaIndexDefinitionEventArgs</code> is injected as argument
for event listeners.</p>
<pre><code class="php">&lt;?php
class MyEventListener
{
    public function onSchemaIndexDefinition(SchemaIndexDefinitionEventArgs $event)
    {
        // Your EventListener code
    }
}

$evm = new EventManager();
$evm-&gt;addEventListener(Events::onSchemaIndexDefinition, new MyEventListener());

$conn = DriverManager::getConnection($connectionParams, null, $evm);
</code></pre>
<p>It allows you to access the table index definitions of the current database, table name, Platform and
<code>Doctrine\DBAL\Connection</code> instance. Indexes, that are about to be added, are not listed.</p>
                                            </div>
                </div>
            </main>
        </div>
    </div>

                            
        <button id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://staging.doctrine-project.org/components/highlightjs/highlight.pack.js?3970aa"></script>

        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script src="https://staging.doctrine-project.org/js/main.js?f32c09"></script>
        <script src="https://staging.doctrine-project.org/js/search.js?a06250"></script>

        <script type="text/javascript">
            var projectSlug = 'dbal';
            var versionSlug = 'latest';

            new Main();

            new Search(projectSlug, versionSlug);
        </script>

            <script src="https://staging.doctrine-project.org/js/sidebar.js?cd221a"></script>

    <script type="text/javascript">
        new Sidebar();
    </script>

        
        
            </body>
</html>
