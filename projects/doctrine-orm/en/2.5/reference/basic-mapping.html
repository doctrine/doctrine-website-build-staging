<!DOCTYPE html>
<html>
    <head>
        <title>Basic Mapping - Object Relational Mapper (ORM)</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="PHP object relational mapper (ORM) that sits on top of a powerful database abstraction layer (DBAL). One of its key features is the option to write database queries in a proprietary object oriented SQL dialect called Doctrine Query Language (DQL). This provides developers with a powerful alternative to SQL that maintains flexibility without requiring unnecessary code duplication.
">

        <meta name="keywords" content="php,orm,mysql,object,mapper,mapping,query,dql">

                    <meta name="robots" content="noindex">
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine-orm/en/2.6/reference/basic-mapping.html" />
    
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://staging.doctrine-project.org/css/style.css?991dfa" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

        <link rel="stylesheet" href="https://staging.doctrine-project.org/components/highlightjs/styles/railscasts.css?b4f8ae" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineorm" />
        <meta name="twitter:creator" content="@doctrineorm" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine-orm/en/2.5/reference/basic-mapping.html" />
        <meta property="og:title" content="Basic Mapping - Object Relational Mapper (ORM)" />
        <meta property="og:description" content="PHP object relational mapper (ORM) that sits on top of a powerful database abstraction layer (DBAL). One of its key features is the option to write database queries in a proprietary object oriented SQL dialect called Doctrine Query Language (DQL). This provides developers with a powerful alternative to SQL that maintains flexibility without requiring unnecessary code duplication.
" />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineorm"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Course",
            "name": "Doctrine Object Relational Mapper",
            "description": "Basic Mapping",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://staging.doctrine-project.org/"><img src="https://staging.doctrine-project.org/images/doctrine-logo.svg?335f0f" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/projects.html" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu projects-dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="https://staging.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="https://staging.doctrine-project.org/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/team/">Team</a>
                        </li>
                    </ul>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>

                <div class="search-results rounded">
                    <div id="hits">
                        <!-- Hits widget will appear here -->
                    </div>

                    <a href="https://www.algolia.com" target="_blank"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
                </div>
            </nav>
        
            <div class="container-wrapper container-fluid">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        
<div class="toc"><ul><li id="--/index-html-welcome-to-doctrine-2-orm-s-documentation" class="toc-item"><a href="../index.html#welcome-to-doctrine-2-orm-s-documentation">Welcome to Doctrine 2 ORM's documentation!</a></li><ul><li id="--/index-html-getting-help" class="toc-item"><a href="../index.html#getting-help">Getting Help</a></li><li id="--/index-html-getting-started" class="toc-item"><a href="../index.html#getting-started">Getting Started</a></li><li id="--/index-html-mapping-objects-onto-a-database" class="toc-item"><a href="../index.html#mapping-objects-onto-a-database">Mapping Objects onto a Database</a></li><li id="--/index-html-working-with-objects" class="toc-item"><a href="../index.html#working-with-objects">Working with Objects</a></li><li id="--/index-html-advanced-topics" class="toc-item"><a href="../index.html#advanced-topics">Advanced Topics</a></li><li id="--/index-html-tutorials" class="toc-item"><a href="../index.html#tutorials">Tutorials</a></li><li id="--/index-html-changelogs" class="toc-item"><a href="../index.html#changelogs">Changelogs</a></li><li id="--/index-html-cookbook" class="toc-item"><a href="../index.html#cookbook">Cookbook</a></li></ul></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/orm.html">ORM</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-orm/en/2.5/">Documentation</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Basic Mapping</li>
                            </ol>
                        </nav>
                                    </div>

                
                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            <ul class="list-inline">
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/latest/reference/basic-mapping.html" class="project-version-switcher badge badge-secondary">master</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/2.6/reference/basic-mapping.html" class="project-version-switcher badge badge-secondary">2.6</a>
                                        </li>
                                                                            <li class="list-inline-item mr-0">
                                            <a href="/projects/doctrine-orm/en/2.5/reference/basic-mapping.html" class="project-version-switcher badge badge-warning">2.5</a>
                                        </li>
                                    
                                    
                                    <li class="list-inline-item ml-2"><a href="https://github.com/doctrine/doctrine2/edit/2.5/docs/en/reference/basic-mapping.rst" class="badge badge-primary">Edit</a></li>

                                </ul>
                            
                            
<p></p>
<a class="section-anchor" id="basic-mapping" name="basic-mapping"></a><h1 class="section-header"><a href="#basic-mapping">Basic Mapping<i class="fas fa-link"></i></a></h1>
<p>This guide explains the basic mapping of entities and properties.
After working through this guide you should know:</p>
<ul><li class="dash">How to create PHP objects that can be saved to the database with Doctrine;</li>
<li class="dash">How to configure the mapping between columns on tables and properties on
  entities;</li>
<li class="dash">What Doctrine mapping types are;</li>
<li class="dash">Defining primary keys and how identifiers are generated by Doctrine;</li>
<li class="dash">How quoting of reserved symbols works in Doctrine.</li>
</ul>

<p>Mapping of associations will be covered in the next chapter on
<a href="association-mapping.html">Association Mapping</a>.</p>
<a class="section-anchor" id="guide-assumptions" name="guide-assumptions"></a><h2 class="section-header"><a href="#guide-assumptions">Guide Assumptions<i class="fas fa-link"></i></a></h2>
<p>You should have already <a href="configuration.html">installed and configure</a>
Doctrine.</p>
<a class="section-anchor" id="creating-classes-for-the-database" name="creating-classes-for-the-database"></a><h2 class="section-header"><a href="#creating-classes-for-the-database">Creating Classes for the Database<i class="fas fa-link"></i></a></h2>
<p>Every PHP object that you want to save in the database using Doctrine
is called an &quot;Entity&quot;. The term &quot;Entity&quot; describes objects
that have an identity over many independent requests. This identity is
usually achieved by assigning a unique identifier to an entity.
In this tutorial the following <code>Message</code> PHP class will serve as the
example Entity:</p>
<pre><code class="php">&lt;?php
class Message
{
    private $id;
    private $text;
    private $postedAt;
}
</code></pre>
<p>Because Doctrine is a generic library, it only knows about your
entities because you will describe their existence and structure using
mapping metadata, which is configuration that tells Doctrine how your
entity should be stored in the database. The documentation will often
speak of &quot;mapping something&quot;, which means writing the mapping metadata
that describes your entity.</p>
<p>Doctrine provides several different ways to specify object-relational
mapping metadata:</p>
<ul><li class="dash"> <a href="annotations-reference.html">Docblock Annotations</a></li>
<li class="dash"> <a href="xml-mapping.html">XML</a></li>
<li class="dash"> <a href="yaml-mapping.html">YAML</a></li>
<li class="dash"> <a href="php-mapping.html">PHP code</a></li>
</ul>

<p>This manual will usually show mapping metadata via docblock annotations, though
many examples also show the equivalent configuration in YAML and XML.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>All metadata drivers perform equally. Once the metadata of a class has been
read from the source (annotations, xml or yaml) it is stored in an instance
of the <code>Doctrine\ORM\Mapping\ClassMetadata</code> class and these instances are
stored in the metadata cache.  If you're not using a metadata cache (not
recommended!) then the XML driver is the fastest.</p>
</div>
<p>Marking our <code>Message</code> class as an entity for Doctrine is straightforward:</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre><code class="php">&lt;?php
/** @Entity */
class Message
{
    //...
}
</code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre><code class="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;Message&quot;&gt;
      &lt;!-- ... --&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;
</code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre><code class="yaml">Message:
  type: entity
  # ...
</code></pre></div></li></ul></div>
<p>With no additional information, Doctrine expects the entity to be saved
into a table with the same name as the class in our case <code>Message</code>.
You can change this by configuring information about the table:</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre><code class="php">&lt;?php
/**
 * @Entity
 * @Table(name=&quot;message&quot;)
 */
class Message
{
    //...
}
</code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre><code class="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;Message&quot; table=&quot;message&quot;&gt;
      &lt;!-- ... --&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;
</code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre><code class="yaml">Message:
  type: entity
  table: message
  # ...
</code></pre></div></li></ul></div>
<p>Now the class <code>Message</code> will be saved and fetched from the table <code>message</code>.</p>
<a class="section-anchor" id="property-mapping" name="property-mapping"></a><h2 class="section-header"><a href="#property-mapping">Property Mapping<i class="fas fa-link"></i></a></h2>
<p>The next step after marking a PHP class as an entity is mapping its properties
to columns in a table.</p>
<p>To configure a property use the <code>@Column</code> docblock annotation. The <code>type</code>
attribute specifies the <a href="#reference-mapping-types">Doctrine Mapping Type</a>
to use for the field. If the type is not specified, <code>string</code> is used as the
default.</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre><code class="php">&lt;?php
/** @Entity */
class Message
{
    /** @Column(type=&quot;integer&quot;) */
    private $id;
    /** @Column(length=140) */
    private $text;
    /** @Column(type=&quot;datetime&quot;, name=&quot;posted_at&quot;) */
    private $postedAt;
}
</code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre><code class="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;Message&quot;&gt;
    &lt;field name=&quot;id&quot; type=&quot;integer&quot; /&gt;
    &lt;field name=&quot;text&quot; length=&quot;140&quot; /&gt;
    &lt;field name=&quot;postedAt&quot; column=&quot;posted_at&quot; type=&quot;datetime&quot; /&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;
</code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre><code class="yaml">Message:
  type: entity
  fields:
    id:
      type: integer
    text:
      length: 140
    postedAt:
      type: datetime
      column: posted_at
</code></pre></div></li></ul></div>
<p>When we don't explicitly specify a column name via the <code>name</code> option, Doctrine
assumes the field name is also the column name. This means that:</p>
<ul><li>the <code>id</code> property will map to the column <code>id</code> using the type <code>integer</code>;</li>
<li>the <code>text</code> property will map to the column <code>text</code> with the default mapping type <code>string</code>;</li>
<li>the <code>postedAt</code> property will map to the <code>posted_at</code> column with the <code>datetime</code> type.</li>
</ul>

<p>The Column annotation has some more attributes. Here is a complete
list:</p>
<ul><li class="dash"><code>type</code>: (optional, defaults to 'string') The mapping type to
  use for the column.</li>
<li class="dash"><code>name</code>: (optional, defaults to field name) The name of the
  column in the database.</li>
<li class="dash"><code>length</code>: (optional, default 255) The length of the column in
  the database. (Applies only if a string-valued column is used).</li>
<li class="dash"><code>unique</code>: (optional, default FALSE) Whether the column is a
  unique key.</li>
<li class="dash"><code>nullable</code>: (optional, default FALSE) Whether the database
  column is nullable.</li>
<li class="dash"><code>precision</code>: (optional, default 0) The precision for a decimal
  (exact numeric) column (applies only for decimal column),
  which is the maximum number of digits that are stored for the values.</li>
<li class="dash"><code>scale</code>: (optional, default 0) The scale for a decimal (exact
  numeric) column (applies only for decimal column), which represents
  the number of digits to the right of the decimal point and must
  not be greater than <em>precision</em>.</li>
<li class="dash"><code>columnDefinition</code>: (optional) Allows to define a custom
  DDL snippet that is used to create the column. Warning: This normally
  confuses the SchemaTool to always detect the column as changed.</li>
<li class="dash"><code>options</code>: (optional) Key-value pairs of options that get passed
  to the underlying database platform when generating DDL statements.</li>
</ul>

<a id="reference-mapping-types"></a>
<a class="section-anchor" id="doctrine-mapping-types" name="doctrine-mapping-types"></a><h2 class="section-header"><a href="#doctrine-mapping-types">Doctrine Mapping Types<i class="fas fa-link"></i></a></h2>
<p>The <code>type</code> option used in the <code>@Column</code> accepts any of the existing
Doctrine types or even your own custom types. A Doctrine type defines
the conversion between PHP and SQL types, independent from the database vendor
you are using. All Mapping Types that ship with Doctrine are fully portable
between the supported database systems.</p>
<p>As an example, the Doctrine Mapping Type <code>string</code> defines the
mapping from a PHP string to a SQL VARCHAR (or VARCHAR2 etc.
depending on the RDBMS brand). Here is a quick overview of the
built-in mapping types:</p>
<ul><li class="dash"> <code>string</code>: Type that maps a SQL VARCHAR to a PHP string.</li>
<li class="dash"> <code>integer</code>: Type that maps a SQL INT to a PHP integer.</li>
<li class="dash"> <code>smallint</code>: Type that maps a database SMALLINT to a PHP
   integer.</li>
<li class="dash"> <code>bigint</code>: Type that maps a database BIGINT to a PHP string.</li>
<li class="dash"> <code>boolean</code>: Type that maps a SQL boolean or equivalent (TINYINT) to a PHP boolean.</li>
<li class="dash"> <code>decimal</code>: Type that maps a SQL DECIMAL to a PHP string.</li>
<li class="dash"> <code>date</code>: Type that maps a SQL DATETIME to a PHP DateTime
   object.</li>
<li class="dash"> <code>time</code>: Type that maps a SQL TIME to a PHP DateTime object.</li>
<li class="dash"> <code>datetime</code>: Type that maps a SQL DATETIME/TIMESTAMP to a PHP
   DateTime object.</li>
<li class="dash"> <code>datetimetz</code>: Type that maps a SQL DATETIME/TIMESTAMP to a PHP
   DateTime object with timezone.</li>
<li class="dash"> <code>text</code>: Type that maps a SQL CLOB to a PHP string.</li>
<li class="dash"> <code>object</code>: Type that maps a SQL CLOB to a PHP object using
   <code>serialize()</code> and <code>unserialize()</code></li>
<li class="dash"> <code>array</code>: Type that maps a SQL CLOB to a PHP array using
   <code>serialize()</code> and <code>unserialize()</code></li>
<li class="dash"> <code>simple_array</code>: Type that maps a SQL CLOB to a PHP array using
   <code>implode()</code> and <code>explode()</code>, with a comma as delimiter. <em>IMPORTANT</em>
   Only use this type if you are sure that your values cannot contain a &quot;,&quot;.</li>
<li class="dash"> <code>json_array</code>: Type that maps a SQL CLOB to a PHP array using
   <code>json_encode()</code> and <code>json_decode()</code></li>
<li class="dash"> <code>float</code>: Type that maps a SQL Float (Double Precision) to a
   PHP double. <em>IMPORTANT</em>: Works only with locale settings that use
   decimal points as separator.</li>
<li class="dash"> <code>guid</code>: Type that maps a database GUID/UUID to a PHP string. Defaults to
   varchar but uses a specific type if the platform supports it.</li>
<li class="dash"> <code>blob</code>: Type that maps a SQL BLOB to a PHP resource stream</li>
</ul>

<p>A cookbook article shows how to define <a href="../cookbook/custom-mapping-types.html">your own custom mapping types</a>.</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>DateTime and Object types are compared by reference, not by value. Doctrine
updates this values if the reference changes and therefore behaves as if
these objects are immutable value objects.</p>
</div>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>All Date types assume that you are exclusively using the default timezone
set by <a href="http://docs.php.net/manual/en/function.date-default-timezone-set.php">date_default_timezone_set()</a>
or by the php.ini configuration <code>date.timezone</code>. Working with
different timezones will cause troubles and unexpected behavior.</p>
<p>If you need specific timezone handling you have to handle this
in your domain, converting all the values back and forth from UTC.
There is also a <a href="../cookbook/working-with-datetime.html">cookbook entry</a>
on working with datetimes that gives hints for implementing
multi timezone applications.</p>
</div>
<a class="section-anchor" id="identifiers-primary-keys" name="identifiers-primary-keys"></a><h2 class="section-header"><a href="#identifiers-primary-keys">Identifiers / Primary Keys<i class="fas fa-link"></i></a></h2>
<p>Every entity class must have an identifier/primary key. You can select
the field that serves as the identifier with the <code>@Id</code>
annotation.</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre><code class="php">&lt;?php
class Message
{
    /**
     * @Id @Column(type=&quot;integer&quot;)
     * @GeneratedValue
     */
    private $id;
    //...
}
</code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre><code class="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;Message&quot;&gt;
    &lt;id name=&quot;id&quot; type=&quot;integer&quot;&gt;
        &lt;generator strategy=&quot;AUTO&quot; /&gt;
    &lt;/id&gt;
    &lt;!-- --&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;
</code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre><code class="yaml">Message:
  type: entity
  id:
    id:
      type: integer
      generator:
        strategy: AUTO
  fields:
    # fields here
</code></pre></div></li></ul></div>
<p>In most cases using the automatic generator strategy (<code>@GeneratedValue</code>) is
what you want. It defaults to the identifier generation mechanism your current
database vendor prefers: AUTO_INCREMENT with MySQL, SERIAL with PostgreSQL,
Sequences with Oracle and so on.</p>
<a class="section-anchor" id="identifier-generation-strategies" name="identifier-generation-strategies"></a><h3 class="section-header"><a href="#identifier-generation-strategies">Identifier Generation Strategies<i class="fas fa-link"></i></a></h3>
<p>The previous example showed how to use the default identifier
generation strategy without knowing the underlying database with
the AUTO-detection strategy. It is also possible to specify the
identifier generation strategy more explicitly, which allows you to
make use of some additional features.</p>
<p>Here is the list of possible generation strategies:</p>
<ul><li class="dash"> <code>AUTO</code> (default): Tells Doctrine to pick the strategy that is
   preferred by the used database platform. The preferred strategies
   are IDENTITY for MySQL, SQLite, MsSQL and SQL Anywhere and SEQUENCE
   for Oracle and PostgreSQL. This strategy provides full portability.</li>
<li class="dash"> <code>SEQUENCE</code>: Tells Doctrine to use a database sequence for ID
   generation. This strategy does currently not provide full
   portability. Sequences are supported by Oracle, PostgreSql and
   SQL Anywhere.</li>
<li class="dash"> <code>IDENTITY</code>: Tells Doctrine to use special identity columns in
   the database that generate a value on insertion of a row. This
   strategy does currently not provide full portability and is
   supported by the following platforms: MySQL/SQLite/SQL Anywhere
   (AUTO\_INCREMENT), MSSQL (IDENTITY) and PostgreSQL (SERIAL).</li>
<li class="dash"> <code>TABLE</code>: Tells Doctrine to use a separate table for ID
   generation. This strategy provides full portability.
   <strong><em>This strategy is not yet implemented!</strong></em></li>
<li class="dash"> <code>NONE</code>: Tells Doctrine that the identifiers are assigned (and
   thus generated) by your code. The assignment must take place before
   a new entity is passed to <code>EntityManager#persist</code>. NONE is the
   same as leaving off the @GeneratedValue entirely.</li>
</ul>

<a class="section-anchor" id="sequence-generator" name="sequence-generator"></a><h4 class="section-header"><a href="#sequence-generator">Sequence Generator<i class="fas fa-link"></i></a></h4>
<p>The Sequence Generator can currently be used in conjunction with
Oracle or Postgres and allows some additional configuration options
besides specifying the sequence's name:</p>
<div class="configuration-block jsactive clearfix"><ul class="simple"><li><em>PHP</em><div class="highlight-php"><pre><code class="php">&lt;?php
class Message
{
    /**
     * @Id
     * @GeneratedValue(strategy=&quot;SEQUENCE&quot;)
     * @SequenceGenerator(sequenceName=&quot;message_seq&quot;, initialValue=1, allocationSize=100)
     */
    protected $id = null;
    //...
}
</code></pre></div></li><li><em>XML</em><div class="highlight-xml"><pre><code class="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;Message&quot;&gt;
    &lt;id name=&quot;id&quot; type=&quot;integer&quot;&gt;
        &lt;generator strategy=&quot;SEQUENCE&quot; /&gt;
        &lt;sequence-generator sequence-name=&quot;message_seq&quot; allocation-size=&quot;100&quot; initial-value=&quot;1&quot; /&gt;
    &lt;/id&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;
</code></pre></div></li><li><em>YAML</em><div class="highlight-yaml"><pre><code class="yaml">Message:
  type: entity
  id:
    id:
      type: integer
      generator:
        strategy: SEQUENCE
      sequenceGenerator:
        sequenceName: message_seq
        allocationSize: 100
        initialValue: 1
</code></pre></div></li></ul></div>
<p>The initial value specifies at which value the sequence should
start.</p>
<p>The allocationSize is a powerful feature to optimize INSERT
performance of Doctrine. The allocationSize specifies by how much
values the sequence is incremented whenever the next value is
retrieved. If this is larger than 1 (one) Doctrine can generate
identifier values for the allocationSizes amount of entities. In
the above example with <code>allocationSize=100</code> Doctrine 2 would only
need to access the sequence once to generate the identifiers for
100 new entities.</p>
<p><em>The default allocationSize for a @SequenceGenerator is currently 10.</em></p>
<div class="alert caution bg-light-yellow text-dark border"><i class="fas fa-exclamation-triangle text-danger mr-2"></i><p>The allocationSize is detected by SchemaTool and
transformed into an &quot;INCREMENT BY &quot; clause in the CREATE SEQUENCE
statement. For a database schema created manually (and not
SchemaTool) you have to make sure that the allocationSize
configuration option is never larger than the actual sequences
INCREMENT BY value, otherwise you may get duplicate keys.</p>
</div>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>It is possible to use strategy=&quot;AUTO&quot; and at the same time
specifying a @SequenceGenerator. In such a case, your custom
sequence settings are used in the case where the preferred strategy
of the underlying platform is SEQUENCE, such as for Oracle and
PostgreSQL.</p>
</div>
<a class="section-anchor" id="composite-keys" name="composite-keys"></a><h3 class="section-header"><a href="#composite-keys">Composite Keys<i class="fas fa-link"></i></a></h3>
<p>with Doctrine 2 you can use composite primary keys, using <code>@Id</code> on more then
one column. Some restrictions exist opposed to using a single identifier in
this case: The use of the <code>@GeneratedValue</code> annotation is not supported,
which means you can only use composite keys if you generate the primary key
values yourself before calling <code>EntityManager#persist()</code> on the entity.</p>
<p>More details on composite primary keys are discussed in a <a href="../tutorials/composite-primary-keys.html">dedicated tutorial</a>.</p>
<a class="section-anchor" id="quoting-reserved-words" name="quoting-reserved-words"></a><h2 class="section-header"><a href="#quoting-reserved-words">Quoting Reserved Words<i class="fas fa-link"></i></a></h2>
<p>Sometimes it is necessary to quote a column or table name because of reserved
word conflicts. Doctrine does not quote identifiers automatically, because it
leads to more problems than it would solve. Quoting tables and column names
needs to be done explicitly using ticks in the definition.</p>
<pre><code class="php">&lt;?php
/** @Column(name=&quot;`number`&quot;, type=&quot;integer&quot;) */
private $number;
</code></pre>
<p>Doctrine will then quote this column name in all SQL statements
according to the used database platform.</p>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>Identifier Quoting does not work for join column names or discriminator
column names unless you are using a custom <code>QuoteStrategy</code>.</p>
</div>
<a id="reference-basic-mapping-custom-mapping-types"></a>
<p>For more control over column quoting the <code>Doctrine\ORM\Mapping\QuoteStrategy</code> interface
was introduced in 2.3. It is invoked for every column, table, alias and other
SQL names. You can implement the QuoteStrategy and set it by calling
<code>Doctrine\ORM\Configuration#setQuoteStrategy()</code>.</p>
<p>The ANSI Quote Strategy was added, which assumes quoting is not necessary for any SQL name.
You can use it with the following code:</p>
<pre><code class="php">&lt;?php
use Doctrine\ORM\Mapping\AnsiQuoteStrategy;

$configuration-&gt;setQuoteStrategy(new AnsiQuoteStrategy());
</code></pre>
<p></p>
                                            </div>
                </div>
            </main>
        </div>
    </div>

                            
        <button id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://staging.doctrine-project.org/components/highlightjs/highlight.pack.js?3970aa"></script>

        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script src="https://staging.doctrine-project.org/js/main.js?2a2af0"></script>
        <script src="https://staging.doctrine-project.org/js/search.js?21d569"></script>

        <script type="text/javascript">
            var projectSlug = 'orm';
            var versionSlug = '2.5';

            new Main();

            new Search(projectSlug, versionSlug);
        </script>

            <script src="https://staging.doctrine-project.org/js/sidebar.js?482a20"></script>

    <script type="text/javascript">
        new Sidebar();
    </script>

        
        
            </body>
</html>
