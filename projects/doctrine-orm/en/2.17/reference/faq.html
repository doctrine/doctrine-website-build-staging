<!DOCTYPE html>
<html>
    <head>
        <title>        Frequently Asked Questions - Doctrine Object Relational Mapper (ORM)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Object Relational Mapper Documentation: Frequently Asked Questions ">

        <meta name="keywords" content="                    orm,database,documentation,frequently,asked,questions
    ">

                    <meta name="robots" content="noindex">
        
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine-orm/en/3.2/reference/faq.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/frontend/css/index.css?30e146"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine-orm/en/2.17/reference/faq.html" />
        <meta property="og:title" content="        Frequently Asked Questions - Doctrine Object Relational Mapper (ORM)
    " />
        <meta property="og:description" content="Doctrine Object Relational Mapper Documentation: Frequently Asked Questions " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Object Relational Mapper",
            "description": "Frequently Asked Questions",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://staging.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/orm/edit/2.17.x/docs/en/reference/faq.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc-section">
<h2 class="toc-header">Tutorials</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="../tutorials/getting-started.html#getting-started-with-doctrine">Getting Started with Doctrine</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/getting-started-database.html#getting-started-database-first">Getting Started: Database First</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/getting-started-models.html#getting-started-model-first">Getting Started: Model First</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/working-with-indexed-associations.html#working-with-indexed-associations">Working with Indexed Associations</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/extra-lazy-associations.html#extra-lazy-associations">Extra Lazy Associations</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/composite-primary-keys.html#composite-and-foreign-keys-as-primary-key">Composite and Foreign Keys as Primary Key</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/ordered-associations.html#ordering-to-many-associations">Ordering To-Many Associations</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/override-field-association-mappings-in-subclasses.html#override-field-association-mappings-in-subclasses">Override Field Association Mappings In Subclasses</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/pagination.html#pagination">Pagination</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/embeddables.html#separating-concerns-using-embeddables">Separating Concerns using Embeddables</a>


</li>
    </ul>
</div>
</div><div class="toc-section">
<h2 class="toc-header">Reference</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="architecture.html#architecture">Architecture</a>


</li>
    <li class="toc-item">
    <a href="configuration.html#installation-and-configuration">Installation and Configuration</a>


</li>
    <li class="toc-item opened">
    <a href="#frequently-asked-questions">Frequently Asked Questions</a>


</li>
    <li class="toc-item">
    <a href="basic-mapping.html#basic-mapping">Basic Mapping</a>


</li>
    <li class="toc-item">
    <a href="association-mapping.html#association-mapping">Association Mapping</a>


</li>
    <li class="toc-item">
    <a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a>


</li>
    <li class="toc-item">
    <a href="working-with-objects.html#working-with-objects">Working with Objects</a>


</li>
    <li class="toc-item">
    <a href="working-with-associations.html#working-with-associations">Working with Associations</a>


</li>
    <li class="toc-item">
    <a href="events.html#events">Events</a>


</li>
    <li class="toc-item">
    <a href="unitofwork.html#doctrine-internals-explained">Doctrine Internals explained</a>


</li>
    <li class="toc-item">
    <a href="unitofwork-associations.html#association-updates-owning-side-and-inverse-side">Association Updates: Owning Side and Inverse Side</a>


</li>
    <li class="toc-item">
    <a href="transactions-and-concurrency.html#transactions-and-concurrency">Transactions and Concurrency</a>


</li>
    <li class="toc-item">
    <a href="batch-processing.html#batch-processing">Batch Processing</a>


</li>
    <li class="toc-item">
    <a href="dql-doctrine-query-language.html#doctrine-query-language">Doctrine Query Language</a>


</li>
    <li class="toc-item">
    <a href="query-builder.html#the-querybuilder">The QueryBuilder</a>


</li>
    <li class="toc-item">
    <a href="native-sql.html#native-sql">Native SQL</a>


</li>
    <li class="toc-item">
    <a href="change-tracking-policies.html#change-tracking-policies">Change Tracking Policies</a>


</li>
    <li class="toc-item">
    <a href="partial-objects.html#partial-objects">Partial Objects</a>


</li>
    <li class="toc-item">
    <a href="annotations-reference.html#annotations-reference">Annotations Reference</a>


</li>
    <li class="toc-item">
    <a href="attributes-reference.html#attributes-reference">Attributes Reference</a>


</li>
    <li class="toc-item">
    <a href="xml-mapping.html#xml-mapping">XML Mapping</a>


</li>
    <li class="toc-item">
    <a href="yaml-mapping.html#yaml-mapping">YAML Mapping</a>


</li>
    <li class="toc-item">
    <a href="php-mapping.html#php-mapping">PHP Mapping</a>


</li>
    <li class="toc-item">
    <a href="caching.html#caching">Caching</a>


</li>
    <li class="toc-item">
    <a href="improving-performance.html#improving-performance">Improving Performance</a>


</li>
    <li class="toc-item">
    <a href="tools.html#tools">Tools</a>


</li>
    <li class="toc-item">
    <a href="metadata-drivers.html#metadata-drivers">Metadata Drivers</a>


</li>
    <li class="toc-item">
    <a href="best-practices.html#best-practices">Best Practices</a>


</li>
    <li class="toc-item">
    <a href="limitations-and-known-issues.html#limitations-and-known-issues">Limitations and Known Issues</a>


</li>
    <li class="toc-item">
    <a href="../tutorials/pagination.html#pagination">Pagination</a>


</li>
    <li class="toc-item">
    <a href="filters.html#filters">Filters</a>


</li>
    <li class="toc-item">
    <a href="namingstrategy.html#implementing-a-namingstrategy">Implementing a NamingStrategy</a>


</li>
    <li class="toc-item">
    <a href="advanced-configuration.html#advanced-configuration">Advanced Configuration</a>


</li>
    <li class="toc-item">
    <a href="second-level-cache.html#the-second-level-cache">The Second Level Cache</a>


</li>
    <li class="toc-item">
    <a href="security.html#security">Security</a>


</li>
    </ul>
</div>
</div><div class="toc-section">
<h2 class="toc-header">Cookbook</h2><div class="toc">
    <ul class="menu-level">
    <li class="toc-item">
    <a href="../cookbook/aggregate-fields.html#aggregate-fields">Aggregate Fields</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/custom-mapping-types.html#custom-mapping-types">Custom Mapping Types</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/decorator-pattern.html#persisting-the-decorator-pattern">Persisting the Decorator Pattern</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/dql-custom-walkers.html#extending-dql-in-doctrine-orm-custom-ast-walkers">Extending DQL in Doctrine ORM: Custom AST Walkers</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/dql-user-defined-functions.html#dql-user-defined-functions">DQL User Defined Functions</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/implementing-arrayaccess-for-domain-objects.html#implementing-arrayaccess-for-domain-objects">Implementing ArrayAccess for Domain Objects</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/implementing-the-notify-changetracking-policy.html#implementing-the-notify-changetracking-policy">Implementing the Notify ChangeTracking Policy</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/resolve-target-entity-listener.html#keeping-your-modules-independent">Keeping your Modules independent</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/sql-table-prefixes.html#sql-table-prefixes">SQL-Table Prefixes</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/strategy-cookbook-introduction.html#strategy-pattern">Strategy-Pattern</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/validation-of-entities.html#validation-of-entities">Validation of Entities</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/working-with-datetime.html#working-with-datetime-instances">Working with DateTime Instances</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/mysql-enums.html#mysql-enums">Mysql Enums</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/advanced-field-value-conversion-using-custom-mapping-types.html#advanced-field-value-conversion-using-custom-mapping-types">Advanced field value conversion using custom mapping types</a>


</li>
    <li class="toc-item">
    <a href="../cookbook/entities-in-session.html#entities-in-the-session">Entities in the Session</a>


</li>
    </ul>
</div>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://staging.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "ORM",
            "item": "https://staging.doctrine-project.org/projects/orm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://staging.doctrine-project.org/projects/doctrine-orm/en/2.17/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Frequently Asked Questions",
            "item": "https://staging.doctrine-project.org/projects/doctrine-orm/en/2.17/reference/faq.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/orm.html">ORM</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-orm/en/2.17/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Frequently Asked Questions</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>You are browsing a version that is no longer maintained.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-orm/en/2.17/reference/faq.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        2.17.5
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/latest/reference/faq.html">
                                                        4.0

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/3.3/reference/faq.html">
                                                        3.3

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/3.2/reference/faq.html">
                                                        3.2.2

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/2.20/reference/faq.html">
                                                        2.20

                                                        
                                                                                                                    (upcoming)
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-orm/en/2.19/reference/faq.html">
                                                        2.19.7

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.1/reference/faq.html">3.1</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/3.0/reference/faq.html">3.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.18/reference/faq.html">2.18</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item active" href="/projects/doctrine-orm/en/2.17/reference/faq.html">2.17</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.16/reference/faq.html">2.16</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.15/reference/faq.html">2.15</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.14/reference/faq.html">2.14</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.13/reference/faq.html">2.13</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.12/reference/faq.html">2.12</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.11/reference/faq.html">2.11</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-orm/en/2.10/reference/faq.html">2.10</a>
                                                                                                                                                                        </div>
                                </div>
                            
                            

            <div class="section" id="frequently-asked-questions">
            <h1 class="section-header ">
    <a href="#frequently-asked-questions">
        Frequently Asked Questions
        <i class="fas fa-link"></i>
    </a>
</h1>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>This FAQ is a work in progress. We will add lots of questions and not answer them right away just to remember
what is often asked. If you stumble across an unanswered question please write a mail to the mailing-list or
join the #doctrine channel on Freenode IRC.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="section" id="database-schema">
            <h2 class="section-header ">
    <a href="#database-schema">
        Database Schema
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="how-do-i-set-the-charset-and-collation-for-mysql-tables">
            <h3 class="section-header ">
    <a href="#how-do-i-set-the-charset-and-collation-for-mysql-tables">
        How do I set the charset and collation for MySQL tables?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>In your mapping configuration, the column definition (for example, the
<code>#[Column]</code> attribute) has an <code>options</code> parameter where you can specify
the <code>charset</code> and <code>collation</code>. The default values are <code>utf8</code> and
<code>utf8_unicode_ci</code>, respectively.</p>

    </div>
    </div>
            <div class="section" id="entity-classes">
            <h2 class="section-header ">
    <a href="#entity-classes">
        Entity Classes
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="how-can-i-add-default-values-to-a-column">
            <h3 class="section-header ">
    <a href="#how-can-i-add-default-values-to-a-column">
        How can I add default values to a column?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Doctrine does not support to set the default values in columns through the &quot;DEFAULT&quot; keyword in SQL.
This is not necessary however, you can just use your class properties as default values. These are then used
upon insert:</p>

            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9eeaaa493c62efe68d116109612620e70fa5fac3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9eeaaa493c62efe68d116109612620e70fa5fac3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-1" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-1">1</a></td><td class="code-line" rowspan="9"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> STATUS_DISABLED = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> STATUS_ENABLED = <span class="hljs-number">1</span>;

    <span class="hljs-keyword">private</span> string $algorithm = <span class="hljs-string">"sha1"</span>;
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> self::STATUS_* */</span>
    <span class="hljs-keyword">private</span> int $status = <span class="hljs-keyword">self</span>::STATUS_DISABLED;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-2" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-3" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-4" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-5" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-6" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-7" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-8" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-9" class="line-number-anchor" /><a href="#line-number-9eeaaa493c62efe68d116109612620e70fa5fac3-9">9</a></td></tr></table></div></code></pre>
            
    <p>.</p>

    </div>
    </div>
            <div class="section" id="mapping">
            <h2 class="section-header ">
    <a href="#mapping">
        Mapping
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="why-do-i-get-exceptions-about-unique-constraint-failures-during-em-flush">
            <h3 class="section-header ">
    <a href="#why-do-i-get-exceptions-about-unique-constraint-failures-during-em-flush">
        Why do I get exceptions about unique constraint failures during <code>$em-&gt;flush()</code>?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Doctrine does not check if you are re-adding entities with a primary key that already exists
or adding entities to a collection twice. You have to check for both conditions yourself
in the code before calling <code>$em-&gt;flush()</code> if you know that unique constraint failures
can occur.</p>

            
    <p>In <a href="https://www.symfony.com">Symfony2</a> for example there is a Unique Entity Validator
to achieve this task.</p>

            
    <p>For collections you can check with <code>$collection-&gt;contains($entity)</code> if an entity is already
part of this collection. For a FETCH=LAZY collection this will initialize the collection,
however for FETCH=EXTRA_LAZY this method will use SQL to determine if this entity is already
part of the collection.</p>

    </div>
    </div>
            <div class="section" id="associations">
            <h2 class="section-header ">
    <a href="#associations">
        Associations
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="what-is-wrong-when-i-get-an-invalidargumentexception-a-new-entity-was-found-through-the-relationship">
            <h3 class="section-header ">
    <a href="#what-is-wrong-when-i-get-an-invalidargumentexception-a-new-entity-was-found-through-the-relationship">
        What is wrong when I get an InvalidArgumentException &quot;A new entity was found through the relationship..&quot;?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>This exception is thrown during <code>EntityManager#flush()</code> when there exists an object in the identity map
that contains a reference to an object that Doctrine does not know about. Say for example you grab
a &quot;User&quot;-entity from the database with a specific id and set a completely new object into one of the associations
of the User object. If you then call <code>EntityManager#flush()</code> without letting Doctrine know about
this new object using <code>EntityManager#persist($newObject)</code> you will see this exception.</p>

            
    <p>You can solve this exception by:</p>

            

<ul>
    <li>Calling <code>EntityManager#persist($newObject)</code> on the new object</li>
    <li>Using cascade=persist on the association that contains the new object</li>
</ul>

    </div>
            <div class="section" id="how-can-i-filter-an-association">
            <h3 class="section-header ">
    <a href="#how-can-i-filter-an-association">
        How can I filter an association?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>You should use DQL queries to query for the filtered set of entities.</p>

    </div>
            <div class="section" id="i-call-clear-on-a-one-to-many-collection-but-the-entities-are-not-deleted">
            <h3 class="section-header ">
    <a href="#i-call-clear-on-a-one-to-many-collection-but-the-entities-are-not-deleted">
        I call clear() on a One-To-Many collection but the entities are not deleted
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>This is an expected behavior that has to do with the inverse/owning side handling of Doctrine.
By definition a One-To-Many association is on the inverse side, that means changes to it
will not be recognized by Doctrine.</p>

            
    <p>If you want to perform the equivalent of the clear operation you have to iterate the
collection and set the owning side many-to-one reference to NULL as well to detach all entities
from the collection. This will trigger the appropriate UPDATE statements on the database.</p>

    </div>
            <div class="section" id="how-can-i-add-columns-to-a-many-to-many-table">
            <h3 class="section-header ">
    <a href="#how-can-i-add-columns-to-a-many-to-many-table">
        How can I add columns to a many-to-many table?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The many-to-many association is only supporting foreign keys in the table definition
To work with many-to-many tables containing extra columns you have to use the
foreign keys as primary keys feature of Doctrine ORM.</p>

            
    <p>See <a href="../tutorials/composite-primary-keys.html">the tutorial on composite primary keys for more information</a>.</p>

    </div>
            <div class="section" id="how-can-i-paginate-fetch-joined-collections">
            <h3 class="section-header ">
    <a href="#how-can-i-paginate-fetch-joined-collections">
        How can i paginate fetch-joined collections?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If you are issuing a DQL statement that fetches a collection as well you cannot easily iterate
over this collection using a LIMIT statement (or vendor equivalent).</p>

            
    <p>Doctrine does not offer a solution for this out of the box but there are several extensions
that do:</p>

            

<ul>
    <li><a href="https://github.com/beberlei/DoctrineExtensions">DoctrineExtensions</a></li>
    <li><a href="https://github.com/whiteoctober/pagerfanta">Pagerfanta</a></li>
</ul>

    </div>
            <div class="section" id="why-does-pagination-not-work-correctly-with-fetch-joins">
            <h3 class="section-header ">
    <a href="#why-does-pagination-not-work-correctly-with-fetch-joins">
        Why does pagination not work correctly with fetch joins?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Pagination in Doctrine uses a LIMIT clause (or vendor equivalent) to restrict the results.
However when fetch-joining this is not returning the correct number of results since joining
with a one-to-many or many-to-many association multiplies the number of rows by the number
of associated entities.</p>

            
    <p>See the previous question for a solution to this task.</p>

    </div>
    </div>
            <div class="section" id="inheritance">
            <h2 class="section-header ">
    <a href="#inheritance">
        Inheritance
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="can-i-use-inheritance-with-doctrine-orm">
            <h3 class="section-header ">
    <a href="#can-i-use-inheritance-with-doctrine-orm">
        Can I use Inheritance with Doctrine ORM?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Yes, you can use Single- or Joined-Table Inheritance in ORM.</p>

            
    <p>See the documentation chapter on <a href="inheritance-mapping.html">inheritance mapping</a> for
the details.</p>

    </div>
            <div class="section" id="why-does-doctrine-not-create-proxy-objects-for-my-inheritance-hierarchy">
            <h3 class="section-header ">
    <a href="#why-does-doctrine-not-create-proxy-objects-for-my-inheritance-hierarchy">
        Why does Doctrine not create proxy objects for my inheritance hierarchy?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If you set a many-to-one or one-to-one association target-entity to any parent class of
an inheritance hierarchy Doctrine does not know what PHP class the foreign is actually of.
To find this out it has to execute a SQL query to look this information up in the database.</p>

    </div>
    </div>
            <div class="section" id="entitygenerator">
            <h2 class="section-header ">
    <a href="#entitygenerator">
        EntityGenerator
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="why-does-the-entitygenerator-not-do-x">
            <h3 class="section-header ">
    <a href="#why-does-the-entitygenerator-not-do-x">
        Why does the EntityGenerator not do X?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The EntityGenerator is not a full fledged code-generator that solves all tasks. Code-Generation
is not a first-class priority in Doctrine 2 anymore (compared to Doctrine 1). The EntityGenerator
is supposed to kick-start you, but not towards 100%.</p>

    </div>
            <div class="section" id="why-does-the-entitygenerator-not-generate-inheritance-correctly">
            <h3 class="section-header ">
    <a href="#why-does-the-entitygenerator-not-generate-inheritance-correctly">
        Why does the EntityGenerator not generate inheritance correctly?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>Just from the details of the discriminator map the EntityGenerator cannot guess the inheritance hierarchy.
This is why the generation of inherited entities does not fully work. You have to adjust some additional
code to get this one working correctly.</p>

    </div>
    </div>
            <div class="section" id="performance">
            <h2 class="section-header ">
    <a href="#performance">
        Performance
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="why-is-an-extra-sql-query-executed-every-time-i-fetch-an-entity-with-a-one-to-one-relation">
            <h3 class="section-header ">
    <a href="#why-is-an-extra-sql-query-executed-every-time-i-fetch-an-entity-with-a-one-to-one-relation">
        Why is an extra SQL query executed every time I fetch an entity with a one-to-one relation?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>If Doctrine detects that you are fetching an inverse side one-to-one association
it has to execute an additional query to load this object, because it cannot know
if there is no such object (setting null) or if it should set a proxy and which id this proxy has.</p>

            
    <p>To solve this problem currently a query has to be executed to find out this information.</p>

    </div>
    </div>
            <div class="section" id="doctrine-query-language">
            <h2 class="section-header ">
    <a href="#doctrine-query-language">
        Doctrine Query Language
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="what-is-dql">
            <h3 class="section-header ">
    <a href="#what-is-dql">
        What is DQL?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>DQL stands for Doctrine Query Language, a query language that very much looks like SQL
but has some important benefits when using Doctrine:</p>

            

<ul>
    <li class="dash">It uses class names and fields instead of tables and columns, separating concerns between backend and your object model.</li>
    <li class="dash">It utilizes the metadata defined to offer a range of shortcuts when writing. For example you do not have to specify the ON clause of joins, since Doctrine already knows about them.</li>
    <li class="dash">It adds some functionality that is related to object management and transforms them into SQL.</li>
</ul>

            
    <p>It also has some drawbacks of course:</p>

            

<ul>
    <li class="dash">The syntax is slightly different to SQL so you have to learn and remember the differences.</li>
    <li class="dash">To be vendor independent it can only implement a subset of all the existing SQL dialects. Vendor specific functionality and optimizations cannot be used through DQL unless implemented by you explicitly.</li>
    <li class="dash">For some DQL constructs subselects are used which are known to be slow in MySQL.</li>
</ul>

    </div>
            <div class="section" id="can-i-sort-by-a-function-for-example-order-by-rand-in-dql">
            <h3 class="section-header ">
    <a href="#can-i-sort-by-a-function-for-example-order-by-rand-in-dql">
        Can I sort by a function (for example ORDER BY RAND()) in DQL?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>No, it is not supported to sort by function in DQL. If you need this functionality you should either
use a native-query or come up with another solution. As a side note: Sorting with ORDER BY RAND() is painfully slow
starting with 1000 rows.</p>

    </div>
            <div class="section" id="is-it-better-to-write-dql-or-to-generate-it-with-the-query-builder">
            <h3 class="section-header ">
    <a href="#is-it-better-to-write-dql-or-to-generate-it-with-the-query-builder">
        Is it better to write DQL or to generate it with the query builder?
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>The purpose of the <code>QueryBuilder</code> is to generate DQL dynamically,
which is useful when you have optional filters, conditional joins, etc.</p>

            
    <p>But the <code>QueryBuilder</code> is not an alternative to DQL, it actually generates DQL
queries at runtime, which are then interpreted by Doctrine. This means that
using the <code>QueryBuilder</code> to build and run a query is actually always slower
than only running the corresponding DQL query.</p>

            
    <p>So if you only need to generate a query and bind parameters to it,
you should use plain DQL, as this is a simpler and much more readable solution.
You should only use the <code>QueryBuilder</code> when you can&#039;t achieve what you want to do with a DQL query.</p>

    </div>
    </div>
            <div class="section" id="a-query-fails-how-can-i-debug-it">
            <h2 class="section-header ">
    <a href="#a-query-fails-how-can-i-debug-it">
        A Query fails, how can I debug it?
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>First, if you are using the QueryBuilder you can use
<code>$queryBuilder-&gt;getDQL()</code> to get the DQL string of this query. The
corresponding SQL you can get from the Query instance by calling
<code>$query-&gt;getSQL()</code>.</p>

            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="44d3b7c3dc7b8519ac44e5946170608891bb547d"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="44d3b7c3dc7b8519ac44e5946170608891bb547d"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-1" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-meta">&lt;?php</span>
$dql = <span class="hljs-string">"SELECT u FROM User u"</span>;
$query = $entityManager-&gt;createQuery($dql);
var_dump($query-&gt;getSQL());

$qb = $entityManager-&gt;createQueryBuilder();
$qb-&gt;select(<span class="hljs-string">'u'</span>)-&gt;from(<span class="hljs-string">'User'</span>, <span class="hljs-string">'u'</span>);
var_dump($qb-&gt;getDQL());</td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-2" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-3" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-4" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-5" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-6" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-7" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-8" class="line-number-anchor" /><a href="#line-number-44d3b7c3dc7b8519ac44e5946170608891bb547d-8">8</a></td></tr></table></div></code></pre>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://staging.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'orm';
            var versionSlug = '2.17';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search ORM 2.17'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
        
            </body>
</html>
