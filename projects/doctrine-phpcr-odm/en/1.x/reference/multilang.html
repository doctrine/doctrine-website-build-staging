<!DOCTYPE html>
<html>
    <head>
        <title>        Multilanguage support - Doctrine PHPCR ODM
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine PHPCR ODM Documentation: Multilanguage support ">

        <meta name="keywords" content="                    php,content,odm,data,mapper,mapping,object,documentation,multilanguage,support
    ">

                    <meta name="robots" content="noindex">
        
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/frontend/css/index.css?c900c9"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.x/reference/multilang.html" />
        <meta property="og:title" content="        Multilanguage support - Doctrine PHPCR ODM
    " />
        <meta property="og:description" content="Doctrine PHPCR ODM Documentation: Multilanguage support " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine PHPCR ODM",
            "description": "Multilanguage support",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://staging.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/phpcr-odm/edit/1.x/docs/en/reference/multilang.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://staging.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "PHPCR ODM",
            "item": "https://staging.doctrine-project.org/projects/phpcr-odm.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://staging.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.x/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Multilanguage support",
            "item": "https://staging.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.x/reference/multilang.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-phpcr-odm/en/1.x/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Multilanguage support</li>
                        </ol>
</nav>
                                    </div>

                

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-phpcr-odm/en/1.x/reference/multilang.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        1.x
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item" href="/projects/doctrine-phpcr-odm/en/latest/reference/multilang.html">
                                                        2.x

                                                                                                                    (current)
                                                        
                                                                                                            </a>
                                                                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-phpcr-odm/en/1.x/reference/multilang.html">
                                                        1.x

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/2.0/reference/multilang.html">2.0</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.8/reference/multilang.html">1.8</a>
                                                                                                                                                                                                
                                                    <a class="dropdown-item" href="/projects/doctrine-phpcr-odm/en/1.7/reference/multilang.html">1.7</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                </div>
                            
                            

            <div class="section" id="multilanguage-support">
            <h1 class="section-header ">
    <a href="#multilanguage-support">
        Multilanguage support
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>PHPCR-ODM has multilanguage support built in. This is an additional feature not supported by
PHPCR, but modeled on top of it.</p>

            <div class="section" id="philosophy">
            <h2 class="section-header ">
    <a href="#philosophy">
        Philosophy
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>You can mark any properties as being translatable and have the document manager store and load
the correct language for you. Note that translation always happens on a document level, not on
the individual translatable fields. The non-translated fields however are not duplicated to
avoid redundancy.</p>

            
    <p>The multilanguage support is built in a way to allow you to not explicitly handle language.
You can tell the DocumentManager the current language and it will be used as default language
when calling <code>find</code> methods and when persisting new documents.</p>

            
    <p>When a document is read, its current language is stored with the document, to make sure changes go
to the correct language.</p>

            
    <p>Because every document may only exist once, and translations are considered the same document, you can not have multiple languages loaded at the same time.</p>

            
    <p>For required fields (fields not having nullable=true), the behaviour is the
same as with normal fields: On saving, an error is thrown when a required field
is null. On loading, missing fields trigger no error. A translation exists as
soon as at least one field in that locale exists.</p>

    </div>
            <div class="section" id="mapping">
            <a id="multilang_mapping"></a>
            <h2 class="section-header ">
    <a href="#mapping">
        Mapping
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>To make a document translated, you need to define the <code>translator</code> parameter
on the document mapping, and you need to map the <code>locale</code> field. Then you
can use the <code>translated</code> parameter on all fields that should be different
depending on the locale.</p>

            
    <p>PHPCR-ODM does not restrict what fields may be translatable - if you need e.g.
a date to be different depending on the language, you can simply specify the
<code>translated: true</code> parameter.</p>

            <div class="configuration-block">
    <div role="tablist" aria-label="Configuration formats" class="configuration-tabs configuration-tabs-length-3">
                    <button role="tab" type="button" data-language="php"
                    aria-controls="configuration-block-tabpanel-7afc5759355349847adcfa6121a3bb54" aria-selected="true"
                    data-active="true" >
                <span>Php</span>
            </button>
                    <button role="tab" type="button" data-language="xml"
                    aria-controls="configuration-block-tabpanel-6ebb8d15d78b810f942e201bd02915ab" aria-selected="false"
                     tabindex="-1">
                <span>Xml</span>
            </button>
                    <button role="tab" type="button" data-language="yaml"
                    aria-controls="configuration-block-tabpanel-2568741fcfbed7cef932a2768bc15a27" aria-selected="false"
                     tabindex="-1">
                <span>Yaml</span>
            </button>
            </div>

            <div role="tabpanel" id="configuration-block-tabpanel-7afc5759355349847adcfa6121a3bb54" aria-label="Php" class="configuration-codeblock" data-language="php" style="">
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f7930bc9fb8c98363bed26cf98796b352a6a7069"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f7930bc9fb8c98363bed26cf98796b352a6a7069"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-1" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-1">1</a></td><td class="code-line" rowspan="27"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">Mapping</span>\<span class="hljs-title">Annotations</span> <span class="hljs-title">as</span> <span class="hljs-title">PHPCR</span>;

<span class="hljs-comment">#[PHPCR\Document(translator: 'attribute')]</span>
 */
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPersistentClass</span>
</span>{
    <span class="hljs-comment">#[PHPCR\Locale]</span>
    <span class="hljs-keyword">private</span> $locale;

    <span class="hljs-comment">/**
     * Untranslated property
     */</span>
    <span class="hljs-comment">#[PHPCR\Field(type: 'date')]</span>
    <span class="hljs-keyword">private</span> $publishDate;

    <span class="hljs-comment">/**
     * Translated property
     */</span>
    <span class="hljs-comment">#[PHPCR\Field(type: 'string', translated: true)]</span>
    <span class="hljs-keyword">private</span> $topic;

    <span class="hljs-comment">/**
     * Language specific image
     */</span>
    <span class="hljs-comment">#[PHPCR\Field(type: 'binary', translated: true)]</span>
    <span class="hljs-keyword">private</span> $image;
}</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-2" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-3" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-4" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-5" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-6" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-7" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-8" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-9" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-10" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-11" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-12" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-13" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-14" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-15" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-16" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-17" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-18" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-19" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-20" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-21" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-22" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-23" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-24" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-25" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-26" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-27" class="line-number-anchor" /><a href="#line-number-f7930bc9fb8c98363bed26cf98796b352a6a7069-27">27</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-6ebb8d15d78b810f942e201bd02915ab" aria-label="Xml" class="configuration-codeblock" data-language="xml" style="display: none">
            <pre class="code-block-table"><code class="xml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f14d00af75936f2a8f3ea6e4dd7008107c9f3070"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f14d00af75936f2a8f3ea6e4dd7008107c9f3070"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-1" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-1">1</a></td><td class="code-line" rowspan="8"><span class="hljs-tag">&lt;<span class="hljs-name">doctrine-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">document</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"MyPersistentClass"</span> <span class="hljs-attr">translator</span>=<span class="hljs-string">"attribute"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">locale</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"locale"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"publishDate"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"topic"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"string"</span> <span class="hljs-attr">translated</span>=<span class="hljs-string">"true"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">field</span> <span class="hljs-attr">fieldName</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"binary"</span> <span class="hljs-attr">translated</span>=<span class="hljs-string">"true"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">doctrine-mapping</span>&gt;</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-2" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-3" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-4" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-5" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-6" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-7" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-8" class="line-number-anchor" /><a href="#line-number-f14d00af75936f2a8f3ea6e4dd7008107c9f3070-8">8</a></td></tr></table></div></code></pre>
        </div>
            <div role="tabpanel" id="configuration-block-tabpanel-2568741fcfbed7cef932a2768bc15a27" aria-label="Yaml" class="configuration-codeblock" data-language="yaml" style="display: none">
            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-1" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-1">1</a></td><td class="code-line" rowspan="12"><span class="hljs-attr">MyPersistentClass:</span>
  <span class="hljs-attr">translator:</span> <span class="hljs-string">attribute</span>
  <span class="hljs-attr">locale:</span> <span class="hljs-string">locale</span>
  <span class="hljs-attr">fields:</span>
    <span class="hljs-attr">publishDate:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">date</span>
    <span class="hljs-attr">topic:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">translated:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">image:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">binary</span>
        <span class="hljs-attr">translated:</span> <span class="hljs-literal">true</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-2" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-3" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-4" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-5" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-6" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-7" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-8" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-9" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-10" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-11" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-12" class="line-number-anchor" /><a href="#line-number-deee3675c199d8a13ef57fc7880e6b2e2b6ed9ed-12">12</a></td></tr></table></div></code></pre>
        </div>
    </div>
            
    <p>The translation strategy is telling the document manager which strategy to use to store and load
translations for this document. The <code>Locale</code> field holds the current locale of the document.
It is populated when finding the document, updated whenever you call bindTranslation and also
taken into account when you flush the document, to save the correct translation.
When you manually change the Locale after loading a document, it will be saved as the newly assigned language.</p>

            
    <p>You can set any type of property as translatable, but should only set those that are actually language
specific. All other properties should not have that annotation, then they are the same in all languages.
However, you can not set any association annotations to translatable and translations will not propagate
through associations (see the section &quot;Limitations&quot; for an explanation).</p>

            
    <p>Having at least one property marked as translatable will require the whole document to
have a translator strategy and a Locale field.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>You need to be careful when refactoring documents that have existing data.
When you change fields to be translated or no longer translated, or change
the translation strategy, you need to migrate the data.</p>

    <p>See <a href="../cookbook/refactoring-multilang.html">Refactoring Multilanguage Documents</a> for more information on the
tools to do the data migration.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="interacting-with-translations">
            <h2 class="section-header ">
    <a href="#interacting-with-translations">
        Interacting with translations
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>When reading, <code>DocumentManager::find()</code> uses the default locale (see below how to set that). This means
your reading code does not need to be aware of content translations happening.</p>

            
    <p>If you need to access a document with an explicit locale that might be different from the default locale,
you can use <code>DocumentManager::findTranslation()</code>.</p>

                        <div class="alert warning-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-exclamation-circle text-warning mr-2"></i></td>
            <td>
                                                
    <p>When loading a document with findTranslation that was already loaded with this DocumentManager session,
the DocumentManager will not create a copy of the document but change the fields of the existing document.
This means you can not have two languages of the same document in memory at the same time.</p>

    <p>The reason for this is that otherwise we could run into inconsistencies if any of the non-translatable
fields is changed in one of the two document instances that are the same document.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>To get a list of all available locales for a document, use <code>DocumentManager::getLocalesFor</code>.</p>

            
    <p>When writing, you can use <code>DocumentManager::persist()</code> as normal. Persist will respect the locale
set in the Locale field, and fall back to the default locale if that field is empty.</p>

            
    <p>During <code>DocumentManager::flush()</code>, if you edited a document, the current value of the Locale
field is respected as well. If you want to flush more than one language in one go, you can use
<code>DocumentManager::bindTranslation()</code> repeatedly and update the translated fields of your document
before each call to bindTranslation. (See the example below).</p>

    </div>
            <div class="section" id="choosing-the-right-translation-strategy">
            <h2 class="section-header ">
    <a href="#choosing-the-right-translation-strategy">
        Choosing the right translation strategy
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>A translation strategy needs to be selected by adding the <code>translator</code> parameter to the document mapping.
The translation strategy is responsible to actually persist the translated properties.</p>

            
    <p>There are two default translation strategies implemented and automatically available:</p>

            

<ul>
    <li><code>attribute</code> stores the translations in attributes of the node containing the translatable properties</li>
    <li><code>child</code> stores the translations in a child node of the node containing the translatable properties</li>
</ul>

            
    <p>Thus, if you do not have many fields, the attribute strategy puts less load on the content repository.
On the other hand, if you have a lot of fields on your document, you may want to use the child strategy.</p>

            
    <p>If needed, it is possible to implement other strategies to persist the translations.</p>

            <div class="section" id="implementing-your-own-translation-strategy">
            <h3 class="section-header ">
    <a href="#implementing-your-own-translation-strategy">
        Implementing your own translation strategy
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>You may want to implement your own translation strategy to persist the translatable properties of a node.
For example if you want all the translations to be stored in a separate subtree of you content repository.</p>

            
    <p>To do so you need to implement the <code>Doctrine\ODM\PHPCR\Translation\TranslationStrategy\TranslationStrategyInterface</code>.</p>

            
    <p>Then you have to register your translation strategy with the document manager during the bootstrap:</p>

            <div class="console"><pre><code class="console">use Doctrine\ODM\PHPCR\Translation\TranslationStrategy\TranslationStrategyInterface;

class MyTranslationStrategy implements TranslationStrategyInterface
{
    // ...
}

<span class="noselect">$ </span>dm = new \Doctrine\ODM\PHPCR\DocumentManager($session, $config);
<span class="noselect">$ </span>dm->setTranslationStrategy('my_strategy_name', new MyTranslationStrategy());
</code></pre></div>
            
    <p><code>my_strategy_name</code> would be the value for the translator attribute to use your custom strategy.</p>

    </div>
    </div>
            <div class="section" id="configure-the-locale-chooser-strategy">
            <a id="multilang_chooser"></a>
            <h2 class="section-header ">
    <a href="#configure-the-locale-chooser-strategy">
        Configure the locale chooser strategy
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The language chooser is used when loading translated documents. If no language is specified,
it provides the default language. If the requested language is not available for this document,
the strategy is asked for a fallback order of other languages to try in order to find the best
available translation.</p>

            
    <p>On reading, PHPCR-ODM tries to find a translation with each of the languages in that
list and throws a not found exception if none of the languages exists.</p>

            
    <p>The default language chooser strategy <code>Doctrine\ODM\PHPCR\Translation\LocaleChooser\LocaleChooser</code> returns
a configurable list of languages based on the requested language. On instantiation, you specify
the default locale. This should be your application default locale. It is used to get the default locale order
which usually should not vary based on the current locale.
Based on your HTTP request or whatever criteria you have, you can use setLocale() to have the document manager load
your document in the right language.</p>

            
    <p>When you bootstrap the document manager, you need to set the language chooser strategy if you have
any translatable documents:</p>

            <div class="console"><pre><code class="console">use Doctrine\ODM\PHPCR\DocumentManager;

<span class="noselect">$ </span>localePrefs = [
    'en' => ['de', 'fr'],
    'fr' => ['de', 'en'],
    'it' => ['de', 'en'],
];

<span class="noselect">$ </span>dm = new DocumentManager($session, $config);
<span class="noselect">$ </span>dm->setLocaleChooserStrategy(new LocaleChooser($localePrefs, 'en'));
</code></pre></div>
            
    <p>The above says: When <code>en</code> is requested but you do not find it, then try <code>de</code> and finally <code>fr</code>.</p>

            
    <p>You can write your own strategy by implementing <code>Doctrine\ODM\PHPCR\Translation\LocaleChooser\LocaleChooserInterface</code>.
This is useful to determine the default language based on some logic, or provide fallback orders based on user preferences.</p>

    </div>
            <div class="section" id="full-example">
            <h2 class="section-header ">
    <a href="#full-example">
        Full Example
        <i class="fas fa-link"></i>
    </a>
</h2>
            <pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="be958d3ed8097ff283f43eef249df9d4e5c56b93"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="be958d3ed8097ff283f43eef249df9d4e5c56b93"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-1" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-1">1</a></td><td class="code-line" rowspan="42"><span class="hljs-keyword">use</span> <span class="hljs-title">Doctrine</span>\<span class="hljs-title">ODM</span>\<span class="hljs-title">PHPCR</span>\<span class="hljs-title">DocumentManager</span>;

<span class="hljs-comment">// bootstrap the DocumentManager as required (see above)</span>

$localePrefs = [
    <span class="hljs-string">'en'</span> =&gt; [<span class="hljs-string">'fr'</span>],
    <span class="hljs-string">'fr'</span> =&gt; [<span class="hljs-string">'en'</span>],
];

$dm = <span class="hljs-keyword">new</span> DocumentManager($session, $config);
$dm-&gt;setLocaleChooserStrategy(<span class="hljs-keyword">new</span> LocaleChooser($localePrefs, <span class="hljs-string">'en'</span>));

<span class="hljs-comment">// then to use translations:</span>

$doc = <span class="hljs-keyword">new</span> Article();
$doc-&gt;id = <span class="hljs-string">'/my_test_node'</span>;
$doc-&gt;author = <span class="hljs-string">'John Doe'</span>;
$doc-&gt;topic = <span class="hljs-string">'An interesting subject'</span>;
$doc-&gt;text = <span class="hljs-string">'Lorem ipsum...'</span>;

<span class="hljs-comment">// Persist the document in English</span>
$dm-&gt;persist($doc);
$dm-&gt;bindTranslation($doc, <span class="hljs-string">'en'</span>);

<span class="hljs-comment">// Change the content and persist the document in French</span>
$doc-&gt;topic = <span class="hljs-string">'Un sujet intressant'</span>;
$dm-&gt;bindTranslation($doc, <span class="hljs-string">'fr'</span>);

<span class="hljs-comment">// locale is updated automatically if there is such an annotation</span>
<span class="hljs-keyword">echo</span> $doc-&gt;locale; <span class="hljs-comment">// fr</span>

<span class="hljs-comment">// Flush to write the changes to the phpcr backend</span>
$dm-&gt;flush();

<span class="hljs-comment">// Get the document in default language</span>
<span class="hljs-comment">// (English if you bootstrapped as in the example)</span>
$doc = $dm-&gt;find(<span class="hljs-keyword">null</span>, <span class="hljs-string">'/my_test_node'</span>);

<span class="hljs-comment">// Get the document in French</span>
$doc = $dm-&gt;findTranslation(<span class="hljs-keyword">null</span>, <span class="hljs-string">'/my_test_node'</span>, <span class="hljs-string">'fr'</span>);
$doc-&gt;title = <span class="hljs-string">'nouveau'</span>;
$dm-&gt;flush(); <span class="hljs-comment">// french is updated as the language is tracked by the dm</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-2" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-3" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-4" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-5" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-6" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-7" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-8" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-9" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-10" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-11" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-12" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-13" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-14" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-15" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-16" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-17" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-18" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-19" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-20" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-21" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-21">21</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-22" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-22">22</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-23" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-23">23</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-24" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-24">24</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-25" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-25">25</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-26" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-26">26</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-27" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-27">27</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-28" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-28">28</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-29" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-29">29</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-30" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-30">30</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-31" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-31">31</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-32" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-32">32</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-33" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-33">33</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-34" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-34">34</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-35" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-35">35</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-36" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-36">36</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-37" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-37">37</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-38" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-38">38</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-39" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-39">39</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-40" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-40">40</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-41" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-41">41</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-42" class="line-number-anchor" /><a href="#line-number-be958d3ed8097ff283f43eef249df9d4e5c56b93-42">42</a></td></tr></table></div></code></pre>
    </div>
            <div class="section" id="querying-translated-properties">
            <h2 class="section-header ">
    <a href="#querying-translated-properties">
        Querying Translated Properties
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>The translation strategy will store translated strings into specific
properties. When using the PHPCR SQL2 queries, you will need to look
into implementation details to make them work.</p>

            
    <p>When using the PHPCR-ODM query builder, it will detect translated fields
and adjust the query accordingly. By default, the current locale will be
used, but you can manually call <code>$qb-&gt;setLocale($locale)</code> if you need
a different locale.</p>

            
    <p>Read more in the <a href="query-builder.html#qb-translation">query builder documentation</a>.</p>

    </div>
            <div class="section" id="limitations">
            <h2 class="section-header ">
    <a href="#limitations">
        Limitations
        <i class="fas fa-link"></i>
    </a>
</h2>
            <div class="section" id="translations-and-references-hierarchy">
            <h3 class="section-header ">
    <a href="#translations-and-references-hierarchy">
        Translations and references / hierarchy
        <i class="fas fa-link"></i>
    </a>
</h3>
            
    <p>For now, Child, Children, Parent, ReferenceMany, ReferenceOne and Referrers will all fall back to the default language.
The reason for this is that there can be only one tracked instance of a document per session. (Otherwise what should happen
if both copies where modified?...).</p>

            
    <p>For more details, see the <a href="https://github.com/doctrine/phpcr-odm/wiki/Multilanguage">wiki page</a>.</p>

    </div>
    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://staging.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'phpcr-odm';
            var versionSlug = '1.x';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search PHPCR ODM 1.x'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
        
            </body>
</html>
