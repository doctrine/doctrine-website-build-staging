<!DOCTYPE html>
<html>
    <head>
        <title> - CouchDB Object Document Mapper (CouchDB ODM) - Doctrine</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine CouchDB Object Document Mapper Documentation:  ">

        <meta name="keywords" content="persistence,couchdb,odm,data,mapper,mapping,object,documentation,">

                    <meta name="robots" content="noindex">
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/configuration.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"
            integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/css/style.css?5867a7"
            integrity="sha384-+1pCIXgvWRNNW94am2iwEen5oANZ9PTI/GPh+HQJgXc4yNU9nRzeqXiFZWIsShcm"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css"
            integrity="sha384-3pqpjew6zqJsw9mdIpd6FVJvuFuacqOpSXwAifQ9iHE4keUyghetuuJDGFoTNhfn"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css"
            integrity="sha384-VzUGdSDk+HLoSg+ptudZxGZyaFVN7q7Eqh7QaUU19cWL2fK0kyz1belH38z7MbcZ"
            crossorigin="anonymous"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/css/railscasts.css?62eb49"
            integrity="sha384-K7nnw0wrUNTkBLTS8aN3AOx/e095lEJ1g60EJX7ash3cfsHTpQV6kWKoCPxPc9AJ"
            crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineorm" />
        <meta name="twitter:creator" content="@doctrineorm" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/reference/configuration.html" />
        <meta property="og:title" content=" - CouchDB Object Document Mapper (CouchDB ODM) - Doctrine" />
        <meta property="og:description" content="Doctrine CouchDB Object Document Mapper Documentation:  " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineorm"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Course",
            "name": "Doctrine CouchDB Object Document Mapper",
            "description": "",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://staging.doctrine-project.org/"><img src="https://staging.doctrine-project.org/images/doctrine-logo.svg?6c0dab" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/reflection.html">Reflection</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="https://staging.doctrine-project.org/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/contribute/" id="navbarContributeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Contribute</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/">Contributor Workflow</a>
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/maintainer/">Maintainer Workflow</a>
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/website/">Contribute to Website</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/team/">Team</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/couchdb-odm/edit/master/docs/reference/configuration.rst" class="btn btn-light" target="_blank">Edit</a>
                                            </div>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        
<div class="toc"><ul><li id="index-html-welcome-to-doctrine-couchdb-documentation" class="toc-item"><a href="../index.html#welcome-to-doctrine-couchdb-documentation">Welcome to Doctrine CouchDB documentation</a></li><li id="association-mapping-html-association-mapping" class="toc-item"><a href="association-mapping.html#association-mapping">Association Mapping</a></li><ul><li id="association-mapping-html-graph-traversal-and-identity-map" class="toc-item"><a href="association-mapping.html#graph-traversal-and-identity-map">Graph Traversal and Identity Map</a></li><li id="association-mapping-html-different-association-mappings" class="toc-item"><a href="association-mapping.html#different-association-mappings">Different Association Mappings</a></li><ul><li id="association-mapping-html-referenceone" class="toc-item"><a href="association-mapping.html#referenceone">ReferenceOne</a></li><li id="association-mapping-html-referencemany" class="toc-item"><a href="association-mapping.html#referencemany">ReferenceMany</a></li><li id="association-mapping-html-inverse-referencemany" class="toc-item"><a href="association-mapping.html#inverse-referencemany">Inverse ReferenceMany</a></li><li id="association-mapping-html-embedone" class="toc-item"><a href="association-mapping.html#embedone">EmbedOne</a></li><li id="association-mapping-html-embedmany" class="toc-item"><a href="association-mapping.html#embedmany">EmbedMany</a></li></ul></ul><li id="attachments-html-attachments" class="toc-item"><a href="attachments.html#attachments">Attachments</a></li><li id="basic-mapping-html-basic-mapping" class="toc-item"><a href="basic-mapping.html#basic-mapping">Basic Mapping</a></li><ul><li id="basic-mapping-html-introduction-to-docblock-annotations" class="toc-item"><a href="basic-mapping.html#introduction-to-docblock-annotations">Introduction to Docblock Annotations</a></li><li id="basic-mapping-html-persistent-classes" class="toc-item"><a href="basic-mapping.html#persistent-classes">Persistent classes</a></li><li id="basic-mapping-html-doctrine-mapping-types" class="toc-item"><a href="basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a></li><li id="basic-mapping-html-field-mapping" class="toc-item"><a href="basic-mapping.html#field-mapping">Field Mapping</a></li><ul><li id="basic-mapping-html-indexing-fields" class="toc-item"><a href="basic-mapping.html#indexing-fields">Indexing Fields</a></li><li id="basic-mapping-html-json-names" class="toc-item"><a href="basic-mapping.html#json-names">Json Names</a></li></ul><li id="basic-mapping-html-id-mapping" class="toc-item"><a href="basic-mapping.html#id-mapping">Id Mapping</a></li><ul><li id="basic-mapping-html-id-generation-strategies" class="toc-item"><a href="basic-mapping.html#id-generation-strategies">Id Generation Strategies</a></li></ul><li id="basic-mapping-html-attachments" class="toc-item"><a href="basic-mapping.html#attachments">Attachments</a></li><li id="basic-mapping-html-document-repositories" class="toc-item"><a href="basic-mapping.html#document-repositories">Document Repositories</a></li></ul><li id="configuration-html-configuration" class="toc-item"><a href="configuration.html#configuration">Configuration</a></li><ul><li id="configuration-html-obtaining-the-documentmanager" class="toc-item"><a href="configuration.html#obtaining-the-documentmanager">Obtaining the DocumentManager</a></li><li id="configuration-html-couchdbclient" class="toc-item"><a href="configuration.html#couchdbclient">CouchDBClient</a></li><ul><li id="configuration-html-http-client-strong-em-required-strong-em" class="toc-item"><a href="configuration.html#http-client-strong-em-required-strong-em">HTTP Client (<strong><em>REQUIRED</strong></em>)</a></li></ul><li id="configuration-html-configuration-options" class="toc-item"><a href="configuration.html#configuration-options">Configuration Options</a></li><ul><li id="configuration-html-proxy-directory-strong-em-required-strong-em" class="toc-item"><a href="configuration.html#proxy-directory-strong-em-required-strong-em">Proxy Directory (<strong><em>REQUIRED</strong></em>)</a></li><li id="configuration-html-proxy-namespace-strong-em-optional-strong-em" class="toc-item"><a href="configuration.html#proxy-namespace-strong-em-optional-strong-em">Proxy Namespace (<strong><em>OPTIONAL</strong></em>)</a></li><li id="configuration-html-metadata-driver-strong-em-required-strong-em" class="toc-item"><a href="configuration.html#metadata-driver-strong-em-required-strong-em">Metadata Driver (<strong><em>REQUIRED</strong></em>)</a></li><li id="configuration-html-metadata-cache-strong-em-recommended-strong-em" class="toc-item"><a href="configuration.html#metadata-cache-strong-em-recommended-strong-em">Metadata Cache (<strong><em>RECOMMENDED</strong></em>)</a></li><li id="configuration-html-lucene-handler-name-strong-em-optional-strong-em" class="toc-item"><a href="configuration.html#lucene-handler-name-strong-em-optional-strong-em">Lucene Handler Name (<strong><em>OPTIONAL</strong></em>)</a></li></ul><li id="configuration-html-proxy-objects" class="toc-item"><a href="configuration.html#proxy-objects">Proxy Objects</a></li><ul><li id="configuration-html-reference-proxies" class="toc-item"><a href="configuration.html#reference-proxies">Reference Proxies</a></li><li id="configuration-html-association-proxies" class="toc-item"><a href="configuration.html#association-proxies">Association proxies</a></li></ul></ul><li id="inheritance-mapping-html-inheritance-mapping" class="toc-item"><a href="inheritance-mapping.html#inheritance-mapping">Inheritance Mapping</a></li><li id="installation-html-installation" class="toc-item"><a href="installation.html#installation">Installation</a></li><ul><li id="installation-html-pear" class="toc-item"><a href="installation.html#pear">PEAR</a></li><li id="installation-html-download" class="toc-item"><a href="installation.html#download">Download</a></li><li id="installation-html-git-github" class="toc-item"><a href="installation.html#git-github">Git/Github</a></li></ul><li id="introduction-html-introduction" class="toc-item"><a href="introduction.html#introduction">Introduction</a></li><ul><li id="introduction-html-features" class="toc-item"><a href="introduction.html#features">Features</a></li><li id="introduction-html-architecture" class="toc-item"><a href="introduction.html#architecture">Architecture</a></li><ul><li id="introduction-html-write-behind" class="toc-item"><a href="introduction.html#write-behind">Write-Behind</a></li><li id="introduction-html-querying" class="toc-item"><a href="introduction.html#querying">Querying</a></li><li id="introduction-html-object-graph-traversal" class="toc-item"><a href="introduction.html#object-graph-traversal">Object-Graph Traversal</a></li></ul><li id="introduction-html-why-nosql" class="toc-item"><a href="introduction.html#why-nosql">Why NoSQL?</a></li><li id="introduction-html-couchdb-document-structure" class="toc-item"><a href="introduction.html#couchdb-document-structure">CouchDB Document Structure</a></li><ul><li id="introduction-html-document-type" class="toc-item"><a href="introduction.html#document-type">Document Type</a></li><li id="introduction-html-associations" class="toc-item"><a href="introduction.html#associations">Associations</a></li><li id="introduction-html-indexes" class="toc-item"><a href="introduction.html#indexes">Indexes</a></li></ul></ul><li id="lucene-queries-html-couchdb-lucene-queries" class="toc-item"><a href="lucene-queries.html#couchdb-lucene-queries">CouchDB Lucene Queries</a></li><li id="map-reduce-queries-html-views-and-map-reduce-queries" class="toc-item"><a href="map-reduce-queries.html#views-and-map-reduce-queries">Views and Map-Reduce Queries</a></li><ul><li id="map-reduce-queries-html-creating-and-managing-views" class="toc-item"><a href="map-reduce-queries.html#creating-and-managing-views">Creating and Managing Views</a></li><li id="map-reduce-queries-html-querying-views" class="toc-item"><a href="map-reduce-queries.html#querying-views">Querying Views</a></li><li id="map-reduce-queries-html-view-results" class="toc-item"><a href="map-reduce-queries.html#view-results">View Results</a></li></ul><li id="tools-html-tools-and-maintenance" class="toc-item"><a href="tools.html#tools-and-maintenance">Tools and Maintenance</a></li><ul><li id="tools-html-couchdb-migrate" class="toc-item"><a href="tools.html#couchdb-migrate">couchdb:migrate</a></li><li id="tools-html-couchdb-maintenance-compact-database" class="toc-item"><a href="tools.html#couchdb-maintenance-compact-database">couchdb:maintenance:compact-database</a></li><li id="tools-html-couchdb-maintenance-compact-view" class="toc-item"><a href="tools.html#couchdb-maintenance-compact-view">couchdb:maintenance:compact-view</a></li><li id="tools-html-couchdb-maintenance-view-cleanup" class="toc-item"><a href="tools.html#couchdb-maintenance-view-cleanup">couchdb:maintenance:view-cleanup</a></li><li id="tools-html-couchdb-odm-update-design-doc" class="toc-item"><a href="tools.html#couchdb-odm-update-design-doc">couchdb:odm:update-design-doc</a></li></ul><li id="working-with-objects-html-working-with-objects" class="toc-item"><a href="working-with-objects.html#working-with-objects">Working with Objects</a></li><ul><li id="working-with-objects-html-understanding" class="toc-item"><a href="working-with-objects.html#understanding">Understanding</a></li><ul><li id="working-with-objects-html-the-size-of-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#the-size-of-a-unit-of-work">The size of a Unit of Work</a></li><li id="working-with-objects-html-the-cost-of-flush" class="toc-item"><a href="working-with-objects.html#the-cost-of-flush">The cost of flush()</a></li><li id="working-with-objects-html-direct-access-to-a-unit-of-work" class="toc-item"><a href="working-with-objects.html#direct-access-to-a-unit-of-work">Direct access to a Unit of Work</a></li></ul><li id="working-with-objects-html-persisting-documents" class="toc-item"><a href="working-with-objects.html#persisting-documents">Persisting documents</a></li><li id="working-with-objects-html-removing-documents" class="toc-item"><a href="working-with-objects.html#removing-documents">Removing documents</a></li><li id="working-with-objects-html-detaching-documents" class="toc-item"><a href="working-with-objects.html#detaching-documents">Detaching documents</a></li><li id="working-with-objects-html-merging-documents" class="toc-item"><a href="working-with-objects.html#merging-documents">Merging documents</a></li><li id="working-with-objects-html-references" class="toc-item"><a href="working-with-objects.html#references">References</a></li><li id="working-with-objects-html-establishing-references" class="toc-item"><a href="working-with-objects.html#establishing-references">Establishing References</a></li><li id="working-with-objects-html-removing-references" class="toc-item"><a href="working-with-objects.html#removing-references">Removing References</a></li><li id="working-with-objects-html-transitive-persistence" class="toc-item"><a href="working-with-objects.html#transitive-persistence">Transitive persistence</a></li><li id="working-with-objects-html-querying" class="toc-item"><a href="working-with-objects.html#querying">Querying</a></li><ul><li id="working-with-objects-html-by-primary-key" class="toc-item"><a href="working-with-objects.html#by-primary-key">By Primary Key</a></li><li id="working-with-objects-html-by-simple-conditions" class="toc-item"><a href="working-with-objects.html#by-simple-conditions">By Simple Conditions</a></li><li id="working-with-objects-html-by-lazy-loading" class="toc-item"><a href="working-with-objects.html#by-lazy-loading">By Lazy Loading</a></li><li id="working-with-objects-html-by-query-objects" class="toc-item"><a href="working-with-objects.html#by-query-objects">By Query Objects</a></li><li id="working-with-objects-html-custom-repositories" class="toc-item"><a href="working-with-objects.html#custom-repositories">Custom Repositories</a></li></ul></ul></ul></div>
                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/couchdb-odm.html">CouchDB ODM</a></li>
                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine-couchdb-odm/en/latest/">Documentation</a></li>
                                <li class="breadcrumb-item active" aria-current="page"></li>
                            </ol>
                        </nav>
                                    </div>

                                                    
                                    <div class="alert caution bg-light-yellow text-dark border">
                        <i class="fas fa-exclamation-circle text-warning mr-2"></i>
                        This project is not being actively maintained. If you are interested in helping to maintain this project, take a look at the open issues on <a href="https://github.com/doctrine/{{ project.repositoryName }}/" target="_blank">GitHub</a> and submit pull requests.
                    </div>

                
                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine-couchdb-odm/en/latest/reference/configuration.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                            
                                                <a class="project-version-switcher dropdown-item active" href="/projects/doctrine-couchdb-odm/en/latest/reference/configuration.html">
                                                    master

                                                    
                                                                                                    </a>
                                                                                    
                                                                            </div>
                                </div>
                            
                            
<p></p>
<a class="section-anchor" id="configuration" name="configuration"></a><h1 class="section-header"><a href="#configuration">Configuration<i class="fas fa-link"></i></a></h1>
<a class="section-anchor" id="obtaining-the-documentmanager" name="obtaining-the-documentmanager"></a><h2 class="section-header"><a href="#obtaining-the-documentmanager">Obtaining the DocumentManager<i class="fas fa-link"></i></a></h2>
<p>To obtain the DocumentManager you have to start setting up a CouchDB configuration object.
See this example:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f2ae71a6e03f5111e5c781d803101ca6efd22f10"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f2ae71a6e03f5111e5c781d803101ca6efd22f10"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-1" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-1">1</a></td><td class="code-line" rowspan="14"><span class="hljs-meta">&lt;?php</span>
$databaseName = <span class="hljs-string">"project_database_name"</span>;
$documentPaths = <span class="hljs-keyword">array</span>(<span class="hljs-string">"MyApp\Documents"</span>);
$httpClient = <span class="hljs-keyword">new</span> \Doctrine\CouchDB\HTTP\SocketClient();
$dbClient = <span class="hljs-keyword">new</span> Doctrine\CouchDB\CouchDBClient($httpClient, $databaseName);

$config = <span class="hljs-keyword">new</span> \Doctrine\ODM\CouchDB\Configuration();
$metadataDriver = $config-&gt;newDefaultAnnotationDriver($documentPaths);

$config-&gt;setProxyDir(<span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">"/proxies"</span>);
$config-&gt;setMetadataDriverImpl($metadataDriver);
$config-&gt;setLuceneHandlerName(<span class="hljs-string">'_fti'</span>);

$dm = <span class="hljs-keyword">new</span> \Doctrine\ODM\CouchDB\DocumentManager($dbClient, $config);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-2" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-3" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-4" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-5" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-6" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-7" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-8" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-9" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-10" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-11" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-12" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-13" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-14" class="line-number-anchor" /><a href="#line-number-f2ae71a6e03f5111e5c781d803101ca6efd22f10-14">14</a></td></tr></table></div></code></pre>
<a class="section-anchor" id="couchdbclient" name="couchdbclient"></a><h2 class="section-header"><a href="#couchdbclient">CouchDBClient<i class="fas fa-link"></i></a></h2>
<p>You can create a CouchDBClient just by constructing a new instance.
The constructor requires an instantiated HTTP Client and a database name.</p>
<a class="section-anchor" id="http-client-strong-em-required-strong-em" name="http-client-strong-em-required-strong-em"></a><h3 class="section-header"><a href="#http-client-strong-em-required-strong-em">HTTP Client (<strong><em>REQUIRED</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="6cbd0572212d9e5a870630849adef5aa1e12b319"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="6cbd0572212d9e5a870630849adef5aa1e12b319"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-6cbd0572212d9e5a870630849adef5aa1e12b319-1" class="line-number-anchor" /><a href="#line-number-6cbd0572212d9e5a870630849adef5aa1e12b319-1">1</a></td><td class="code-line" rowspan="2"><span class="hljs-meta">&lt;?php</span>
$client = <span class="hljs-keyword">new</span> \Doctrine\CouchDB\HTTP\SocketClient();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-6cbd0572212d9e5a870630849adef5aa1e12b319-2" class="line-number-anchor" /><a href="#line-number-6cbd0572212d9e5a870630849adef5aa1e12b319-2">2</a></td></tr></table></div></code></pre>
<p>There are two different HTTP Clients shipped with Doctrine CouchDB:</p>
<ul><li class="dash">  <code>Doctrine\CouchDB\HTTP\SocketClient</code> The default client uses fsockopen and
    has very good performance using keep alive connections.</li>
<li class="dash">  <code>Doctrine\CouchDB\HTTP\StreamClient</code> Uses fopen and is therefore simpler than the SocketClient,
    however cannot use keep alive. In some PHP setups the SocketClient doesn't work and the StreamClient
    is a fallback for these situations.</li>
</ul>

<p>You can pass the following arguments to configure the HTTP Client:</p>
<ul><li class="dash">  host (default: localhost)</li>
<li class="dash">  port (default: 5984)</li>
<li class="dash">  username (default: null)</li>
<li class="dash">  password (default: null)</li>
<li class="dash">  ip (default: null)</li>
</ul>

<p>With the setOption Method you can change the additional options:</p>
<ul><li class="dash"> keep-alive (default: true)</li>
<li class="dash"> timeout (default: 0.01)</li>
</ul>

<a class="section-anchor" id="configuration-options" name="configuration-options"></a><h2 class="section-header"><a href="#configuration-options">Configuration Options<i class="fas fa-link"></i></a></h2>
<p>The following sections describe all the configuration options
available on a <code>Doctrine\ODM\CouchDB\Configuration</code> instance.</p>
<a class="section-anchor" id="proxy-directory-strong-em-required-strong-em" name="proxy-directory-strong-em-required-strong-em"></a><h3 class="section-header"><a href="#proxy-directory-strong-em-required-strong-em">Proxy Directory (<strong><em>REQUIRED</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="68be62fcc10c542d8b47ca3c378e0d731a5829d3"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="68be62fcc10c542d8b47ca3c378e0d731a5829d3"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-1" class="line-number-anchor" /><a href="#line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setProxyDir($dir);
$config-&gt;getProxyDir();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-2" class="line-number-anchor" /><a href="#line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-3" class="line-number-anchor" /><a href="#line-number-68be62fcc10c542d8b47ca3c378e0d731a5829d3-3">3</a></td></tr></table></div></code></pre>
<p>Gets or sets the directory where Doctrine generates any proxy
classes. For a detailed explanation on proxy classes and how they
are used in Doctrine, refer to the &quot;Proxy Objects&quot; section further
down.</p>
<a class="section-anchor" id="proxy-namespace-strong-em-optional-strong-em" name="proxy-namespace-strong-em-optional-strong-em"></a><h3 class="section-header"><a href="#proxy-namespace-strong-em-optional-strong-em">Proxy Namespace (<strong><em>OPTIONAL</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="4430835e836245a2db89ba48edb6486123ac6704"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="4430835e836245a2db89ba48edb6486123ac6704"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-4430835e836245a2db89ba48edb6486123ac6704-1" class="line-number-anchor" /><a href="#line-number-4430835e836245a2db89ba48edb6486123ac6704-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setProxyNamespace($namespace);
$config-&gt;getProxyNamespace();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-4430835e836245a2db89ba48edb6486123ac6704-2" class="line-number-anchor" /><a href="#line-number-4430835e836245a2db89ba48edb6486123ac6704-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-4430835e836245a2db89ba48edb6486123ac6704-3" class="line-number-anchor" /><a href="#line-number-4430835e836245a2db89ba48edb6486123ac6704-3">3</a></td></tr></table></div></code></pre>
<p>Gets or sets the namespace to use for generated proxy classes. For
a detailed explanation on proxy classes and how they are used in
Doctrine, refer to the &quot;Proxy Objects&quot; section further down.</p>
<a class="section-anchor" id="metadata-driver-strong-em-required-strong-em" name="metadata-driver-strong-em-required-strong-em"></a><h3 class="section-header"><a href="#metadata-driver-strong-em-required-strong-em">Metadata Driver (<strong><em>REQUIRED</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="d393deb04123dfa3a7e251bde7798a9e2b702241"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="d393deb04123dfa3a7e251bde7798a9e2b702241"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-1" class="line-number-anchor" /><a href="#line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setMetadataDriverImpl($driver);
$config-&gt;getMetadataDriverImpl();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-2" class="line-number-anchor" /><a href="#line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-3" class="line-number-anchor" /><a href="#line-number-d393deb04123dfa3a7e251bde7798a9e2b702241-3">3</a></td></tr></table></div></code></pre>
<p>Gets or sets the metadata driver implementation that is used by
Doctrine to acquire the object-relational metadata for your
classes.</p>
<p>There is currently one working available implementation:</p>
<ul><li class="dash"> <code>Doctrine\ODM\CouchDB\Mapping\Driver\AnnotationDriver</code></li>
</ul>

<p>Throughout the most part of this manual the AnnotationDriver is
used in the examples. For information on the usage of the other drivers
please refer to the dedicated chapters.</p>
<p>The annotation driver can be configured with a factory method on
the <code>Doctrine\ODM\CouchDB\Configuration</code>:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="370496d8d729ab3af37d70de08f781de5cd2dc96"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="370496d8d729ab3af37d70de08f781de5cd2dc96"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-1" class="line-number-anchor" /><a href="#line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$driverImpl = $config-&gt;newDefaultAnnotationDriver(<span class="hljs-keyword">array</span>(<span class="hljs-string">'/path/to/lib/MyApp/Documents'</span>));
$config-&gt;setMetadataDriverImpl($driverImpl);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-2" class="line-number-anchor" /><a href="#line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-3" class="line-number-anchor" /><a href="#line-number-370496d8d729ab3af37d70de08f781de5cd2dc96-3">3</a></td></tr></table></div></code></pre>
<p>The path information to the documents is required for the annotation
driver, because otherwise mass-operations on all entities through
the console could not work correctly. All of metadata drivers
accept either a single directory as a string or an array of
directories. With this feature a single driver can support multiple
directories of documents.</p>
<a class="section-anchor" id="metadata-cache-strong-em-recommended-strong-em" name="metadata-cache-strong-em-recommended-strong-em"></a><h3 class="section-header"><a href="#metadata-cache-strong-em-recommended-strong-em">Metadata Cache (<strong><em>RECOMMENDED</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="252cb871d65fad81e7e12bc900398918c07486c1"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="252cb871d65fad81e7e12bc900398918c07486c1"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-252cb871d65fad81e7e12bc900398918c07486c1-1" class="line-number-anchor" /><a href="#line-number-252cb871d65fad81e7e12bc900398918c07486c1-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setMetadataCacheImpl($cache);
$config-&gt;getMetadataCacheImpl();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-252cb871d65fad81e7e12bc900398918c07486c1-2" class="line-number-anchor" /><a href="#line-number-252cb871d65fad81e7e12bc900398918c07486c1-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-252cb871d65fad81e7e12bc900398918c07486c1-3" class="line-number-anchor" /><a href="#line-number-252cb871d65fad81e7e12bc900398918c07486c1-3">3</a></td></tr></table></div></code></pre>
<p>Gets or sets the cache implementation to use for caching metadata
information, that is, all the information you supply via
annotations, xml or yaml, so that they do not need to be parsed and
loaded from scratch on every single request which is a waste of
resources. The cache implementation must implement the
<code>Doctrine\Common\Cache\Cache</code> interface.</p>
<p>Usage of a metadata cache is highly recommended.</p>
<p>The recommended implementations for production are:</p>
<ul><li class="dash"> <code>Doctrine\Common\Cache\ApcCache</code></li>
<li class="dash"> <code>Doctrine\Common\Cache\MemcacheCache</code></li>
<li class="dash"> <code>Doctrine\Common\Cache\XcacheCache</code></li>
</ul>

<p>For development you should use the
<code>Doctrine\Common\Cache\ArrayCache</code> which only caches data on a
per-request basis.</p>
<a class="section-anchor" id="lucene-handler-name-strong-em-optional-strong-em" name="lucene-handler-name-strong-em-optional-strong-em"></a><h3 class="section-header"><a href="#lucene-handler-name-strong-em-optional-strong-em">Lucene Handler Name (<strong><em>OPTIONAL</strong></em>)<i class="fas fa-link"></i></a></h3>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="52d95fb2a80243aa0583f926f5c08373ba1692bd"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="52d95fb2a80243aa0583f926f5c08373ba1692bd"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-1" class="line-number-anchor" /><a href="#line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-1">1</a></td><td class="code-line" rowspan="3"><span class="hljs-meta">&lt;?php</span>
$config-&gt;setLuceneHandlerName($handlerName);
$config-&gt;getLuceneHandlerName();</td></tr>
<tr><td class="line-number noselect"><a name="line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-2" class="line-number-anchor" /><a href="#line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-3" class="line-number-anchor" /><a href="#line-number-52d95fb2a80243aa0583f926f5c08373ba1692bd-3">3</a></td></tr></table></div></code></pre>
<p>The default CouchDB Lucene handler is named &quot;_fti&quot;, but it might be named differently in your
setup. You can rename this handler name with this option. You have to set this option
to &quot;_fti&quot;, without setting this option it is supposed that CouchDB Lucene is not installed.</p>
<a class="section-anchor" id="proxy-objects" name="proxy-objects"></a><h2 class="section-header"><a href="#proxy-objects">Proxy Objects<i class="fas fa-link"></i></a></h2>
<p>A proxy object is an object that is put in place or used instead of
the &quot;real&quot; object. A proxy object can add behavior to the object
being proxied without that object being aware of it. In Doctrine CouchDB,
proxy objects are used to realize several features but mainly for
transparent lazy-loading.</p>
<p>Proxy objects with their lazy-loading facilities help to keep the
subset of objects that are already in memory connected to the rest
of the objects. This is an essential property as without it there
would always be fragile partial objects at the outer edges of your
object graph.</p>
<p>Doctrine CouchDB implements a variant of the proxy pattern where it
generates classes that extend your document classes and adds
lazy-loading capabilities to them. Doctrine can then give you an
instance of such a proxy class whenever you request an object of
the class being proxied. This happens in two situations:</p>
<a class="section-anchor" id="reference-proxies" name="reference-proxies"></a><h3 class="section-header"><a href="#reference-proxies">Reference Proxies<i class="fas fa-link"></i></a></h3>
<p>The method <code>DocumentManager#getReference($documentName, $identifier)</code>
lets you obtain a reference to a document for which the identifier
is known, without loading that document from the database. This is
useful, for example, as a performance enhancement, when you want to
establish an association to a document for which you have the
identifier. You could simply do this:</p>
<pre class="code-block-table"><code class="php"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="b86c621ffc9572a66bfde8df5665b2c901660dd7"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="b86c621ffc9572a66bfde8df5665b2c901660dd7"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-1" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-1">1</a></td><td class="code-line" rowspan="6"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// $dm is an instance of DocumentManager</span>
<span class="hljs-comment">// $cart is an instance of MyApp\Model\Cart</span>
<span class="hljs-comment">// $itemId comes from somewhere, probably a request parameter</span>
$item = $dm-&gt;getReference(<span class="hljs-string">'MyApp\Model\Item'</span>, $itemId);
$cart-&gt;addItem($item);</td></tr>
<tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-2" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-3" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-4" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-5" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-6" class="line-number-anchor" /><a href="#line-number-b86c621ffc9572a66bfde8df5665b2c901660dd7-6">6</a></td></tr></table></div></code></pre>
<p>Here, we added an Item to a Cart without loading the Item from the
database. If you invoke any method on the Item instance, it would
fully initialize its state transparently from the database. Here
$item is actually an instance of the proxy class that was generated
for the Item class but your code does not need to care. In fact it
<strong>should not care</strong>. Proxy objects should be transparent to your
code.</p>
<a class="section-anchor" id="association-proxies" name="association-proxies"></a><h3 class="section-header"><a href="#association-proxies">Association proxies<i class="fas fa-link"></i></a></h3>
<p>The second most important situation where Doctrine uses proxy
objects is when querying for objects. Whenever you query for an
object that has a single-valued association to another object that
is configured LAZY, without joining that association in the same
query, Doctrine puts proxy objects in place where normally the
associated object would be. Just like other proxies it will
transparently initialize itself on first access.</p>
<p></p>
                                            </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT"
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous">
        </script>

        <script
            src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"
            integrity="sha384-EtEQyqoKtrBSat8+V0eTyycfmdkEHHzKesnWrc2VPnKAcD8PJw8HKAWKsK/QnGT+"
            crossorigin="anonymous">
        </script>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://cdn.ravenjs.com/3.24.2/raven.min.js"
            integrity="sha384-HwE7dFvrH8iD9R5VYUqNwjIhxDycip+e4DjP5nEhXrJtACG8AdNXjvP+AfJWxhJh"
            crossorigin="anonymous">
        </script>

        <script type="text/javascript">
            Raven.config('https://09ce137590054cfd8f0b7e9324d6ec14@sentry.io/1197701').install()
        </script>

        <script
            src="https://staging.doctrine-project.org/js/main.js?4138a7"
            integrity="sha384-4PtbMmuLWIQQORdH5aYanVqX4PRToNwwYq7k6PdX/mrXBJ/PFQOkEcgxBw6MW1Gw"
            crossorigin="anonymous">
        </script>

        <script
            src="https://staging.doctrine-project.org/js/search.js?493399"
            integrity="sha384-vH1McEYqOv8hsr8UjcB2ZrQs9UHtvoyJcCGg/a6+3I7aiwLSXSz/swbGBPXIZMFL"
            crossorigin="anonymous">
        </script>

        
                            
        
        <script type="text/javascript">
            var projectSlug = 'couchdb-odm';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search CouchDB ODM master'
            };

            new Main();

            new Search(projectSlug, versionSlug, searchBoxSettings);

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }

            function googleTranslateElementInit() {
                $('#google_translate_element').html('');

                new google.translate.TranslateElement(
                    {pageLanguage: 'en'}, 'google_translate_element'
                );

                $('#google_translate_element select').on('change', function() {
                    var language = $('#google_translate_element select option:selected').text();

                    googleAnalyticsEvent('Translate', 'click', language);
                });
            }
        </script>

        <script
            type="text/javascript"
            src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
            async>
        </script>

            <script
        src="https://staging.doctrine-project.org/js/sidebar.js?70a0ba"
        integrity="sha384-WssgVD8YsN07ueQpdg7Bu0T12VTnGRVzHXE5FbCSXI/RMTZvOHvOsn0BHzkQfGLw"
        crossorigin="anonymous">
    </script>

    <script type="text/javascript">
        new Sidebar();
    </script>

        
            </body>
</html>
