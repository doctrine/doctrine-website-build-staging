<!DOCTYPE html>
<html>
    <head>
        <title>Doctrine Annotations - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?9" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?9" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>

        <header>
            <nav class="navbar navbar-expand-md navbar-dark border-bottom">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Begin page content -->
        <main role="main" class="container">
                                                                
                                
                                                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/">Home</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/">Projects</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/common/">Common</a></li>
                            <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/projects/doctrine-common/en/2.8/">Documentation</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Doctrine Annotations</li>
                        </ol>
                    </nav>
                
                                    <ul class="list-inline float-right">
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-common/en/latest/reference/annotations.html" class="badge badge-secondary">master</a>
                            </li>
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-common/en/2.8/reference/annotations.html" class="badge badge-primary">2.8</a>
                            </li>
                                                    <li class="list-inline-item mr-0">
                                <a href="/projects/doctrine-common/en/2.7/reference/annotations.html" class="badge badge-secondary">2.7</a>
                            </li>
                                            </ul>
                
                <!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
</head>
<body>
<h1 class="section-header" id="title.1"><a href="#title.1">Doctrine Annotations<i class="fas fa-link"></i></a></h1>
<p>The Doctrine Common annotations library was born from a need in the
<a href="http://www.doctrine-project.org/projects/orm">Doctrine2 ORM</a> to
allow the mapping information to be specified as metadata embedded
in the class files, on properties and methods. The library is
independent and can be used in your own libraries to implement doc
block annotations.</p>
<h2 class="section-header" id="title.1.1"><a href="#title.1.1">Introduction<i class="fas fa-link"></i></a></h2>
<p>There are several different approaches to handling annotations in PHP. Doctrine Annotations
maps docblock annotations to PHP classes. Because not all docblock annotations are used
for metadata purposes a filter is applied to ignore or skip classes that are not Doctrine annotations.</p>
<p>Take a look at the following code snippet:</p>
<pre><code class="php">&lt;?php
namespace MyProject\Entities;

use Doctrine\ORM\Mapping AS ORM;
use Symfony\Component\Validation\Constraints AS Assert;

/**
 * @author Benjamin Eberlei
 * @ORM\Entity
 * @MyProject\Annotations\Foobarable
 */
class User
{
    /**
     * @ORM\Id @ORM\Column @ORM\GeneratedValue
     * @dummy
     * @var int
     */
    private $id;

    /**
     * @ORM\Column(type=&quot;string&quot;)
     * @Assert\NotEmpty
     * @Assert\Email
     * @var string
     */
    private $email;
}
</code></pre>
<p>In this snippet you can see a variety of different docblock annotations:</p>
<ul><li class="dash">Documentation annotations such as <code>@var</code> and <code>@author</code>. These annotations are on a blacklist and never considered for throwing an exception due to wrongly used annotations.</li>
<li class="dash">Annotations imported through use statements. The statement <code>use Doctrine\ORM\Mapping AS ORM</code> makes all classes under that namespace available as <code>@ORM\ClassName</code>. Same goes for the import of <code>@Assert</code>.</li>
<li class="dash">The <code>@dummy</code> annotation. It is not a documentation annotation and not blacklisted. For Doctrine Annotations it is not entirely clear how to handle this annotation. Depending on the configuration an exception (unknown annotation) will be thrown when parsing this annotation.</li>
<li class="dash">The fully qualified annotation <code>@MyProject\Annotations\Foobarable</code>. This is transformed directly into the given class name.</li>
</ul>

<p>How are these annotations loaded? From looking at the code you could guess that the ORM Mapping, Assert Validation and the fully qualified annotation can just be loaded using
the defined PHP autoloaders. This is not the case however: For error handling reasons every check for class existence inside the AnnotationReader sets the second parameter $autoload
of <code>class_exists($name, $autoload)</code> to false. To work flawlessly the AnnotationReader requires silent autoloaders which many autoloaders are not. Silent autoloading is NOT
part of the <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">PSR-0 specification</a> for autoloading.</p>
<p>This is why Doctrine Annotations uses its own autoloading mechanism through a global registry. If you are wondering about the annotation registry being global,
there is no other way to solve the architectural problems of autoloading annotation classes in a straightforward fashion. Additionally if you think about PHP
autoloading then you recognize it is a global as well.</p>
<p>To anticipate the configuration section, making the above PHP class work with Doctrine Annotations requires this setup:</p>
<pre><code class="php">&lt;?php
use Doctrine\Common\Annotations\AnnotationReader;
use Doctrine\Common\Annotations\AnnotationRegistry;

AnnotationRegistry::registerFile(&quot;/path/to/doctrine/lib/Doctrine/ORM/Mapping/Driver/DoctrineAnnotations.php&quot;);
AnnotationRegistry::registerAutoloadNamespace(&quot;Symfony\Component\Validator\Constraint&quot;, &quot;/path/to/symfony/src&quot;);
AnnotationRegistry::registerAutoloadNamespace(&quot;MyProject\Annotations&quot;, &quot;/path/to/myproject/src&quot;);

$reader = new AnnotationReader();
AnnotationReader::addGlobalIgnoredName('dummy');
</code></pre>
<p>The second block with the annotation registry calls registers all the three different annotation namespaces that are used.
Doctrine saves all its annotations in a single file, that is why <code>AnnotationRegistry#registerFile</code> is used in contrast to
<code>AnnotationRegistry#registerAutoloadNamespace</code> which creates a PSR-0 compatible loading mechanism for class to file names.</p>
<p>In the third block, we create the actual AnnotationReader instance. Note that we also add &quot;dummy&quot; to the global list of annotations
for which we do not throw exceptions. Setting this is necessary in our example case, otherwise <code>@dummy</code> would trigger an exception to
be thrown during the parsing of the docblock of <code>MyProject\Entities\User#id</code>.</p>
<h2 class="section-header" id="title.1.2"><a href="#title.1.2">Setup and Configuration<i class="fas fa-link"></i></a></h2>
<p>To use the annotations library is simple, you just need to create a new <code>AnnotationReader</code> instance:</p>
<pre><code class="php">&lt;?php
$reader = new \Doctrine\Common\Annotations\AnnotationReader();
</code></pre>
<p>This creates a simple annotation reader with no caching other than in memory (in php arrays).
Since parsing docblocks can be expensive you should cache this process by using
a caching reader.</p>
<p>You can use a file caching reader:</p>
<pre><code class="php">&lt;?php
use Doctrine\Common\Annotations\FileCacheReader;
use Doctrine\Common\Annotations\AnnotationReader;

$reader = new FileCacheReader(
    new AnnotationReader(),
    &quot;/path/to/cache&quot;,
    $debug = true
);
</code></pre>
<p>If you set the debug flag to true the cache reader will check for changes in the original files, which
is very important during development. If you don't set it to true you have to delete the directory to clear the cache.
This gives faster performance, however should only be used in production, because of its inconvenience
during development.</p>
<p>You can also use one of the <code>Doctrine\Common\Cache\Cache</code> cache implementations to cache the annotations:</p>
<pre><code class="php">&lt;?php
use Doctrine\Common\Annotations\AnnotationReader;
use Doctrine\Common\Annotations\CachedReader;
use Doctrine\Common\Cache\ApcCache;

$reader = new CachedReader(
    new AnnotationReader(),
    new ApcCache(),
    $debug = true
);
</code></pre>
<p>The debug flag is used here as well to invalidate the cache files when the PHP class with annotations changed
and should be used during development.</p>
<blockquote><p>The AnnotationReader works and caches under the
assumption that all annotations of a doc-block are processed at
once. That means that annotation classes that do not exist and
aren't loaded and cannot be autoloaded (using the AnnotationRegistry) would never be visible and not
accessible if a cache is used unless the cache is cleared and the
annotations requested again, this time with all annotations
defined.</p>
</blockquote>
<p>By default the annotation reader returns a list of annotations with numeric indexes. If you want your annotations
to be indexed by their class name you can wrap the reader in an IndexedReader:</p>
<pre><code class="php">&lt;?php
use Doctrine\Common\Annotations\AnnotationReader;
use Doctrine\Common\Annotations\IndexedReader;

$reader = new IndexedReader(new AnnotationReader());
</code></pre>
<div class="alert warning bg-light-yellow text-dark border"><i class="fas fa-exclamation-circle text-warning mr-2"></i><p>You should never wrap the indexed reader inside a cached reader only the other way around. This way you can re-use
the cache with indexed or numeric keys, otherwise your code may experience failures due to caching in an numerical
or indexed format.</p>
</div>
<h3 class="section-header" id="title.1.2.1"><a href="#title.1.2.1">Registering Annotations<i class="fas fa-link"></i></a></h3>
<p>As explained in the Introduction Doctrine Annotations uses its own autoloading mechanism to determine if a
given annotation has a corresponding PHP class that can be autoloaded. For Annotation Autoloading you have
to configure the <code>Doctrine\Common\Annotations\AnnotationRegistry</code>. There are three different mechanisms
to configure annotation autoloading:</p>
<ul><li class="dash">  Calling <code>AnnotationRegistry#registerFile($file)</code> to register a file that contains one or more Annotation classes.</li>
<li class="dash">  Calling <code>AnnotationRegistry#registerNamespace($namespace, $dirs = null)</code> to register that the given namespace
    contains annotations and that their base directory is located at the given $dirs or in the include path if NULL is passed.
    The given directories should <em>NOT</em> be the directory where classes of the namespace are in, but the base directory
    of the root namespace. The AnnotationRegistry uses a namespace to directory separator approach to resolve the correct path.</li>
<li class="dash">  Calling <code>AnnotationRegistry#registerLoader($callable)</code> to register an autoloader callback. The callback accepts the
    class as first and only parameter and has to return true if the corresponding file was found and included.</li>
</ul>

<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>Loaders have to fail silently, if a class is not found even if it matches for example the namespace prefix of that loader.
Never is a loader to throw a warning or exception if the loading failed otherwise parsing doc block annotations will become
a huge pain.</p>
</div>
<p>A sample loader callback could look like:</p>
<pre><code class="php">&lt;?php
use Doctrine\Common\Annotations\AnnotationRegistry;
use Symfony\Component\ClassLoader\UniversalClassLoader;

AnnotationRegistry::registerLoader(function($class) {
    $file = str_replace(&quot;\\&quot;, DIRECTORY_SEPARATOR, $class) . &quot;.php&quot;;

    if (file_exists(&quot;/my/base/path/&quot; . $file)) {
        // file exists makes sure that the loader fails silently
        require &quot;/my/base/path/&quot; . $file;
    }
});

$loader = new UniversalClassLoader();
AnnotationRegistry::registerLoader(array($loader, &quot;loadClass&quot;));

</code></pre>
<h3 class="section-header" id="title.1.2.2"><a href="#title.1.2.2">Ignoring missing exceptions<i class="fas fa-link"></i></a></h3>
<p>By default an exception is thrown from the AnnotationReader if an annotation was found that:</p>
<ul><li class="dash">Is not part of the blacklist of ignored &quot;documentation annotations&quot;.</li>
<li class="dash">Was not imported through a use statement</li>
<li class="dash">Is not a fully qualified class that exists</li>
</ul>

<p>You can disable this behavior for specific names if your docblocks do not follow strict requirements:</p>
<pre><code class="php">&lt;?php
$reader = new \Doctrine\Common\Annotations\AnnotationReader();
AnnotationReader::addGlobalIgnoredName('foo');
</code></pre>
<h3 class="section-header" id="title.1.2.3"><a href="#title.1.2.3">PHP Imports<i class="fas fa-link"></i></a></h3>
<p>By default the annotation reader parses the use-statement of a php file to gain access to the import rules
and register them for the annotation processing. Only if you are using PHP Imports you can validate the correct
usage of annotations and throw exceptions if you misspelled an annotation. This mechanism is enabled by default.</p>
<p>To ease the upgrade path, we still allow you to disable this mechanism. Note however that we will remove this
in future versions:</p>
<pre><code class="php">&lt;?php
$reader = new \Doctrine\Common\Annotations\AnnotationReader();
$reader-&gt;setEnabledPhpImports(false);

</code></pre>
<h2 class="section-header" id="title.1.3"><a href="#title.1.3">Annotation Classes<i class="fas fa-link"></i></a></h2>
<p>If you want to define your own annotations you just have to group them in a namespace and register this namespace
in the AnnotationRegistry. Annotation classes have to contain a class-level docblock with the text <code>@Annotation</code>:</p>
<pre><code class="php">&lt;?php
namespace MyCompany\Annotations;

/** @Annotation */
class Bar
{
    //some code
}
</code></pre>
<h2 class="section-header" id="title.1.4"><a href="#title.1.4">Inject annotation values<i class="fas fa-link"></i></a></h2>
<p>The annotation parser check if the annotation constructor has arguments,
if so then we will pass the value array, otherwise will try to inject values into public properties directly:</p>
<pre><code class="php">&lt;?php
namespace MyCompany\Annotations;

/**
* @Annotation
*
* Some Annotation using a constructor
*/
class Bar
{
    private $foo;
    public function __construct(array $values)
    {
        $this-&gt;foo = $values['foo'];
    }
}

/**
* @Annotation
*
* Some Annotation without a constructor
*/
class Foo
{
    public $bar;
}
</code></pre>
<h2 class="section-header" id="title.1.5"><a href="#title.1.5">Annotation Target<i class="fas fa-link"></i></a></h2>
<p><code>@Target</code> indicates the kinds of class element to which an annotation type is applicable.
Then you could define one or more targets :</p>
<ul><li class="dash"> <code>CLASS</code> Allowed in the class docblock</li>
<li class="dash"> <code>PROPERTY</code> Allowed in the property docblock</li>
<li class="dash"> <code>METHOD</code> Allowed in the method docblock</li>
<li class="dash"> <code>ALL</code> Allowed in the class, property and method docblock</li>
<li class="dash"> <code>ANNOTATION</code> Allowed inside other annotations</li>
</ul>

<p>If the annotations is not allowed in the current context you got an <code>AnnotationException</code></p>
<pre><code class="php">&lt;?php
namespace MyCompany\Annotations;

/**
* @Annotation
* @Target({&quot;METHOD&quot;,&quot;PROPERTY&quot;})
*/
class Bar
{
    //some code
}

/**
* @Annotation
* @Target(&quot;CLASS&quot;)
*/
class Foo
{
    //some code
}
</code></pre>
<h2 class="section-header" id="title.1.6"><a href="#title.1.6">Attribute types<i class="fas fa-link"></i></a></h2>
<p>Annotation parser check the given parameters using the phpdoc annotation <code>@var</code>,
The data type could be validated using the <code>@var</code> annotation on the annotation properties
or using the annotations <code>@Attributes</code> and <code>@Attribute</code>.</p>
<p>If the data type not match you got an <code>AnnotationException</code></p>
<pre><code class="php">&lt;?php
namespace MyCompany\Annotations;

/**
* @Annotation
* @Target({&quot;METHOD&quot;,&quot;PROPERTY&quot;})
*/
class Bar
{
    /** @var mixed */
    public $mixed;
    /** @var boolean */
    public $boolean;
    /** @var bool */
    public $bool;
    /** @var float */
    public $float;
    /** @var string */
    public $string;
    /** @var integer */
    public $integer;
    /** @var array */
    public $array;
    /** @var SomeAnnotationClass */
    public $annotation;
    /** @var array&lt;integer&gt; */
    public $arrayOfIntegers;
    /** @var array&lt;SomeAnnotationClass&gt; */
    public $arrayOfAnnotations;
}

/**
* @Annotation
* @Target({&quot;METHOD&quot;,&quot;PROPERTY&quot;})
* @Attributes({
*   @Attribute(&quot;stringProperty&quot;, type = &quot;string&quot;),
*   @Attribute(&quot;annotProperty&quot;,  type = &quot;SomeAnnotationClass&quot;),
* })
*/
class Foo
{
    public function __construct(array $values)
    {
        $this-&gt;stringProperty = $values['stringProperty'];
        $this-&gt;annotProperty = $values['annotProperty'];
    }
   // some code
}
</code></pre>
<h2 class="section-header" id="title.1.7"><a href="#title.1.7">Annotation Required<i class="fas fa-link"></i></a></h2>
<p><code>@Required</code> indicates that the field must be specified when the annotation is used.
If it is not used you get an <code>AnnotationException</code> stating that this value can not be null.</p>
<p>Declaring a required field:</p>
<pre><code class="php">&lt;?php
/**
 * @Annotation
 * @Target(&quot;ALL&quot;)
 */
class Foo
{
    /** @Required */
    public $requiredField;
}
</code></pre>
<p>Usage:</p>
<pre><code class="php">&lt;?php
/** @Foo(requiredField=&quot;value&quot;) */
public $direction;                  // Valid

 /** @Foo */
public $direction;                  // Required field missing, throws an AnnotationException

</code></pre>
<h2 class="section-header" id="title.1.8"><a href="#title.1.8">Enumerated values<i class="fas fa-link"></i></a></h2>
<ul><li class="dash">An annotation property marked with <code>@Enum</code> is a field that accept a fixed set of scalar values.</li>
<li class="dash">You should use <code>@Enum</code> fields any time you need to represent fixed values.</li>
<li class="dash">The annotation parser check the given value and throws an <code>AnnotationException</code> if the value not match.</li>
</ul>

<p>Declaring an enumerated property :</p>
<pre><code class="php">&lt;?php
/**
 * @Annotation
 * @Target(&quot;ALL&quot;)
 */
class Direction
{
    /**
     * @Enum({&quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;EAST&quot;, &quot;WEST&quot;})
     */
    public $value;
}
</code></pre>
<p>Annotation usage :</p>
<pre><code class="php">&lt;?php
/** @Direction(&quot;NORTH&quot;) */
public $direction;                  // Valid value

 /** @Direction(&quot;NORTHEAST&quot;) */
public $direction;                  // Invalid value, throws an AnnotationException

</code></pre>
<h2 class="section-header" id="title.1.9"><a href="#title.1.9">Constants<i class="fas fa-link"></i></a></h2>
<p>The use of constants and class constants are available on the annotations parser.</p>
<p>The following usage are allowed :</p>
<pre><code class="php">&lt;?php
namespace MyCompany\Entity;

use MyCompany\Annotations\Foo;
use MyCompany\Annotations\Bar;
use MyCompany\Entity\SomeClass;

/**
* @Foo(PHP_EOL)
* @Bar(Bar::FOO)
* @Foo({SomeClass::FOO, SomeClass::BAR})
* @Bar({SomeClass::FOO_KEY = SomeClass::BAR_VALUE})
*/
class User
{
}

</code></pre>
<p>Be careful with constants and the cache !</p>
<div class="alert note bg-light-yellow text-dark border"><i class="fas fa-sticky-note text-primary mr-2"></i><p>The cached reader will not re-evaluate each time an annotation is loaded from cache.
When a constant is changed the cache must be cleaned.</p>
</div>
<h2 class="section-header" id="title.1.10"><a href="#title.1.10">Usage<i class="fas fa-link"></i></a></h2>
<p>Using the library API is simple. Using the annotations described in the previous section
you can now annotate other classes with your annotations:</p>
<pre><code class="php">&lt;?php
namespace MyCompany\Entity;

use MyCompany\Annotations\Foo;
use MyCompany\Annotations\Bar;

/**
 * @Foo(bar=&quot;foo&quot;)
 * @Bar(foo=&quot;bar&quot;)
 */
class User
{
}
</code></pre>
<p>Now we can write a script to get the annotations above:</p>
<pre><code class="php">&lt;?php
$reflClass = new ReflectionClass('MyCompany\Entity\User');
$classAnnotations = $reader-&gt;getClassAnnotations($reflClass);

foreach ($classAnnotations AS $annot) {
    if ($annot instanceof \MyCompany\Annotations\Foo) {
        echo $annot-&gt;bar; // prints &quot;foo&quot;;
    } else if ($annot instanceof \MyCompany\Annotations\Bar) {
        echo $annot-&gt;foo; // prints &quot;bar&quot;;
    }
}
</code></pre>
<p>You have a complete API for retrieving annotation class instances
from a class, property or method docblock:</p>
<ul><li class="dash"> <code>AnnotationReader#getClassAnnotations(ReflectionClass $class)</code></li>
<li class="dash"> <code>AnnotationReader#getClassAnnotation(ReflectionClass $class, $annotation)</code></li>
<li class="dash"> <code>AnnotationReader#getPropertyAnnotations(ReflectionProperty $property)</code></li>
<li class="dash"> <code>AnnotationReader#getPropertyAnnotation(ReflectionProperty $property, $annotation)</code></li>
<li class="dash"> <code>AnnotationReader#getMethodAnnotations(ReflectionMethod $method)</code></li>
<li class="dash"> <code>AnnotationReader#getMethodAnnotation(ReflectionMethod $method, $annotation)</code></li>
</ul>

<h2 class="section-header" id="title.1.11"><a href="#title.1.11">IDE Support<i class="fas fa-link"></i></a></h2>
<p>Some IDEs already provide support for annotations:</p>
<ul><li class="dash">Eclipse via the <a href="http://symfony.dubture.com/">Symfony2 Plugin</a></li>
<li class="dash">PHPStorm via the <a href="http://plugins.jetbrains.com/plugin/7320">PHP Annotations Plugin</a> or the <a href="http://plugins.jetbrains.com/plugin/7219">Symfony2 Plugin</a></li>
</ul>

</body>
</html>                    </main>

        <footer class="footer">
            <div class="container">
                <i class="fa fa-copyright"></i> 2018 Doctrine
            </div>
        </footer>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?9"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
