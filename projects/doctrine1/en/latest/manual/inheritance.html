<!DOCTYPE html>
<html>
    <head>
        <title>        Inheritance - Doctrine Doctrine1 ORM (Doctrine1)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine1 ORM Documentation: Inheritance ">

        <meta name="keywords" content="                    php,doctrine1,orm,database,documentation,inheritance
    ">

                    <meta name="robots" content="noindex">
        
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/inheritance.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/frontend/css/index.css?30e146"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/inheritance.html" />
        <meta property="og:title" content="        Inheritance - Doctrine Doctrine1 ORM (Doctrine1)
    " />
        <meta property="og:description" content="Doctrine Doctrine1 ORM Documentation: Inheritance " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine1 ORM",
            "description": "Inheritance",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://staging.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine1/edit/master/docs/en/manual/inheritance.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://staging.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Doctrine1",
            "item": "https://staging.doctrine-project.org/projects/doctrine1.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://staging.doctrine-project.org/projects/doctrine1/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Inheritance",
            "item": "https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/inheritance.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine1.html">Doctrine1</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine1/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Inheritance</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>This project is no longer maintained and has been archived.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine1/en/latest/manual/inheritance.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine1/en/latest/manual/inheritance.html">
                                                        master

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                                                                                    </div>
                                </div>
                            
                            

            <div class="section" id="inheritance">
            <h1 class="section-header ">
    <a href="#inheritance">
        Inheritance
        <i class="fas fa-link"></i>
    </a>
</h1>
            
    <p>Doctrine supports three types of inheritance strategies which can be
mixed together. The three types are simple, concrete and column
aggregation. You will learn about these three different types of
inheritance and how to use them in this chapter.</p>

            
    <p>For this chapter lets delete all our existing schemas and models from
our test environment we created and have been using in the earlier
chapters:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>rm schema.yml
<span class="noselect">$ </span>touch schema.yml
<span class="noselect">$ </span>rm -rf models/*</code></pre></div>
            <div class="section" id="simple">
            <h2 class="section-header ">
    <a href="#simple">
        Simple
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Simple inheritance is the easiest and simplest inheritance to use. In
simple inheritance all the child classes share the same columns as the
parent and all information is stored in the parent table.</p>

            <div class="console"><pre><code class="console">// models/Entity.php
class Entity extends Doctrine_Record
{
    public function setTableDefinition()
    {
        $this->hasColumn('name', 'string', 30);
        $this->hasColumn('username', 'string', 20);
        $this->hasColumn('password', 'string', 16);
        $this->hasColumn('created_at', 'timestamp');
        $this->hasColumn('update_at', 'timestamp');
    }
}</code></pre></div>
            
    <p>Now lets create a <code>User</code> model that extends <code>Entity</code>:</p>

            <div class="console"><pre><code class="console">// models/User.php
class User extends Entity
{ }</code></pre></div>
            
    <p>Do the same thing for the <code>Group</code> model:</p>

            <div class="console"><pre><code class="console">// models/Group.php
class Group extends Entity
{ }</code></pre></div>
            
    <p>Here is the same example in YAML format. You can read more about YAML in
the <a href="yaml-schema-files.html">YAML Schema Files</a> chapter:</p>

            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-1" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-1">1</a></td><td class="code-line" rowspan="21"><span class="hljs-meta">---</span>
<span class="hljs-comment"># schema.yml</span>

<span class="hljs-comment"># ...</span>
<span class="hljs-attr">Entity:</span>
  <span class="hljs-attr">columns:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">string(30)</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">string(20)</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">string(16)</span>
    <span class="hljs-attr">created_at:</span> <span class="hljs-string">timestamp</span>
    <span class="hljs-attr">updated_at:</span> <span class="hljs-string">timestamp</span>

<span class="hljs-attr">User:</span>
  <span class="hljs-attr">inheritance:</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">simple</span>

<span class="hljs-attr">Group:</span>
  <span class="hljs-attr">inheritance:</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">simple</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-2" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-3" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-4" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-5" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-6" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-7" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-8" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-9" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-10" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-11" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-12" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-13" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-14" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-15" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-16" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-17" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-18" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-19" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-20" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-21" class="line-number-anchor" /><a href="#line-number-9031c9fe8c0ba7b75fa83ddd71e2fd0b2be1f561-21">21</a></td></tr></table></div></code></pre>
            
    <p>Lets check the SQL that is generated by the above models:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>sql = Doctrine_Core::generateSqlFromArray(array('Entity', 'User', 'Group'));
echo $sql[0];</code></pre></div>
            
    <p>The above code would output the following SQL query:</p>

            <div class="console"><pre><code class="console">CREATE TABLE entity (id BIGINT AUTO_INCREMENT,
username VARCHAR(20),
password VARCHAR(16),
created_at DATETIME,
updated_at DATETIME,
name VARCHAR(30),
PRIMARY KEY(id)) ENGINE = INNODB</code></pre></div>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>When using YAML schema files you are able to define columns
in the child classes but when the YAML is parsed the columns are
moved to the parent for you automatically. This is only a
convenience to you so that you can organize your columns easier.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="concrete">
            <h2 class="section-header ">
    <a href="#concrete">
        Concrete
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Concrete inheritance creates separate tables for child classes. However
in concrete inheritance each class generates a table which contains all
columns (including inherited columns). In order to use concrete
inheritance you&#039;ll need to add explicit <code>parent::setTableDefinition()</code>
calls to child classes as shown below.</p>

            <div class="console"><pre><code class="console">// models/TextItem.php
class TextItem extends Doctrine_Record
{
    public function setTableDefinition()
    {
        $this->hasColumn('topic', 'string', 100);
    }
}</code></pre></div>
            
    <p>Now lets create a model named <code>Comment</code> that extends <code>TextItem</code> and
add an extra column named <code>content</code>:</p>

            <div class="console"><pre><code class="console">// models/Comment.php
class Comment extends TextItem
{
    public function setTableDefinition()
    {
        parent::setTableDefinition();

        $this->hasColumn('content', 'string', 300);
    }
}</code></pre></div>
            
    <p>Here is the same example in YAML format. You can read more about YAML in
the <a href="yaml-schema-files.html">YAML Schema Files</a> chapter:</p>

            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="f0f659a2cab863304aacaf02e89a6097993e9710"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="f0f659a2cab863304aacaf02e89a6097993e9710"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-1" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-1">1</a></td><td class="code-line" rowspan="13"><span class="hljs-meta">---</span>
<span class="hljs-comment"># schema.yml</span>

<span class="hljs-attr">TextItem:</span>
  <span class="hljs-attr">columns:</span>
    <span class="hljs-attr">topic:</span> <span class="hljs-string">string(100)</span>

<span class="hljs-attr">Comment:</span>
  <span class="hljs-attr">inheritance:</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">TextItem</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">concrete</span>
  <span class="hljs-attr">columns:</span>
    <span class="hljs-attr">content:</span> <span class="hljs-string">string(300)</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-2" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-3" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-4" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-5" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-6" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-7" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-8" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-9" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-10" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-11" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-12" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-f0f659a2cab863304aacaf02e89a6097993e9710-13" class="line-number-anchor" /><a href="#line-number-f0f659a2cab863304aacaf02e89a6097993e9710-13">13</a></td></tr></table></div></code></pre>
            
    <p>Lets check the SQL that is generated by the above models:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>sql = Doctrine_Core::generateSqlFromArray(array('TextItem', 'Comment'));
echo $sql[0] . "";
echo $sql[1];</code></pre></div>
            
    <p>The above code would output the following SQL query:</p>

            <div class="console"><pre><code class="console">CREATE TABLE text_item (id BIGINT AUTO_INCREMENT,
topic VARCHAR(100),
PRIMARY KEY(id)) ENGINE = INNODB
CREATE TABLE comment (id BIGINT AUTO_INCREMENT,
topic VARCHAR(100),
content TEXT,
PRIMARY KEY(id)) ENGINE = INNODB</code></pre></div>
            
    <p>In concrete inheritance you don&#039;t necessarily have to define additional
columns, but in order to make Doctrine create separate tables for each
class you&#039;ll have to make iterative <code>setTableDefinition()</code> calls.</p>

            
    <p>In the following example we have three database tables called
<code>entity</code>, <code>user</code> and <code>group</code>. <code>Users</code> and <code>groups</code> are both
<code>entities</code>. The only thing we have to do is write 3 classes
(<code>Entity</code>, <code>Group</code> and <code>User</code>) and make iterative
<code>setTableDefinition()</code> method calls.</p>

            <div class="console"><pre><code class="console">// models/Entity.php
class Entity extends Doctrine_Record
{
    public function setTableDefinition()
    {
        $this->hasColumn('name', 'string', 30);
        $this->hasColumn('username', 'string', 20);
        $this->hasColumn('password', 'string', 16);
        $this->hasColumn('created', 'integer', 11);
    }
}

// models/User.php
class User extends Entity
{
    public function setTableDefinition()
    {
        // the following method call is needed in
        // concrete inheritance
        parent::setTableDefinition();
    }
}

// models/Group.php
class Group extends Entity
{
    public function setTableDefinition()
    {
        // the following method call is needed in
        // concrete inheritance
        parent::setTableDefinition();
    }
}</code></pre></div>
            
    <p>Here is the same example in YAML format. You can read more about YAML in
the <a href="yaml-schema-files.html">YAML Schema Files</a> chapter:</p>

            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="1e876a0e5c49d5563b02186e23b6cd91f00f865c"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="1e876a0e5c49d5563b02186e23b6cd91f00f865c"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-1" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-1">1</a></td><td class="code-line" rowspan="18"><span class="hljs-meta">---</span>
<span class="hljs-attr">Entity:</span>
  <span class="hljs-attr">columns:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">string(30)</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">string(20)</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">string(16)</span>
    <span class="hljs-attr">created:</span> <span class="hljs-string">integer(11)</span>

<span class="hljs-attr">User:</span>
  <span class="hljs-attr">inheritance:</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">concrete</span>

<span class="hljs-attr">Group:</span>
  <span class="hljs-attr">tableName:</span> <span class="hljs-string">groups</span>
  <span class="hljs-attr">inheritance:</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">concrete</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-2" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-3" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-4" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-5" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-6" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-7" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-8" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-9" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-10" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-11" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-12" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-13" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-14" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-15" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-16" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-17" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-18" class="line-number-anchor" /><a href="#line-number-1e876a0e5c49d5563b02186e23b6cd91f00f865c-18">18</a></td></tr></table></div></code></pre>
            
    <p>Lets check the SQL that is generated by the above models:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>sql = Doctrine_Core::generateSqlFromArray(array('Entity', 'User', 'Group'));
echo $sql[0] . "";
echo $sql[1] . "";
echo $sql[2] . "";</code></pre></div>
            
    <p>The above code would output the following SQL query:</p>

            <div class="console"><pre><code class="console">CREATE TABLE user (id BIGINT AUTO_INCREMENT,
name VARCHAR(30),
username VARCHAR(20),
password VARCHAR(16),
created BIGINT,
PRIMARY KEY(id)) ENGINE = INNODB
CREATE TABLE groups (id BIGINT AUTO_INCREMENT,
name VARCHAR(30),
username VARCHAR(20),
password VARCHAR(16),
created BIGINT,
PRIMARY KEY(id)) ENGINE = INNODB
CREATE TABLE entity (id BIGINT AUTO_INCREMENT,
name VARCHAR(30),
username VARCHAR(20),
password VARCHAR(16),
created BIGINT,
PRIMARY KEY(id)) ENGINE = INNODB</code></pre></div>
    </div>
            <div class="section" id="column-aggregation">
            <h2 class="section-header ">
    <a href="#column-aggregation">
        Column Aggregation
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>In the following example we have one database table called <code>entity</code>.
<code>Users</code> and <code>groups</code> are both <code>entities</code> and they share the same
database table.</p>

            
    <p>The <code>entity</code> table has a column called <code>type</code> which tells whether an
<code>entity</code> is a <code>group</code> or a <code>user</code>. Then we decide that <code>users</code>
are type 1 and groups type 2.</p>

            
    <p>The only thing we have to do is to create 3 records (the same as before)
and add the call to the <code>Doctrine_Table::setSubclasses()</code> method from
the parent class.</p>

            <div class="console"><pre><code class="console">// models/Entity.php
class Entity extends Doctrine_Record
{
    public function setTableDefinition()
    {
        $this->hasColumn('name', 'string', 30);
        $this->hasColumn('username', 'string', 20);
        $this->hasColumn('password', 'string', 16);
        $this->hasColumn('created_at', 'timestamp');
        $this->hasColumn('update_at', 'timestamp');

        $this->setSubclasses(array(
                'User'  => array('type' => 1),
                'Group' => array('type' => 2)
            )
        );
    }
}

// models/User.php
class User extends Entity
{ }

// models/Group.php
class Group extends Entity
{ }</code></pre></div>
            
    <p>Here is the same example in YAML format. You can read more about YAML in
the <a href="yaml-schema-files.html">YAML Schema Files</a> chapter:</p>

            <pre class="code-block-table"><code class="yaml"><button
            type="button"
            class="copy-to-clipboard"
            data-copy-element-id="74e0ae954243770fa5aaa66e1d8c1c5fda525779"
            title="Copy to Clipboard"
        ><i class="fas fa-copy"></i></button><div id="74e0ae954243770fa5aaa66e1d8c1c5fda525779"><table class="code-block-table"><tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-1" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-1">1</a></td><td class="code-line" rowspan="21"><span class="hljs-meta">---</span>
<span class="hljs-attr">Entity:</span>
  <span class="hljs-attr">columns:</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">string(20)</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">string(16)</span>
    <span class="hljs-attr">created_at:</span> <span class="hljs-string">timestamp</span>
    <span class="hljs-attr">updated_at:</span> <span class="hljs-string">timestamp</span>

    <span class="hljs-attr">User:</span>
        <span class="hljs-attr">inheritance:</span>
          <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">column_aggregation</span>
          <span class="hljs-attr">keyField:</span> <span class="hljs-string">type</span>
          <span class="hljs-attr">keyValue:</span> <span class="hljs-number">1</span>

    <span class="hljs-attr">Group:</span>
      <span class="hljs-attr">inheritance:</span>
        <span class="hljs-attr">extends:</span> <span class="hljs-string">Entity</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">column_aggregation</span>
        <span class="hljs-attr">keyField:</span> <span class="hljs-string">type</span>
        <span class="hljs-attr">keyValue:</span> <span class="hljs-number">2</span></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-2" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-2">2</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-3" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-3">3</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-4" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-4">4</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-5" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-5">5</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-6" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-6">6</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-7" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-7">7</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-8" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-8">8</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-9" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-9">9</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-10" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-10">10</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-11" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-11">11</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-12" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-12">12</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-13" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-13">13</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-14" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-14">14</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-15" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-15">15</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-16" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-16">16</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-17" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-17">17</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-18" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-18">18</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-19" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-19">19</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-20" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-20">20</a></td></tr>
<tr><td class="line-number noselect"><a name="line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-21" class="line-number-anchor" /><a href="#line-number-74e0ae954243770fa5aaa66e1d8c1c5fda525779-21">21</a></td></tr></table></div></code></pre>
            
    <p>Lets check the SQL that is generated by the above models:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>sql = Doctrine_Core::generateSqlFromArray(array('Entity', 'User', 'Group'));
echo $sql[0];</code></pre></div>
            
    <p>The above code would output the following SQL query:</p>

            <div class="console"><pre><code class="console">CREATE TABLE entity (id BIGINT AUTO_INCREMENT,
username VARCHAR(20),
password VARCHAR(16),
created_at DATETIME,
updated_at DATETIME,
type VARCHAR(255),
PRIMARY KEY(id)) ENGINE = INNODB</code></pre></div>
            [2024-09-25 14:09:21] warning: No template found for rendering directive "notice". Expected template "body/directive/notice.html.twig"
.. notice:: 


    <p>Notice how the <code>type</code> column was automatically added.
This is how column aggregation inheritance knows which model each
record in the database belongs to.</p>

            
    <p>This feature also enable us to query the <code>Entity</code> table and get a
<code>User</code> or <code>Group</code> object back if the returned object matches the
constraints set in the parent class.</p>

            
    <p>See the code example below for an example of this. First lets save a new
<code>User</code> object:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>user           = new User();
<span class="noselect">$ </span>user->name     = 'Bjarte S. Karlsen';
<span class="noselect">$ </span>user->username = 'meus';
<span class="noselect">$ </span>user->password = 'rat';
<span class="noselect">$ </span>user->save();</code></pre></div>
            
    <p>Now lets save a new <code>Group</code> object:</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>group           = new Group();
<span class="noselect">$ </span>group->name     = 'Users';
<span class="noselect">$ </span>group->username = 'users';
<span class="noselect">$ </span>group->password = 'password';
<span class="noselect">$ </span>group->save();</code></pre></div>
            
    <p>Now if we query the <code>Entity</code> model for the id of the <code>User</code> we
created, the Doctrine_Query<code> will return an instance of </code><code>User</code>.</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>q = Doctrine_Query::create()
    ->from('Entity e')
    ->where('e.id = ?');

<span class="noselect">$ </span>user = $q->fetchOne(array($user->id));

echo get_class($user); // User</code></pre></div>
            
    <p>If we do the same thing as above but for the <code>Group</code> record, it will
return an instance of <code>Group</code>.</p>

            <div class="console"><pre><code class="console">// test.php

// ...
<span class="noselect">$ </span>q = Doctrine_Query::create()
    ->from('Entity e')
    ->where('e.id = ?');

<span class="noselect">$ </span>group = $q->fetchOne(array($group->id));

echo get_class($group); // Group</code></pre></div>
            [2024-09-25 14:09:21] warning: No template found for rendering directive "notice". Expected template "body/directive/notice.html.twig"
.. notice:: 


    <p>The above is possible because of the <code>type</code> column.
Doctrine knows which class each record was created by, so when data
is being hydrated it can be hydrated in to the appropriate
sub-class.</p>

            
    <p>We can also query the individual <code>User</code> or <code>Group</code> models:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>q = Doctrine_Query::create()
    ->select('u.id')
    ->from('User u');

echo $q->getSqlQuery();</code></pre></div>
            
    <p>The above call to <code>getSql()</code> would output the following SQL query:</p>

            <div class="console"><pre><code class="console">SELECT e.id AS
e_id FROM entity e WHERE (e.type = '1')</code></pre></div>
            [2024-09-25 14:09:21] warning: No template found for rendering directive "notice". Expected template "body/directive/notice.html.twig"
.. notice:: 


    <p>Notice how the <code>type</code> condition was automatically added
to the query so that it will only return records that are of type
<code>User</code>.</p>

    </div>
            <div class="section" id="conclusion">
            <h2 class="section-header ">
    <a href="#conclusion">
        Conclusion
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Now that we&#039;ve learned about how to take advantage of PHPs inheritance
features with our models we can move on to learning about Doctrine <a href="behaviors.html">Behaviors</a>.
This is one of the most sophisticated and useful
features in Doctrine for accomplishing complex models with small and
easy to maintain code.</p>

    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://staging.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine1';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Doctrine1 master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
        
            </body>
</html>
