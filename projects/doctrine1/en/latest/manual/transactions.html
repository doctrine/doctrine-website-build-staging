<!DOCTYPE html>
<html>
    <head>
        <title>        Transactions - Doctrine Doctrine1 ORM (Doctrine1)
    </title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="Doctrine Doctrine1 ORM Documentation: Transactions ">

        <meta name="keywords" content="                    php,doctrine1,orm,database,documentation,transactions
    ">

                    <meta name="robots" content="noindex">
        
        
                    <link rel="canonical" href="https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/transactions.html" />
    
        <link
            rel="stylesheet"
            type="text/css"
            href="https://staging.doctrine-project.org/frontend/css/index.css?c900c9"
                        crossorigin="anonymous"
        />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineproject" />
        <meta name="twitter:creator" content="@doctrineproject" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/transactions.html" />
        <meta property="og:title" content="        Transactions - Doctrine Doctrine1 ORM (Doctrine1)
    " />
        <meta property="og:description" content="Doctrine Doctrine1 ORM Documentation: Transactions " />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/logos/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineproject"
            ]
        }
        </script>

                    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Course",
            "name": "Doctrine Doctrine1 ORM",
            "description": "Transactions",
            "provider": {
                "@type": "Organization",
                "name": "Doctrine",
                "sameAs": "https://staging.doctrine-project.org"
            }
        }
        </script>
    
        
            </head>
    <body>
                    
            <nav class="doctrine-navbar navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="/index.html"><img src="https://staging.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c" />Doctrine</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item" href="/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item" href="/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item" href="/projects/common.html">Common</a>
                                                                    <a class="dropdown-item" href="/projects/data-fixtures.html">Data fixtures</a>
                                                                    <a class="dropdown-item" href="/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item" href="/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item" href="/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item" href="/projects/instantiator.html">Instantiator</a>
                                                                    <a class="dropdown-item" href="/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item" href="/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item" href="/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item" href="/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item" href="/projects/rst-parser.html">RST Parser</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="/contribute/index.html" id="navbarDevelopmentDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="/community/index.html">Community</a>
                                <a class="dropdown-item" href="/contribute/index.html">Contributor Workflow</a>
                                <a class="dropdown-item" href="/contribute/maintainer/index.html">Maintainer Workflow</a>
                                <a class="dropdown-item" href="/contribute/website/index.html">Contribute to Website</a>
                                <a class="dropdown-item" href="/policies.html">Policies</a>
                                <a class="dropdown-item" href="https://github.com/doctrine" target="_blank" rel="noopener noreferrer">GitHub</a>
                                <a class="dropdown-item" href="/styleguide.html">Styleguide</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/sponsorship.html">Sponsorship</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/partners.html">Partners</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blog/index.html">Blog</a>
                        </li>
                    </ul>

                    <div class="layout-edit-button d-inline-block mr-2">
                                                    <a href="https://github.com/doctrine/doctrine1/edit/master/docs/en/manual/transactions.rst" class="btn btn-light" target="_blank" rel="noopener noreferrer">Edit</a>
                                            </div>
                </div>
                <div class="nav-outbound">
                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank" rel="noopener noreferrer"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <div class="container-wrapper container">
        <div class="row row-offcanvas row-offcanvas-right">
                            <nav class="col-md-3 d-sm-block bg-light sidebar sidebar-offcanvas" id="sidebar">
                    <div class="sidebar-sticky">
                        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7D553W&placement=wwwdoctrine-projectorg" id="_carbonads_js"></script>

                        

            <div class="toc">
    <ul class="menu-level">
    </ul>
</div>
    

                    </div>
                </nav>
            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-9 pt-3 px-4">
                <div class="row">
                                        
                                                                <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
                {
            "@type": "ListItem",
            "position": 1,
            "name": "Projects",
            "item": "https://staging.doctrine-project.org/projects.html"
        },                {
            "@type": "ListItem",
            "position": 2,
            "name": "Doctrine1",
            "item": "https://staging.doctrine-project.org/projects/doctrine1.html"
        },                {
            "@type": "ListItem",
            "position": 3,
            "name": "Documentation",
            "item": "https://staging.doctrine-project.org/projects/doctrine1/en/latest/index.html"
        },                {
            "@type": "ListItem",
            "position": 4,
            "name": "Transactions",
            "item": "https://staging.doctrine-project.org/projects/doctrine1/en/latest/manual/transactions.html"
        }            ]
}
</script>

<nav class="breadcrumbs d-none d-sm-block d-md-block d-lg-block d-xl-block" aria-label="breadcrumb">
    <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects.html">Projects</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine1.html">Doctrine1</a></li>
                                                <li class="breadcrumb-item"><a href="https://staging.doctrine-project.org/projects/doctrine1/en/latest/index.html">Documentation</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Transactions</li>
                        </ol>
</nav>
                                    </div>

                    
    <div class="alert caution bg-light-yellow text-dark border">
    <table width="100%">
        <tr>
            <td width="10" class="align-top">
                <i class="fas fa-exclamation-circle text-warning mr-2"></i>
            </td>
            <td><p>This project is no longer maintained and has been archived.</p></td>
        </tr>
    </table>
</div>

                <div class="row">
                    <div class="col-12">
                                                    <button type="button" class="btn btn-primary btn-sm float-right toc-toggle" data-toggle="offcanvas" id="toc-toggle">Table of Contents</button>

                                                            
                                <div class="dropdown show d-inline-block">
                                    <a class="project-version-switcher btn btn-secondary btn-sm dropdown-toggle" href="/projects/doctrine1/en/latest/manual/transactions.html" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        master
                                    </a>

                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                                                    <h6 class="dropdown-header">Maintained</h6>

                                                                                                                                                
                                                    <a class="project-version-switcher dropdown-item active" href="/projects/doctrine1/en/latest/manual/transactions.html">
                                                        master

                                                        
                                                                                                            </a>
                                                                                                                                    
                                                                                    <h6 class="dropdown-header">Unmaintained</h6>

                                                                                                                                                                                                                    </div>
                                </div>
                            
                            

            <div class="section" id="transactions">
            <h1 class="section-header ">
    <a href="#transactions">
        Transactions
        <i class="fas fa-link"></i>
    </a>
</h1>
            <div class="section" id="introduction">
            <h2 class="section-header ">
    <a href="#introduction">
        Introduction
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>A database transaction is a unit of interaction with a database
management system or similar system that is treated in a coherent and
reliable way independent of other transactions that must be either
entirely completed or aborted. Ideally, a database system will guarantee
all of the ACID (Atomicity, Consistency, Isolation, and Durability)
properties for each transaction.</p>

            

<ul>
    <li class="dash"><a href="http://en.wikipedia.org/wiki/Atomicity">Atomicity</a> refers to the
ability of the DBMS to guarantee that either all of the tasks of a
transaction are performed or none of them are. The transfer of funds
can be completed or it can fail for a multitude of reasons, but
atomicity guarantees that one account won&#039;t be debited if the other
is not credited as well.</li>
    <li class="dash"><a href="http://en.wikipedia.org/wiki/Database_consistency">Consistency</a>
refers to the database being in a legal state when the transaction
begins and when it ends. This means that a transaction can&#039;t break
the rules, or //integrity constraints//, of the database. If an
integrity constraint states that all accounts must have a positive
balance, then any transaction violating this rule will be aborted.</li>
    <li class="dash"><a href="http://en.wikipedia.org/wiki/Schedule_(computer_science)">Isolation</a> refers to the ability of the application to make
operations in a transaction appear isolated from all other
operations. This means that no operation outside the transaction can
ever see the data in an intermediate state; a bank manager can see
the transferred funds on one account or the other, but never on both
- even if she ran her query while the transfer was still being
processed. More formally, isolation means the transaction history (or
<a href="http://en.wikipedia.org/wiki/Schedule_(computer_science)">schedule</a>) is <a href="http://en.wikipedia.org/wiki/Serializability">serializable</a>. For performance reasons, this ability is the most
often relaxed constraint. See the
<a href="http://en.wikipedia.org/wiki/Isolation_(computer_science)">isolation</a> article for more details.</li>
    <li class="dash"><a href="http://en.wikipedia.org/wiki/Durability_(computer_science)">Durability</a> refers to the guarantee that once the user has been
notified of success, the transaction will persist, and not be undone.
This means it will survive system failure, and that the
<a href="http://en.wikipedia.org/wiki/Database_system">database system</a> has
checked the integrity constraints and won&#039;t need to abort the
transaction. Typically, all transactions are written into a
<a href="http://en.wikipedia.org/wiki/Database_log">log</a> that can be played
back to recreate the system to its state right before the failure. A
transaction can only be deemed committed after it is safely in the
log.</li>
</ul>

            
    <p>In Doctrine all operations are wrapped in transactions by default. There
are some things that should be noticed about how Doctrine works
internally:</p>

            

<ul>
    <li class="dash">Doctrine uses application level transaction nesting.</li>
    <li class="dash">Doctrine always executes <code>INSERT</code> / <code>UPDATE</code> / <code>DELETE</code> queries
at the end of transaction (when the outermost commit is called). The
operations are performed in the following order: all inserts, all
updates and last all deletes. Doctrine knows how to optimize the
deletes so that delete operations of the same component are gathered
in one query.</li>
</ul>

            
    <p>First we need to begin a new transation:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>conn->beginTransaction();</code></pre></div>
            
    <p>Next perform some operations which result in queries being executed:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>user       = new User();
<span class="noselect">$ </span>user->name = 'New user';
<span class="noselect">$ </span>user->save();

<span class="noselect">$ </span>user       = Doctrine_Core::getTable('User')->find(5);
<span class="noselect">$ </span>user->name = 'Modified user';
<span class="noselect">$ </span>user->save();</code></pre></div>
            
    <p>Now we can commit all the queries by using the <code>commit()</code> method:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>conn->commit();</code></pre></div>
    </div>
            <div class="section" id="nesting">
            <h2 class="section-header ">
    <a href="#nesting">
        Nesting
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>You can easily nest transactions with the Doctrine DBAL. Check the code
below for a simple example demonstrating nested transactions.</p>

            
    <p>First lets create a standard PHP function named <code>saveUserAndGroup()</code>:</p>

            <div class="console"><pre><code class="console">function saveUserAndGroup(Doctrin_Connection $conn, User $user, Group $group)
{
    $conn->beginTransaction();

    $user->save();

    $group->save();

    $conn->commit();
}</code></pre></div>
            
    <p>Now we make use of the function inside another transaction:</p>

            <div class="console"><pre><code class="console">try {
    $conn->beginTransaction();

    saveUserAndGroup($conn,$user,$group);
    saveUserAndGroup($conn,$user2,$group2);
    saveUserAndGroup($conn,$user3,$group3);

    $conn->commit();

} catch(Doctrine_Exception $e) {
    $conn->rollback();
}</code></pre></div>
                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Notice how the three calls to <code>saveUserAndGroup()</code> are
wrapped in a transaction, and each call to the function starts its
own nested transaction.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
    </div>
            <div class="section" id="savepoints">
            <h2 class="section-header ">
    <a href="#savepoints">
        Savepoints
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Doctrine supports transaction savepoints. This means you can set named
transactions and have them nested.</p>

            
    <p>The
<code>Doctrine_Transaction::beginTransaction($savepoint)</code> sets a named transaction savepoint with a name of <code>$savepoint</code>.
If the current transaction has a savepoint with the same name, the old
savepoint is deleted and a new one is set.</p>

            <div class="console"><pre><code class="console">try {
    $conn->beginTransaction();
    // do some operations here

    // creates a new savepoint called mysavepoint
    $conn->beginTransaction('mysavepoint');
    try {
        // do some operations here

        $conn->commit('mysavepoint');
    } catch(Exception $e) {
        $conn->rollback('mysavepoint');
    }
    $conn->commit();
} catch(Exception $e) {
    $conn->rollback();
}</code></pre></div>
            
    <p>The <code>Doctrine_Transaction::rollback($savepoint)</code> rolls back a
transaction to the named savepoint. Modifications that the current
transaction made to rows after the savepoint was set are undone in the
rollback.</p>

                        <div class="alert note-admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas fa-sticky-note text-primary mr-2"></i></td>
            <td>
                                                
    <p>Mysql, for example, does not release the row locks that
were stored in memory after the savepoint.</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            
    <p>Savepoints that were set at a later time than the named savepoint are
deleted.</p>

            
    <p>The <code>Doctrine_Transaction::commit($savepoint)</code> removes the named
savepoint from the set of savepoints of the current transaction.</p>

            
    <p>All savepoints of the current transaction are deleted if you execute a
commit or if a rollback is being called without savepoint name
parameter.</p>

            <div class="console"><pre><code class="console">try {
    $conn->beginTransaction();
    // do some operations here

    // creates a new savepoint called mysavepoint
    $conn->beginTransaction('mysavepoint');

    // do some operations here

    $conn->commit();   // deletes all savepoints
} catch(Exception $e) {
    $conn->rollback(); // deletes all savepoints
}</code></pre></div>
    </div>
            <div class="section" id="isolation-levels">
            <h2 class="section-header ">
    <a href="#isolation-levels">
        Isolation Levels
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>A transaction isolation level sets the default transactional behavior.
As the name &#039;isolation level&#039; suggests, the setting determines how
isolated each transation is, or what kind of locks are associated with
queries inside a transaction. The four available levels are (in
ascending order of strictness):</p>

            <dl>
                        <dt><code>READ UNCOMMITTED</code></dt>
        
        <dd>Barely transactional, this setting allows for so-called &#039;dirty reads&#039;, where queries inside one transaction are affected by uncommitted changes in another transaction.</dd>
                                <dt><code>READ COMMITTED</code></dt>
        
        <dd>Committed updates are visible within another transaction. This means identical queries within a transaction can return differing results. This is the default in some DBMS&#039;s.</dd>
                                <dt><code>REPEATABLE READ</code></dt>
        
        <dd>Within a transaction, all reads are consistent. This is the default of Mysql INNODB engine.</dd>
                                <dt><code>SERIALIZABLE</code></dt>
        
        <dd>Updates are not permitted in other transactions if a transaction has run an ordinary <code>SELECT</code> query.</dd>
            </dl>
            
    <p>To get the transaction module use the following code:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>tx = $conn->transaction;</code></pre></div>
            
    <p>Set the isolation level to READ COMMITTED:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>tx->setIsolation('READ COMMITTED');</code></pre></div>
            
    <p>Set the isolation level to SERIALIZABLE:</p>

            <div class="console"><pre><code class="console"><span class="noselect">$ </span>tx->setIsolation('SERIALIZABLE');</code></pre></div>
            <div class="alert -admonition bg-light-yellow text-dark border ">
    <table width="100%">
        <tbody>
        <tr>
            <td width="10" class="align-top"><i class="fas   mr-2"></i></td>
            <td>
                                                
    <p>Some drivers (like Mysql) support the fetching of current
transaction isolation level. It can be done as follows:</p>

            </td>
        </tr>
        </tbody>
    </table>
</div>
            <div class="console"><pre><code class="console"><span class="noselect">$ </span>level = $tx->getIsolation();</code></pre></div>
    </div>
            <div class="section" id="conclusion">
            <h2 class="section-header ">
    <a href="#conclusion">
        Conclusion
        <i class="fas fa-link"></i>
    </a>
</h2>
            
    <p>Transactions are a great feature for ensuring the quality and
consistency of your database. Now that you know about transactions we
are ready to move on and learn about the events sub-framework.</p>

            
    <p>The events sub-framework is a great feature that allows you to hook in
to core methods of Doctrine and alter the operations of internal
functionality without modifying one line of core code.</p>

    </div>
    </div>
        

                                                </div>
                </div>
            </main>
        </div>
    </div>

        <button id="back-to-top" title="Go to top">Top</button>

                
        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script
            src="https://staging.doctrine-project.org/frontend/js/bundle.js?ff3b61"
                        crossorigin="anonymous">
        </script>

                
        <script type="text/javascript">
            var projectSlug = 'doctrine1';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search Doctrine1 master'
            };

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }
        </script>

        
        
            </body>
</html>
