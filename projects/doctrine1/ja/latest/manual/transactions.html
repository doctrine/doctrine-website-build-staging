<!DOCTYPE html>
<html>
    <head>
        <title>はじめに - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="The Doctrine Project is the home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
">

        <meta name="keywords" content="php,mysql,orm,dbal,database,mongodb,odm,annotations,migrations,cache,couchdb">

                    <meta name="robots" content="noindex">
        
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://staging.doctrine-project.org/css/style.css?c8b404" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

        <link rel="stylesheet" href="https://staging.doctrine-project.org/css/railscasts.css?62eb49" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://staging.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://staging.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://staging.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://staging.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://staging.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://staging.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://staging.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://staging.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://staging.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://staging.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://staging.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://staging.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://staging.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://staging.doctrine-project.org/images/mstile-310x310.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@doctrineorm" />
        <meta name="twitter:creator" content="@doctrineorm" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://staging.doctrine-project.org/projects/doctrine1/ja/latest/manual/transactions.html" />
        <meta property="og:title" content="はじめに - Doctrine - PHP Database Tools" />
        <meta property="og:description" content="The Doctrine Project is the home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.
" />
        <meta property="og:image" content="https://staging.doctrine-project.org/images/og.png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="1200" />

        <link rel="alternate" type="application/atom+xml" href="https://staging.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "url": "https://staging.doctrine-project.org",
            "logo": "https://staging.doctrine-project.org/images/doctrine-logo.svg"
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "url": "https://staging.doctrine-project.org",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://staging.doctrine-project.org?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>

        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "name": "Doctrine",
            "url": "https://staging.doctrine-project.org",
            "sameAs": [
                "https://twitter.com/doctrineorm"
            ]
        }
        </script>

        
        
            </head>
    <body>
                    <nav class="navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap">
                <a class="navbar-brand text-hide" href="https://staging.doctrine-project.org/"><img src="https://staging.doctrine-project.org/images/doctrine-logo.svg?6c0dab" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/projects.html" id="navbarProjectsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarProjectsDropdown">
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/annotations.html">Annotations</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/cache.html">Cache</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/coding-standard.html">Coding Standard</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/collections.html">Collections</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/common.html">Common</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/dbal.html">DBAL</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/event-manager.html">Event Manager</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/inflector.html">Inflector</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/lexer.html">Lexer</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/migrations.html">Migrations</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/mongodb.html">MongoDB</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/mongodb-odm.html">MongoDB ODM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/orm.html">ORM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/persistence.html">Persistence</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/phpcr-odm.html">PHPCR ODM</a>
                                                                    <a class="dropdown-item notranslate" href="https://staging.doctrine-project.org/projects/reflection.html">Reflection</a>
                                                                <a class="dropdown-item bg-secondary text-white font-weight-bold" href="https://staging.doctrine-project.org/projects.html">View All</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://staging.doctrine-project.org/contribute/" id="navbarContributeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Contribute</a>

                            <div class="dropdown-menu" aria-labelledby="navbarContributeDropdown">
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/">Contributor Workflow</a>
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/maintainer/">Maintainer Workflow</a>
                                <a class="dropdown-item" href="https://staging.doctrine-project.org/contribute/website/">Contribute to Website</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://staging.doctrine-project.org/team/">Team</a>
                        </li>
                    </ul>

                    <div class="google-translate-dropdown dropdown show d-inline-block mr-2">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="translateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Translate
                        </a>

                        <div class="dropdown-menu" aria-labelledby="translateDropdown">
                            <div class="dropdown-item" id="google_translate_element">Loading...</div>
                        </div>
                    </div>

                    <div id="search-box">
                        <!-- SearchBox widget will appear here -->
                    </div>
                </div>
            </nav>

            <div class="search-results rounded">
                <div id="hits">
                    <!-- Hits widget will appear here -->
                </div>

                <a href="https://www.algolia.com" target="_blank"><img src="https://staging.doctrine-project.org/images/search-by-algolia.png" class="float-right" style="width: 150px;" /></a>
            </div>
        
            <main role="main" class="container-wrapper container">
                    
<p></p>
<hr />
<a class="section-anchor" id="" name=""></a><h1 class="section-header"><a href="#">はじめに<i class="fas fa-link"></i></a></h1>
<p>データベーストランザクションはデータベースマネジメントシステムもしくは似たようなシステムとのインタラクションのユニットです。トランザクションは完結させるか停止するかどちらかでなければならず他のトランザクションから独立した整合性と信頼性のある方法で扱われます。理想的には、データベースシステムはそれぞれのトランザクションに対してACID(Atomicity、Consistency、Isolation、とDurability)プロパティのすべてを保証します。</p>
<ul><li class="dash"> //[http://en.wikipedia.org/wiki/Atomicity
   原子性(Atomicity)]//はすべてのタスクのトランザクションが実行されるかそれともまったく行われないことを保証するDBMSの機能を示します。資金の転送は完全にやり通すか複数の理由から停止するかどちらかですが、原始性はあるアカウントにお金が入らない場合、他のアカウントが負債を得ることはないことを保証します。</li>
<li class="dash"> //[http://en.wikipedia.org/wiki/Database\_consistency
   Consistency(一貫性)]//はトランザクションの開始時と終了時にデータベースが正しい状態にあることを示します。これはトランザクションはデータベースのルール、もしくは//整合性制約//を破ることができないことを意味します。整合性制約がすべてのアカウントがプラス残高でなければならないことを述べる場合、このルールに違反するトランザクションは停止します。</li>
<li class="dash"> //[http://en.wikipedia.org/wiki/Isolation<em>%28computer\_science%29
   隔離性(Isolation)]//は他のすべてのオペレーションからトランザクション内のオペレーションを分離させるアプリケーションの機能を示します。これはトランザクション外部のオペレーションは中間状態のデータを見ることができないことを意味します;転送がまだ処理されている間にがクエリが実行された場合でも、銀行のマネージャーはファンドが特定のアカウントもしくは他のアカウントのどちらかに転送されることがわかります。よりフォーマルには、隔離性はトランザクションの履歴(もしくは[http://en.wikipedia.org/wiki/Schedule</em>%28computer\_science%29
   スケジュール])が[http://en.wikipedia.org/wiki/Serializability
   serializable]であることを意味します。パフォーマンスの理由から、この機能はもっとも緩やかな制約であることが多いです。詳細は[http://en.wikipedia.org/wiki/Isolation\_%28computer\_science%29
   隔離性]の記事を参照してください。</li>
<li class="dash"> //[http://en.wikipedia.org/wiki/Durability\_%28computer\_science%29
   持続性(Durability)]//はユーザーが成功の通知を受けると、トランザクションが永続化され、取り消しされないことが保証されることを示します。このことはシステム障害を乗り越え、[http://en.wikipedia.org/wiki/Database\_system
   データベースシステム]が整合性制約をチェックしトランザクションを停止する必要がないことを意味します。すべてのトランザクションは[http://en.wikipedia.org/wiki/Database\_log
   ログ]に書き込まれトランザクション前の正しい状態にシステムを再現できます。ログで安全になった後でトランザクションはコミットのみできます。</li>
</ul>

<p>Doctrineにおいてデフォルトではすべてのオペレーションはトランザクションにラップされます。Doctrineが内部で動作する方法について注目すべきことは次の通りです:</p>
<ul><li class="dash"> Doctrineはアプリケーションレベルのトランザクションネスティングを使用する</li>
<li class="dash"> (最も外側のコミットが呼び出されるとき)Doctrineは常に<code>INSERT</code> /
   <code>UPDATE</code> /
   <code>DELETE</code>クエリを実行する。オペレーションは次の順序で実行されます:
   すべてのinsert、すべてのupdateと最後にすべてのdelete。同じコンポーネントのdeleteオペレーションが1つのクエリに集約されるようにDoctrineはdeleteを最適化する方法を知っています。</li>
</ul>

<p>最初に新しいトランザクションを始める必要があります:</p>
<blockquote><p>$conn-&gt;beginTransaction();</p>
</blockquote>
<p>次に実行されているクエリになるオペレーションをいくつか実行します:</p>
<blockquote><p>$user = new User(); $user-&gt;name = 'New user'; $user-&gt;save();</p>
</blockquote>
<p>$user = Doctrine\_Core::getTable('User')-&gt;find(5); $user-&gt;name =
'Modified user'; $user-&gt;save();</p>
<p><code>commit()</code>メソッドを使用することですべてのクエリをコミットできます:</p>
<blockquote><p>$conn-&gt;commit();</p>
</blockquote>
<hr />
<a class="section-anchor" id="" name=""></a><h1 class="section-header"><a href="#">ネスティング<i class="fas fa-link"></i></a></h1>
<p>Doctrine
DBALでトランザクションを簡単にネストできます。ネストされたトランザクションを実演するシンプルな例を示す下記のコードを確認しましょう。</p>
<p>最初に<code>saveUserAndGroup()</code>という名前のPHP関数を作ってみましょう:</p>
<blockquote><p>function saveUserAndGroup(Doctrine\_Connection $conn, User $user, Group</p>
</blockquote>
<p>$group) { $conn-&gt;beginTransaction();</p>
<div class="console"><pre><code class="console"><span class="noselect">$ </span>user->save();

<span class="noselect">$ </span>group->save();

<span class="noselect">$ </span>conn->commit();</code></pre></div>
<p>}</p>
<p>別のトランザクション内部でメソッドを利用します:</p>
<blockquote><p>try { $conn-&gt;beginTransaction();</p>
</blockquote>
<div class="console"><pre><code class="console">saveUserAndGroup($conn,$user,$group);
saveUserAndGroup($conn,$user2,$group2);
saveUserAndGroup($conn,$user3,$group3);

<span class="noselect">$ </span>conn->commit();</code></pre></div>
<p>} catch(Doctrine\_Exception $e) { $conn-&gt;rollback(); }</p>
<blockquote><p><strong>NOTE</strong>
<code>saveUserAndGroup()</code>への3つの呼び出しがトランザクションでラップされ、それぞれの関数呼び出しは独自のネストされたトランザクションを始めることに注目してください。</p>
</blockquote>
<hr />
<a class="section-anchor" id="savepoints" name="savepoints"></a><h1 class="section-header"><a href="#savepoints">Savepoints<i class="fas fa-link"></i></a></h1>
<p>Doctrineはトランザクションのセーブポイントをサポートします。このことは名前有りのトランザクションを設定してこれらをネストできることを意味します。</p>
<p><code>Doctrine_Transaction::beginTransaction(`savepoint)</code>は<code>`\ savepoint</code>の名前で名付けられたトランザクションセーブポイントを設定し、現在のトランザクションが同じ名前のセーブポイントを持つ場合、古いセーブポイントは削除され新しいものが設定されます。
 try { $conn-&gt;beginTransaction(); // 何らかのオペレーションをここで行う</p>
<div class="console"><pre><code class="console">// mysavepointと呼ばれる新しいセーブポイントを作成する
<span class="noselect">$ </span>conn->beginTransaction('mysavepoint');
try {
    // 何らかのオペレーションをここで行う

    $conn->commit('mysavepoint');
} catch(Exception $e) {
    $conn->rollback('mysavepoint');
}
<span class="noselect">$ </span>conn->commit();</code></pre></div>
<p>} catch(Exception $e) { $conn-&gt;rollback(); }</p>
<p><code>Doctrine_Transaction::rollback($savepoint)</code>はトランザクションを名前付きのセーブポイントにロールバックします。セーブポイントの後で現在のトランザクションが列に行った修正はロールバックで取り消しになります。</p>
<blockquote><p><strong>NOTE</strong>
例えばMysqlの場合、セーブポイントの後でメモリーに保存された列のロックを開放しません。</p>
</blockquote>
<p>名前付きのセーブポイントの後で設定されたセーブポイントは削除されます。</p>
<p><code>Doctrine_Transaction::commit($savepoint)</code>は現在のトランザクションのセーブポイントのセットから名前付きのセーブポイントを削除します。</p>
<p>コミットを実行するもしくはセーブポイントの名前パラメータ無しでロールバックが呼び出されている場合現在のトランザクションのすべてのセーブポイントは削除されます。</p>
<blockquote><p>try { $conn-&gt;beginTransaction(); // ここで何らかのオペレーションを行う</p>
</blockquote>
<div class="console"><pre><code class="console">// mysavepointと呼ばれる新しいセーブポイントを作成する
<span class="noselect">$ </span>conn->beginTransaction('mysavepoint');

// ここで何らかのオペレーションを行う

<span class="noselect">$ </span>conn->commit();   // すべてのセーブポイントを削除する</code></pre></div>
<p>} catch(Exception $e) { $conn-&gt;rollback(); //
すべてのセーブポイントを削除する }</p>
<hr />
<a class="section-anchor" id="isolation" name="isolation"></a><h1 class="section-header"><a href="#isolation">Isolationレベル<i class="fas fa-link"></i></a></h1>
<p>トランザクションの独立性レベル(isolation
level)はデフォルトのトランザクションのビヘイビアを設定します。'独立性レベル'という名前が示すように、設定がそれぞれのトランザクションの独立性の程度、もしくはトランザクション内部でどんな種類のロックがクエリに関連付けされているかを決定します。利用できるレベルは4つあります(厳密性の昇順):</p>
<p>: <code>READ UNCOMMITTED</code> :
トランザクションがまれな場合で、この設定はいわゆる'ダーティリード(dirty
read)'を許可します。1つのトランザクション内部のクエリは別のトランザクションのコミットされていない変更によって影響を受けます。</p>
<p>: <code>READ COMMITTED</code> :
コミットされた更新は別のトランザクションの範囲内で見えます。トランザクション内の理想的なクエリは異なる結果を返すことができることを意味します。一部のDBMSではこれはデフォルトです。</p>
<p>: <code>REPEATABLE READ</code> :
トランザクションの範囲内では、すべての読み込みが一貫しています。これはMysql
INNODBエンジンのデフォルトです。</p>
<p>: <code>SERIALIZABLE</code> :
トランザクションが通常の<code>SELECT</code>クエリを持つ場合、他のトランザクションで更新が許可されない。</p>
<p>transactionモジュールを取得するには、次のコードを使います:</p>
<blockquote><p>$tx = $conn-&gt;transaction;</p>
</blockquote>
<p>独立性レベルをREAD COMMITTEDに設定する:</p>
<blockquote><p>$tx-&gt;setIsolation('READ COMMITTED');</p>
</blockquote>
<p>独立性レベルをSERIALIZABLEに設定する:</p>
<blockquote><p>$tx-&gt;setIsolation('SERIALIZABLE');</p>
</blockquote>
<div class="alert tip-admonition bg-success text-light border"><table width="100%"><tr><td width="10" class="align-top"><i class="fas fa-question-circle mr-2"></i></td><td><p>ドライバの中には(Mysqlのように)現在の独立性レベルの取得をサポートするものがあります。次のようにできます:</p>
<p>vel = $tx-&gt;getIsolation();</p>
</td></tr></table></div>
<hr />
<a class="section-anchor" id="" name=""></a><h1 class="section-header"><a href="#">まとめ<i class="fas fa-link"></i></a></h1>
<p>トランザクションはデータベースの質と一貫性を保証する偉大な機能です。トランザクションを理解したのでイベントサブフレームワークについて学ぶ準備ができています。</p>
<p>イベントサブフレームワークはDoctrineのコアメソッドにフックを入れることを可能にする偉大な機能でコアコードを一行も修正せずに内部機能のオペレーションを変更します。</p>
<p></p>
            </main>

        
        <button id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        <script id="instantsearch-template" type="text/template">
            
    <a href="{{url}}" class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{{_highlightResult.projectName.value}}}: {{{_highlightResult.h1.value}}}</h5>
        </div>

        {{#h2}}
            <p class="mb-1">
                <i class="far fa-arrow-alt-circle-right text-primary"></i>

                {{{_highlightResult.h2.value}}}

                {{#h3}}
                    > {{{_highlightResult.h3.value}}}
                {{/h3}}

                {{#h4}}
                    > {{{_highlightResult.h4.value}}}
                {{/h4}}

                {{#h5}}
                    > {{{_highlightResult.h5.value}}}
                {{/h5}}
            </p>
        {{/h2}}

        {{#content}}
            <div class="content p-2 rounded" style="background-color: rgba(0,0,0,.125);">
                {{{_highlightResult.content.value}}}
            </div>
        {{/content}}
    </a>

        </script>

        <script src="https://cdn.ravenjs.com/3.24.2/raven.min.js" crossorigin="anonymous"></script>

        <script type="text/javascript">
            Raven.config('https://09ce137590054cfd8f0b7e9324d6ec14@sentry.io/1197701').install()
        </script>

        <script src="https://staging.doctrine-project.org/js/main.js?4138a7"></script>
        <script src="https://staging.doctrine-project.org/js/search.js?493399"></script>

        <script type="text/javascript">
            var projectSlug = '';
            var versionSlug = 'latest';

            var searchBoxSettings = {
                container: '#search-box',
                placeholder: 'Search'
            };

            new Main();

            new Search(projectSlug, versionSlug, searchBoxSettings);

            function googleAnalyticsEvent(eventCategory, eventAction, eventLabel, eventValue, fieldsObject) {
                                console.log(eventCategory, eventAction, eventLabel, eventValue, fieldsObject);
                            }

            function googleTranslateElementInit() {
                $('#google_translate_element').html('');

                new google.translate.TranslateElement(
                    {pageLanguage: 'en'}, 'google_translate_element'
                );

                $('#google_translate_element select').on('change', function() {
                    var language = $('#google_translate_element select option:selected').text();

                    googleAnalyticsEvent('Translate', 'click', language);
                });
            }
        </script>

        <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async></script>

        
        
            </body>
</html>
