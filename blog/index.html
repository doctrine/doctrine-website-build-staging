<!DOCTYPE html>
<html>
    <head>
        <title>Blog - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?9" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?9" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>

        <header>
            <nav class="navbar navbar-expand-md navbar-dark border-bottom">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Begin page content -->
        <main role="main" class="container">
                            
                                
                                
                
                <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Blog</li>
    </ol>
</nav>

    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2017/12/21/orm-2-6-0-and-next">Doctrine ORM 2.6 and Next (3.0)</a></h2>
        </header>

        <p class="lead">
            Posted on 2017-12-21
                            by
                                    <a href="mailto:mike@simonson.be">Mike Simonson</a>
                                    </p>

        <hr />

        <div>
            <p>We are happy to announce the immediate availability of Doctrine ORM 2.6
`2.6.0 &lt;https://github.com/doctrine/doctrine2/releases/tag/v2.6.0&gt;`.</p>
<a id="title.1"></a><h1>ORM 2.6.0</h1>
<p>This release contains almost 3 years of active development and it provides several improvements and fixes, including:</p>
<ul><li class="dash">Better commit order calculation</li>
<li class="dash">More stable second level cache</li>
<li class="dash">Strict testing and quality control</li>
<li class="dash">PHP 7.1+ requirement</li>
</ul>

<p><a href="https://github.com/doctrine/doctrine2/releases/tag/v2.6.0">changelog</a>.</p>
<a id="title.2"></a><h1>Next?</h1>
<p>This release marks the feature freeze of the 2.x version.</p>
<p>If you need to improve please work on the develop branch that will become the 3.0 branch in the coming days.
The changes are already too numerous to easily rebase a feature from the 2.x branch to the develop one.</p>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2017/10/24/odm-1-2-0-and-1-1-7">Doctrine MongoDB ODM 1.2.0 and 1.1.7 Released</a></h2>
        </header>

        <p class="lead">
            Posted on 2017-10-24
                            by
                                    <a href="mailto:alcaeus@alcaeus.org">Andreas Braun</a>
                                    </p>

        <hr />

        <div>
            <p>We are happy to announce the immediate availability of Doctrine MongoDB ODM
<a href="https://github.com/doctrine/mongodb-odm/releases/tag/1.2.0">1.2.0</a> and
<a href="https://github.com/doctrine/mongodb-odm/releases/tag/1.1.7">1.1.7</a>.</p>
<a id="title.1"></a><h1>MongoDB ODM 1.1.7</h1>
<p>Notable fixes may be found in the
<a href="https://github.com/doctrine/mongodb-odm/blob/1.1.x/CHANGELOG-1.1.md#117-2017-10-23">changelog</a>.
A full list of issues and pull requests included in this release may be found in the
<a href="https://github.com/doctrine/mongodb-odm/issues?q=milestone%3A1.1.7">1.1.7 milestone</a>.</p>
<a id="title.2"></a><h1>What is new in 1.2.0?</h1>
<p>Doctrine MongoDB ODM 1.2.0 introduces the following new features:</p>
<ul><li class="dash">The <code>readOnly</code> mapping option allows you to map immutable documents.</li>
<li class="dash">With <code>slaveOkay</code> being deprecated, you can now specify a <code>readPreference</code>
  for your documents. This <code>readPreference</code> will automatically be applied to
  all queries for those mapped documents.</li>
<li class="dash">With <code>dbRef</code> only offering limited support in aggregation pipeline queries,
  there's a new reference storage strategy called <code>ref</code> that stores references
  as objects (without &quot;$&quot;-prefixed field names), allowing you to use it with
  discriminators and aggregation pipeline queries.</li>
<li class="dash">When mapping inverse references, you may now specify fields that will be
  primed when the reference is resolved. This saves you from writing a dedicated
  repository method for the sole purpose of priming references.</li>
<li class="dash">The <code>odm:schema:validate</code> command validates the document mapping to help you
  spot mistakes.</li>
<li class="dash">A new builder for aggregation pipeline queries, including support for
  marshalling results into read-only documents.</li>
<li class="dash">Query result documents that can be used to hydrate results from an aggregation
  pipeline query. These documents cannot be written back to the database.</li>
</ul>

<a id="title.3"></a><h1>Upgrading to 1.2.0</h1>
<p>The new version requires PHP 5.6. Running on PHP 7+ requires the use of a
polyfill for the legacy driver, e.g. <a href="https://github.com/alcaeus/mongo-php-adapter">mongo-php-adapter</a>.
When running on PHP 5.6, MongoDB ODM requires version 1.6.7 or newer of the
legacy MongoDB driver.</p>
<p>Several features have been deprecated in this release and will be dropped in the
2.0 release. To see this, please view the <a href="https://github.com/doctrine/mongodb-odm/blob/1.2.x/UPGRADE-1.2.md">UPGRADE document</a>.</p>
<a id="title.4"></a><h1>Installation</h1>
<p>You can install the new version of MongoDB ODM by using Composer and the
following <code>composer.json</code> contents:</p>
<pre><code class="json">{
    &quot;require&quot;: {
        &quot;doctrine/mongodb-odm&quot;: &quot;^1.2.0&quot;
    }
}
</code></pre>
<a id="title.5"></a><h1>Stability and upcoming releases</h1>
<p>As of today, Doctrine MongoDB ODM <code>1.2.0</code> is the stable distribution. There is
no release schedule for an upcoming version yet.</p>
<p><code>1.1.7</code> is the last release of the <code>1.1.x</code> development line and will no
longer receive bug fixes. Instead, we will focus on developing MongoDB ODM 2.0
with native support for the new MongoDB driver. This release will require at
least PHP 7.1 and contain several BC breaking changes. To ease the migration
process, we will release a <code>1.3.0</code> which will be backwards compatible to
the <code>1.2.x</code> line and only deprecate features to be removed in 2.0. The <code>1.x</code>
line of MongoDB ODM will not receive any new features.</p>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2017/07/25/php-7">PHP 7.1 requirement for Doctrine packages</a></h2>
        </header>

        <p class="lead">
            Posted on 2017-07-25
                            by
                                    <a href="mailto:alcaeus@alcaeus.org">Andreas Braun</a>
                                    </p>

        <hr />

        <div>
            <p>A few days ago, the Doctrine team released new versions of many packages, dropping
support for PHP 5.6 and 7.0, as well as HHVM. The affected packages are:</p>
<ul><li class="dash">doctrine/common 2.8.0</li>
<li class="dash">doctrine/dbal 2.6.0</li>
<li class="dash">doctrine/collections 1.5.0</li>
<li class="dash">doctrine/inflector 1.2.0</li>
<li class="dash">doctrine/cache 1.7.0</li>
<li class="dash">doctrine/instantiator 1.1.0</li>
<li class="dash">doctrine/annotations 1.5.0</li>
</ul>

<p>Since many people are encountering issues with these updates, here are a few
suggestions to ensure your code continues working as usual.</p>
<a id="title.1"></a><h1>Composer version constraints</h1>
<p>Chances are your version constraints in <code>composer.json</code> look something like this:</p>
<pre><code class="json">{
    &quot;require&quot;: {
        &quot;doctrine/orm&quot;: &quot;^2.5&quot;
    }
}
</code></pre>
<p>The <code>^2.5</code> constraint resolves to: <code>&gt;= 2.5.0 &amp;&amp; &lt;= 2.999999.999999</code>. This is
intended: our projects all follow <a href="http://semver.org/">Semantic Versioning</a>,
so you can safely install a new minor version without having to fear BC breaks.</p>
<p>When determining what version to install, composer employs a SAT solver to make
sure all dependencies are fulfilled. In our example above, the SAT solver finds
a version newer than 2.5 that satisfies all requirements.</p>
<a id="title.2"></a><h1>Making sure you get a compatible version</h1>
<p>When you run <code>composer update</code> the next time, you'll automatically receive
updates for the packages mentioned above, provided that you are running on PHP
7.1. If you are running an older PHP version, composer will not install a version
that requires PHP 7.1, since its requirements are not fulfilled.</p>
<p>A common problem is people running a newer PHP version on their developer machines
than on their production servers. In this case, running <code>composer update</code> on
a developer machine (with PHP 7.1) might happily pull in an update that simply
won't work when deployed on a production machine running PHP 5.6.</p>
<p>To make sure this doesn't happen to you, there are two choices:</p>
<ul><li class="dash"> run <code>composer update</code> on a machine with the same PHP version that you use
   in production</li>
<li class="dash"> use the <a href="https://getcomposer.org/doc/06-config.md#platform">platform.config</a>
   config setting in <code>composer.json</code> to override your local PHP version.</li>
</ul>

<a id="title.3"></a><h1>Why dropping PHP support in a minor version is not a BC break</h1>
<p>One question we frequently hear is, &quot;isn't dropping support for a PHP version a
BC break&quot;? In a nutshell, no. A BC break happens when there is an incompatible
change that your package manager can't handle. For example, changing a method
signature in a minor version is a no-go, since the composer version constraints
mentioned above assume any minor upgrade can safely be used.</p>
<p>However, when we drop support for an older version of PHP, composer will not
consider the new version if the PHP version requirement is no longer fulfilled.
Thus, you won't end up with a fatal error due to a wrong method signature, you
just won't get the new version.</p>

        </div>

            </article>

    <nav class="mt-4">
        <ul class="pagination">
            <br />
            <li class="page-item"><a class="page-link" href="https://new.doctrine-project.org/blog/page/2.html">Older Posts</a></li>        </ul>
    </nav>
                    </main>

        <footer class="footer">
            <div class="container">
                <i class="fa fa-copyright"></i> 2018 Doctrine
            </div>
        </footer>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?9"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
