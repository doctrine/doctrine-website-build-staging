<!DOCTYPE html>
<html>
    <head>
        <title>Blog - Doctrine - PHP Database Tools</title>

        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

                    <meta name="robots" content="noindex, follow">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">

        <link href="https://new.doctrine-project.org/css/style.css?9" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://new.doctrine-project.org/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://new.doctrine-project.org/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://new.doctrine-project.org/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://new.doctrine-project.org/images/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://new.doctrine-project.org/images/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://new.doctrine-project.org/images/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://new.doctrine-project.org/images/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://new.doctrine-project.org/images/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="https://new.doctrine-project.org/images/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Doctrine"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="https://new.doctrine-project.org/images/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="https://new.doctrine-project.org/images/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="https://new.doctrine-project.org/images/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="https://new.doctrine-project.org/images/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="https://new.doctrine-project.org/images/mstile-310x310.png" />

        <link rel="stylesheet" href="https://new.doctrine-project.org/components/highlightjs/styles/railscasts.css?9" />
        <link rel="alternate" type="application/atom+xml" href="https://new.doctrine-project.org/atom.xml" title="Doctrine activity feed" />

        
        
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>
    </head>
    <body>

        <header>
            <nav class="navbar navbar-expand-md navbar-dark border-bottom">
                <a class="navbar-brand text-hide" href="https://new.doctrine-project.org/"><img src="https://new.doctrine-project.org/images/doctrine-logo.svg" />Doctrine</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/about/">About</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="https://new.doctrine-project.org/projects/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Projects
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orm/">ORM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/dbal/">DBAL</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb-odm/">MongoDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/phpcr-odm/">PHPCR ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/couchdb-odm/">CouchDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/migrations/">Migrations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/common/">Common</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/mongodb/">MongoDB</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/orientdb-odm/">OrientDB ODM</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/annotations/">Annotations</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/collections/">Collections</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/inflector/">Inflector</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/cache/">Cache</a>
                                                                    <a class="dropdown-item" href="https://new.doctrine-project.org/projects/lexer/">Lexer</a>
                                                            </div>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/contribute/">Contribute</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/community/">Community</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/blog/">Blog</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://new.doctrine-project.org/search/">Search</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/doctrine/" target="_blank">Development</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Begin page content -->
        <main role="main" class="container">
                            
                                
                                
                
                <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="https://new.doctrine-project.org/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Blog</li>
    </ol>
</nav>

    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2009/11/23/doctrine-1-2-0-rc1-released">Doctrine 1.2.0-RC1 Released</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-11-23
                            by
                                    jwage
                                    </p>

        <hr />

        <div>
            <p>Today the first release candidate for the 1.2 version of Doctrine
is available for
<a href="http://www.doctrine-project.org/download#1_2">download</a>. We
addressed around 20 or so issues in
<a href="http://www.doctrine-project.org/jira">Jira</a> for this release and
we hope to have a stable release by the end of November. Please
test this latest release and report any issues you discover in
<a href="http://www.doctrine-project.org/jira">Jira</a>.</p>
<p>View the full
<a href="http://www.doctrine-project.org/change_log/1_2_0_RC1">change log</a>
for this release and
<a href="http://www.doctrine-project.org/download#1_2">download RC1</a>
now!</p>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2009/11/18/php-benchmarking-mythbusters">PHP Benchmarking Mythbusters</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-11-18
                            by
                                    romanb
                                    </p>

        <hr />

        <div>
            <p>First of, this blog post sucks. I thought I would never write such
a senseless apples and oranges comparison with artificial and
meaningless benchmarks, but I was just a bit astonished by the
results that I would like to share.</p>
<p>I use object-relational mapping tools in many different languages,
from Java to C# to PHP. One of the many supposedly lightweight
alternatives in PHP to Doctrine is Outlet. After stumbling upon
this comment on a
<a href="http://stackoverflow.com/questions/185358/simple-php-orm">stackoverflow.com post</a>:
<strong>&quot;Gotta second Outlet. Doctrine is comically bloated - it is WAY too big to be a sensible choice for anything but the lightest of server loads.&quot;</strong>
I thought I take a look at Outlet. This ORM seems to consist of
only 9 classes! It can't get any more lightweight right? I assumed
it would blow Doctrine out of the water performance-wise in all
situations.</p>
<p>So I downloaded Outlet 0.7 and created a simple test database with
just 1 table. Then I wrote a small script that bootstraps Outlet,
inserts 500 objects into the database and reads them out afterwards
(Yes, it's stupid, just like most other artificial benchmarks).</p>
<p>Environment is PHP 5.3.0 with APC.</p>
<pre><code class="php">&lt;?php
    echo PHP_EOL . (memory_get_usage() / 1024) . ' KB ' . PHP_EOL;

include 'config.php';

set_include_path(get_include_path() . PATH_SEPARATOR . __DIR__ . '/outlet');

require 'Outlet.php';

ini_set('error_reporting', E_ALL);

class Bug
{
    public $ID;
    public $Title;
    public $Description;
}

$config = array(
  'connection' =&gt; array(
    'dsn'      =&gt; 'mysql:host=localhost;dbname=outletbenchmark',
    'username' =&gt; $mysqlUsername,
    'password' =&gt; $mysqlPassword,
    'dialect' =&gt; 'mysql'
  ),
  'classes' =&gt; array(
    'Bug' =&gt; array(
      'table' =&gt; 'bugs',
      'props' =&gt; array(
        'ID'        =&gt; array('ID', 'int', array('pk' =&gt; true, 'autoIncrement' =&gt; true)),
        'Title'     =&gt; array('Title', 'varchar'),
        'Description' =&gt; array('Description', 'varchar')
      )
    )
  )
);
Outlet::init($config);
$outlet = Outlet::getInstance();
$outlet-&gt;createProxies();

$s = microtime(true);
$outlet-&gt;getConnection()-&gt;beginTransaction();
for ($i = 0; $i &lt; 500; ++$i) {
    $bug = new Bug;
    $bug-&gt;Title = 'This is a test bug';
    $bug-&gt;Description = 'Hey there!';

    $outlet-&gt;save($bug);
}
$outlet-&gt;getConnection()-&gt;commit();

$e = microtime(true);
echo &quot;\nInsert:&quot; . ($e - $s) . &quot;\n&quot;;

$outlet-&gt;clearCache();

$s = microtime(true);
$bugs = $outlet-&gt;select('Bug');
$e = microtime(true);

$outlet-&gt;clearCache();

echo &quot;\nQuery:&quot; . ($e - $s) . &quot;\n&quot;;

echo &quot;\n&quot; . (memory_get_usage() / 1024) . ' KB ' . PHP_EOL;

**CAUTION** First off, ini\_set('error\_reporting', E\_ALL); was
necessary to silence the following E\_STRICT warnings coming from
Outlet:

::

    Strict Standards: Non-static method OutletMapper::get() should not be called statically,
    assuming $this from incompatible context in /Users/robo/dev/php/outlet/outlet-0.7/classes
    /outlet/Outlet.php on line 184
    
    Strict Standards: Only variables should be passed by reference in /Users/robo/dev
    /php/outlet/outlet-0.7/classes/outlet/OutletMapper.php on line 546

Does not really look good (and does not speak for Outlet very
well), but anyway.

</code></pre>
<p>I did the same for Doctrine 2.0,
<em>without setting up a metadata or query cache</em>.</p>
<pre><code class="php">&lt;?php
echo PHP_EOL . (memory_get_usage() / 1024) . ' KB ' . PHP_EOL;

include 'config.php';

require 'doctrine/Doctrine/Common/IsolatedClassLoader.php';

/**
 * @Entity
 * @Table(name=&quot;bugs&quot;)
 */
class Bug
{
    /** @Id @Column(type=&quot;integer&quot;) @GeneratedValue(strategy=&quot;AUTO&quot;) */
    public $ID;
    /** @Column(type=&quot;string&quot;) */
    public $Title;
    /** @Column(type=&quot;string&quot;) */
    public $Description;
}

$classLoader = new \Doctrine\Common\IsolatedClassLoader('Doctrine');
$classLoader-&gt;setBasePath(__DIR__ . '/doctrine');
$classLoader-&gt;register();

$config = new \Doctrine\ORM\Configuration;

$config-&gt;setProxyDir(__DIR__ . '/Proxies');
$config-&gt;setProxyNamespace('Proxies');
$connectionOptions = array(
    'driver' =&gt; 'pdo_mysql',
    'user' =&gt; $mysqlUsername,
    'password' =&gt; $mysqlPassword,
    'host' =&gt; 'localhost',
    'dbname' =&gt; 'doctrine2benchmark'
);

$em = \Doctrine\ORM\EntityManager::create($connectionOptions, $config);

$s = microtime(true);
for ($i = 0; $i &lt; 500; ++$i) {
    $bug = new Bug;
    $bug-&gt;Title = 'BBug';
    $bug-&gt;Description = 'Hello there!';

    $em-&gt;persist($bug);
}
$em-&gt;flush();

$e = microtime(true);
echo &quot;\nInsert:&quot; . ($e - $s) . &quot;\n&quot;;

$em-&gt;clear();

$s = microtime(true);
$bugs = $em-&gt;getRepository('Bug')-&gt;findAll();
$e = microtime(true);

$em-&gt;clear();

echo &quot;\nQuery:&quot; . ($e - $s) . &quot;\n&quot;;

echo &quot;\n&quot; . (memory_get_usage() / 1024) . ' KB ' . PHP_EOL;
</code></pre>
<p>Here are my results.</p>
<a id="title.1"></a><h1>1st Run</h1>
<p>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \</p>
<p>No, I did not swap the numbers, I promise. You see that the D2
version uses about 400KB more memory but the result of the timings
are quite surprising. Being curious I ran both scripts several
times which means the query section has to hydrate 500 objects more
for each run.</p>
<a id="title.2"></a><h1>2nd Run</h1>
<p><strong>1st refresh (1000 objects)</strong></p>
<p>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \</p>
<a id="title.3"></a><h1>3rd Run</h1>
<p><strong>2nd refresh (1500 objects)</strong></p>
<p>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \</p>
<p>Did you expect these results? After all Doctrine is so bloated,
right? (Doctrine 2 full package &nbsp;250 classes) and Outlet is so
lightweight (&nbsp;9 classes)?</p>
<p>Bottom line:</p>
<ul><li class="dash"> The number of classes barely means anything. (Its probably a
   good criterion if you're short on disk space).</li>
<li class="dash"> &quot;Lightweight&quot; is a buzzword and meaningless without a reference
   point.</li>
<li class="dash"> Don't judge a library by its size and certainly dont try to draw
   conclusions from the size to the performance, or worse to the
   scalability. It just doesnt work.</li>
<li class="dash"> <em>Artificial benchmarks suck.</em></li>
<li class="dash"> To all the folks hunting for everything lightweight and
   micro-benchmarking all day long: You're wasting your time (Just
   like I did with this stupid benchmark...).</li>
<li class="dash"> Don't trust artificial benchmarks (Not even this one).</li>
</ul>

<p>PS: This is no post against Outlet, so if any Outlet guys or fans
are reading this, please don't feel offended. Since I dont know
Outlet well I'm sure I did a lot of things wrong but thats really
not important here. I am just making a stance against all the
ridiculously stupid artificial benchmarks out there that try to
make people believe Doctrine is slow and bloated. This post shows I
can make it look the other way around easily. That just shows how
meaningless these comparisons are.</p>
<blockquote><p><strong>NOTE</strong> All the code used to run these benchmarks can be
downloaded from
<a href="http://www.doctrine-project.org/downloads/doctrine2outletbenchmark.zip">here</a>.
It is a zip archive containing all the code you need to run the
benchmarks yourself.</p>
</blockquote>

        </div>

            </article>
    <article>
        <header>
            <h2><a href="https://new.doctrine-project.org/2009/11/16/doctrine-1-2-0-beta3-released">Doctrine 1.2.0 BETA3 Released</a></h2>
        </header>

        <p class="lead">
            Posted on 2009-11-16
                            by
                                    jwage
                                    </p>

        <hr />

        <div>
            <p>We're getting very close to a stable Doctrine 1.2 with the latest
BETA3 being released today. This will most likely be the last beta
release before our first release candidate next week. If everything
goes as planned we will have a stable release hopefully a little
before the end of November.</p>
<p>You can view the
<a href="http://www.doctrine-project.org/change_log/1_2_0_BETA3">change log</a>
or <a href="http://www.doctrine-project.org/download#1_2">download</a> this
release now. If you find any issues please open tickets in
<a href="http://www.doctrine-project.org/jira">Jira</a>.</p>

        </div>

            </article>

    <nav class="mt-4">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="https://new.doctrine-project.org/blog/page/54.html">Newer Posts</a></li><br />
            <li class="page-item"><a class="page-link" href="https://new.doctrine-project.org/blog/page/56.html">Older Posts</a></li>        </ul>
    </nav>
                    </main>

        <footer class="footer">
            <div class="container">
                <i class="fa fa-copyright"></i> 2018 Doctrine
            </div>
        </footer>

        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById('back-to-top').style.display = "block";
                } else {
                    document.getElementById('back-to-top').style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        </script>

        <button onclick="topFunction()" id="back-to-top" title="Go to top">Top</button>

        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

        <script src="https://new.doctrine-project.org/components/highlightjs/highlight.pack.js?9"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0"></script>

        
                    <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-288343-7', 'auto');
                ga('send', 'pageview');
            </script>
        
        
            </body>
</html>
